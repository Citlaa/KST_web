(function(t){function e(e){for(var a,s,l=e[0],n=e[1],c=e[2],d=0,p=[];d<l.length;d++)s=l[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],a=!0,l=1;l<o.length;l++){var n=o[l];0!==i[n]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=o[0]))}return t}var a={},i={app:0},r=[];function s(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=a,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(o,a,function(e){return t[e]}.bind(null,a));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],n=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=n;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"001f":function(t,e,o){"use strict";o("f93d")},"034f":function(t,e,o){"use strict";o("85ec")},"0c2e":function(t,e,o){},"0f9b":function(t,e,o){},"17d7":function(t,e,o){"use strict";o("aaca")},"1f8d":function(t,e,o){"use strict";o("6140")},3881:function(t,e,o){t.exports=o.p+"img/home.d999de4a.jpg"},4678:function(t,e,o){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=r(t);return o(e)}function r(t){if(!o.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id="4678"},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a,i=o("2b0e"),r=o("8c4f"),s=o("a7c6"),l=o.n(s),n=o("5f5b"),c=o("683f"),u=o("2f62"),d={setUser:function(t,e){t.userId=e.userId,t.didAutoLogout=!1},setAutoLogout:function(t){t.didAutoLogout=!0}},p=o("5530"),m=o("1da1"),v=(o("96cf"),o("bc3a")),f=o.n(v),g="http://castelazo.edu.mx/api/",b=g,h={login:function(t,e){return Object(m["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.abrupt("return",t.dispatch("auth",Object(p["a"])({},e)));case 1:case"end":return o.stop()}}),o)})))()},auth:function(t,e){return Object(m["a"])(regeneratorRuntime.mark((function o(){var a,i,r,s,l,n,c;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=b+"auth/usuarios",i={usuario:{email:e.email,password:e.password}},o.next=4,f.a.post(a,i);case 4:if(r=o.sent,!r.data.hayError){o.next=9;break}throw console.log(r),s=new Error(r.data.error||"No se puedo autenticar, favor de volverlo a intentar."),s;case 9:if(!(r.data.response.length<=0)){o.next=12;break}throw l=new Error(r.data.error||"El usuario o la contraseña no coincide, favor de verificarlo."),l;case 12:n=999e3,c=(new Date).getTime()+n,localStorage.setItem("userId",r.data.response[0]["019Activo"]),localStorage.setItem("tokenExpiration",c),t.commit("setUser",{userId:r.data.response[0]["019Activo"]});case 17:case"end":return o.stop()}}),o)})))()},logout:function(t){localStorage.removeItem("userId"),localStorage.removeItem("tokenExpiration"),clearTimeout(a),t.commit("setUser",{userId:null})},autoLogout:function(t){t.dispatch("logout"),t.commit("setAutoLogout")}},_={userId:function(t){return t.userId},isAuthenticated:function(t){return!!t.userId},didAutoLogout:function(t){return t.didAutoLogout}},C={state:function(){return{userId:null}},mutations:d,actions:h,getters:_};i["default"].use(u["a"]);var E=new u["a"].Store({modules:{auth:C}}),I=E,T=(o("f9e3"),o("2dd8"),o("7051"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",["Login"!=t.$route.name?o("div",{attrs:{id:"menu"}},[o("Menu")],1):t._e(),o("div",{staticStyle:{"min-height":"90vh"},attrs:{id:"app"}},[o("router-view")],1),o("div",{attrs:{id:"footer"}},[o("div",{attrs:{id:"container_footer"}},[t._v(" © "+t._s((new Date).getFullYear())+" Copyright: "),o("a",{attrs:{href:"http://castelazo.edu.mx/"}},[t._v(" castelazo.edu.mx ")])])])])])}),D=[],y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-navbar",{staticStyle:{"padding-left":"20px","padding-right":"20px"},attrs:{toggleable:"md",type:"dark"}},[o("b-navbar-brand",{attrs:{href:"#"}},[o("img",{staticClass:"align-top logo-sm",attrs:{src:t.logo.url,alt:"Instituto Castelazo"}}),o("img",{staticClass:"align-top logo-md",attrs:{src:t.logo.url,alt:"Instituto Castelazo"}})]),o("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),o("b-collapse",{staticClass:"justify-content-end",attrs:{id:"nav-collapse","is-nav":""}},[o("b-navbar-nav",[o("b-nav-item",{attrs:{to:{name:"Index"}}},[t._v("Inicio")]),o("b-nav-item-dropdown",{attrs:{text:"Administración"}},[o("b-dropdown-item",{attrs:{to:{name:"TiposDePago"}}},[t._v("Tipos de pago")]),o("b-dropdown-item",{attrs:{to:{name:"Grupos"}}},[t._v("Creación de grupos")]),o("b-dropdown-item",{attrs:{to:{name:"TiposCicloEscolar"}}},[t._v("Ciclo Escolar")]),o("b-dropdown-item",{attrs:{to:{name:"TiposDePagos"}}},[t._v("Control de pagos")]),o("b-dropdown-item",{attrs:{to:{name:"TiposDeRecargos"}}},[t._v("Tipos de recargos")])],1),o("b-nav-item-dropdown",{attrs:{text:"Alumnos"}},[o("b-dropdown-item",{attrs:{to:{name:"RegistroDeAlumnos"}}},[t._v("Registro de alumnos")]),o("b-dropdown-item",{attrs:{to:{name:""}}},[t._v("Registro de Padre/Tutor")])],1),o("b-nav-item-dropdown",{attrs:{text:"Reportes"}},[o("b-dropdown-item",{staticClass:"ms-auto",attrs:{to:{name:""}}},[t._v("Lista de grupo")]),o("b-dropdown-item",{attrs:{to:{name:""}}},[t._v("Lista de personas con aduedo")])],1),t.isLoggedIn?o("b-nav-item",{on:{click:t.logout}},[o("i",{staticClass:"fas fa-sign-out-alt"})]):t._e()],1)],1)],1)],1)},N=[],P={data:function(){return{logo:{url:o("cf05")}}},computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated}},methods:{logout:function(){this.$store.dispatch("logout"),this.$router.push({name:"Login"})}}},A=P,k=o("2877"),w=Object(k["a"])(A,y,N,!1,null,null,null),x=w.exports,M={name:"App",components:{Menu:x},setup:function(){},created:function(){},watch:{}},R=M,$=(o("034f"),Object(k["a"])(R,T,D,!1,null,null,null)),j=$.exports,G=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},S=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{position:"relative"}},[o("div",{staticClass:"fondo"}),o("dialog",{attrs:{open:""}},[o("div",{staticClass:"lds-roller"},[o("div"),o("div"),o("div")]),o("p",[t._v("Cargando...")])])])}],L=(o("77ed"),{}),F=Object(k["a"])(L,G,S,!1,null,"85805da0",null),O=F.exports,V=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"col-12"},[t.titulo?o("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),o("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.valor=e.target.multiple?o:o[0]},function(e){return t.seleccionar()}]}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar Modalidad")]),t._l(t.items,(function(e,a){return o("option",{key:a,domProps:{value:e["TipoDeModalidadId"]}},[t._v(t._s(e["Nombre"]))])}))],2)]),t.isLoading?o("cargando"):t._e()],1)},B=[],z=(o("a9e3"),o("159b"),{data:function(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoDeModalidadId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created:function(){this.getTiposDeModalidad(),this.$props.tipoDeModalidadId>0&&(this.valor=this.$props.tipoDeModalidadId)},computed:{},methods:{getTiposDeModalidad:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{activo:1}},e.next=5,f.a.post(b+"catalogo/tiposDeModalidad",o);case 5:a=e.sent,a.data.hayError?(console.log(a),t.$alert("No se pudo obtener información, favor de volverlo a intentar.")):a.data.response.length>0&&a.data.response.forEach((function(e){t.items.push({TipoDeModalidadId:e["004TipoModalidadId"],Nombre:e["004Nombre"],Activo:e["004Activo"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},seleccionar:function(){this.$emit(this.$props.funcion,this.valor)}}}),q=z,U=Object(k["a"])(q,V,B,!1,null,null,null),Y=U.exports,J=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"col-12"},[t.titulo?o("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),o("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.valor=e.target.multiple?o:o[0]},function(e){return t.seleccionar()}]}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar Ciclo Escolar")]),t._l(t.items,(function(e,a){return o("option",{key:a,domProps:{value:e["TipoDeCicloEscolarId"]}},[t._v(t._s(e["AñoDeInicio"])+" - "+t._s(e["AñoDeTermino"]))])}))],2)]),t.isLoading?o("cargando"):t._e()],1)},H=[],Q=(o("4de4"),{emits:["seleccionarCicloEscolar"],data:function(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoDeCicloEscolarId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean,actual:{type:Boolean,default:!1}},created:function(){this.getTiposDeCicloEscolar(),this.$props.tipoDeCicloEscolarId>0&&(this.valor=this.$props.tipoDeCicloEscolarId)},computed:{},methods:{getTiposDeCicloEscolar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{activo:1}},e.next=5,f.a.post(b+"administracion/tiposDeCicloEscolarCatalogo",o);case 5:a=e.sent,a.data.hayError?(console.log(a),t.$alert("No se pudo obtener información, favor de volverlo a intentar.")):a.data.response.length>0&&a.data.response.forEach((function(e){t.items.push({TipoDeCicloEscolarId:e["002TipoDeCicloEscolarId"],"AñoDeInicio":e["002AñoDeInicio"],"AñoDeTermino":e["002AñoDeTermino"],Activo:e["002Activo"]})})),t.isLoading=!1,t.$props.actual>0&&t.seleccionarActual(),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},seleccionar:function(){this.valor>0?this.$emit(this.$props.funcion,this.valor):this.$emit(this.$props.funcion,null)},seleccionarActual:function(){var t=(new Date).getFullYear(),e=this.items.filter((function(e){return e.AñoDeInicio==t||e.AñoDeTermino==t}));this.valor=e[e.length-1].TipoDeCicloEscolarId,this.seleccionar()}}}),K=Q,W=Object(k["a"])(K,J,H,!1,null,null,null),X=W.exports,Z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"col-12"},[t.titulo?o("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),o("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.valor=e.target.multiple?o:o[0]},function(e){return t.seleccionar()}]}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar Grupo")]),t._l(t.items,(function(e,a){return o("option",{key:a,domProps:{value:e["TipoGrupoId"]}},[t._v(t._s(e["Nombre"]))])}))],2)]),t.isLoading?o("cargando"):t._e()],1)},tt=[],et={data:function(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoDeGrupoId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created:function(){this.getTiposDeGrupo(),this.$props.tipoDeGrupoId>0&&(this.valor=this.$props.tipoDeGrupoId)},computed:{},methods:{getTiposDeGrupo:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{activo:1}},e.next=5,f.a.post(b+"catalogo/tiposDeGrupo",o);case 5:a=e.sent,a.data.hayError?(console.log(a),t.$alert("No se pudo obtener información, favor de volverlo a intentar.")):a.data.response.length>0&&a.data.response.forEach((function(e){t.items.push({TipoGrupoId:e["006TipoDeGrupoId"],Nombre:e["006Nombre"],Activo:e["006Activo"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},seleccionar:function(){this.$emit(this.$props.funcion,this.valor)}}},ot=et,at=Object(k["a"])(ot,Z,tt,!1,null,null,null),it=at.exports,rt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"col-12"},[t.titulo?o("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),o("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.valor=e.target.multiple?o:o[0]},function(e){return t.seleccionar()}]}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar Nivel")]),t._l(t.items,(function(e,a){return o("option",{key:a,domProps:{value:e["TipoNivelId"]}},[t._v(t._s(e["Nombre"]))])}))],2)]),t.isLoading?o("cargando"):t._e()],1)},st=[],lt={data:function(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoNivelId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created:function(){this.getTiposNivel(),this.$props.tipoNivelId>0&&(this.valor=this.$props.tipoNivelId)},computed:{},methods:{getTiposNivel:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{activo:1}},e.next=5,f.a.post(b+"catalogo/tiposNivel",o);case 5:a=e.sent,a.data.hayError?(console.log(a),t.$alert("No se pudo obtener información, favor de volverlo a intentar.")):a.data.response.length>0&&a.data.response.forEach((function(e){t.items.push({TipoNivelId:e["007TiposNivelId"],Nombre:e["007Nombre"],Activo:e["007Activo"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},seleccionar:function(){this.$emit(this.$props.funcion,this.valor)}}},nt=lt,ct=Object(k["a"])(nt,rt,st,!1,null,null,null),ut=ct.exports,dt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"col-12"},[t.titulo?o("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),o("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.valor=e.target.multiple?o:o[0]},function(e){return t.seleccionar()}]}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar Periodo")]),t._l(t.items,(function(e,a){return o("option",{key:a,domProps:{value:e["TipoPeriodoId"]}},[t._v(t._s(e["Nombre"]))])}))],2)]),t.isLoading?o("cargando"):t._e()],1)},pt=[],mt={data:function(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoPeriodoId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created:function(){this.getTiposPeriodo(),this.$props.tipoPeriodoId>0&&(this.valor=this.$props.tipoPeriodoId)},computed:{},methods:{getTiposPeriodo:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{activo:1}},e.next=5,f.a.post(b+"catalogo/tiposPeriodo",o);case 5:a=e.sent,a.data.hayError?(console.log(a),t.$alert("No se pudo obtener información, favor de volverlo a intentar.")):a.data.response.length>0&&a.data.response.forEach((function(e){t.items.push({TipoPeriodoId:e["005TipoPeriodoId"],Nombre:e["005Nombre"],Activo:e["005Activo"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},seleccionar:function(){this.$emit(this.$props.funcion,this.valor)}}},vt=mt,ft=Object(k["a"])(vt,dt,pt,!1,null,null,null),gt=ft.exports,bt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"col-12"},[t.titulo?o("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),o("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.valor=e.target.multiple?o:o[0]},function(e){return t.seleccionar()}]}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar Grado")]),t._l(t.items,(function(e,a){return o("option",{key:a,domProps:{value:e["TipoGradoId"]}},[t._v(t._s(e["Nombre"]))])}))],2)]),t.isLoading?o("cargando"):t._e()],1)},ht=[],_t={data:function(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoDeGradoId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created:function(){this.getTiposDeGrado(),this.$props.tipoDeGradoId>0&&(this.valor=this.$props.tipoDeGradoId)},computed:{},methods:{getTiposDeGrado:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{activo:1}},e.next=5,f.a.post(b+"catalogo/tiposGrado",o);case 5:a=e.sent,a.data.hayError?(console.log(a),t.$alert("No se pudo obtener información, favor de volverlo a intentar.")):a.data.response.length>0&&a.data.response.forEach((function(e){t.items.push({TipoGradoId:e["008TipoGradoId"],Nombre:e["008Nombre"],Activo:e["008Activo"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},seleccionar:function(){this.$emit(this.$props.funcion,this.valor)}}},Ct=_t,Et=Object(k["a"])(Ct,bt,ht,!1,null,null,null),It=Et.exports,Tt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"col-12"},[t.titulo?o("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),o("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.valor=e.target.multiple?o:o[0]},function(e){return t.seleccionar()}]}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar Especialidad")]),t._l(t.items,(function(e,a){return o("option",{key:a,domProps:{value:e["TipoEspecialidadId"]}},[t._v(t._s(e["Nombre"]))])}))],2)]),t.isLoading?o("cargando"):t._e()],1)},Dt=[],yt={data:function(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,TipoEspecialidadId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created:function(){this.getEspecialidades(),this.$props.TipoEspecialidadId>0&&(this.valor=this.$props.TipoEspecialidadId)},computed:{},methods:{getEspecialidades:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{activo:1}},e.next=5,f.a.post(b+"catalogo/especialidades",o);case 5:a=e.sent,a.data.hayError?(console.log(a),t.$alert("No se pudo obtener información, favor de volverlo a intentar.")):a.data.response.length>0&&a.data.response.forEach((function(e){t.items.push({TipoEspecialidadId:e["009TipoEspecialidadId"],Nombre:e["009Nombre"],Activo:e["009Activo"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},seleccionar:function(){this.$emit(this.$props.funcion,this.valor)}}},Nt=yt,Pt=Object(k["a"])(Nt,Tt,Dt,!1,null,null,null),At=Pt.exports,kt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"col-12"},[t.titulo?o("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),o("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.valor=e.target.multiple?o:o[0]},function(e){return t.seleccionar()}]}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar Periodo")]),t._l(t.items,(function(e,a){return o("option",{key:a,domProps:{value:e["UsuarioId"]}},[t._v(t._s(e["Nombre"]))])}))],2)]),t.isLoading?o("cargando"):t._e()],1)},wt=[],xt={data:function(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,usuarioId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created:function(){this.getUsuarios(),this.$props.usuarioId>0&&(this.valor=this.$props.usuarioId)},computed:{},methods:{getUsuarios:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={usuario:{activo:1}},e.next=5,f.a.post(b+"auth/usuarios",o);case 5:a=e.sent,a.data.hayError?(console.log(a),t.$alert("No se pudo obtener información, favor de volverlo a intentar.")):a.data.response.length>0&&a.data.response.forEach((function(e){t.items.push({UsuarioId:e["019UsuarioId"],Nombre:e["019Nombre"]+" "+e["019ApellidoPaterno"]+" "+e["019ApellidoMaterno"],Activo:e["005Activo"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},seleccionar:function(){this.$emit(this.$props.funcion,this.valor)}}},Mt=xt,Rt=Object(k["a"])(Mt,kt,wt,!1,null,null,null),$t=Rt.exports,jt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("teleport",{attrs:{to:"body"}},[t.show?o("div",{staticClass:"backdrop",on:{click:t.tryClose}}):t._e(),o("transition",{attrs:{name:"dialog"}},[t.show?o("dialog",{attrs:{open:""}},[o("header",[t._t("header",(function(){return[o("h2",[t._v(t._s(t.title))])]}))],2),o("section",[t._t("default")],2),t.fixed?t._e():o("menu",[t._t("actions",(function(){return[o("base-button",{on:{click:t.tryClose}},[t._v("Cerrar")])]}))],2)]):t._e()])],1)},Gt=[],St=(o("c7cd"),{props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1}},emits:["close"],methods:{tryClose:function(){this.fixed||this.$emit("close")}}}),Lt=St,Ft=(o("6d4c"),Object(k["a"])(Lt,jt,Gt,!1,null,"1293904e",null)),Ot=Ft.exports,Vt=(o("99af"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container is-max-desktop"},[t._m(0),o("div",{staticClass:"col-12 row filtros_div",attrs:{id:"filtros_div"}},[o("div",{staticClass:"col-12 filtro_titulo"},[o("div",{staticClass:"row"},[t._m(1),o("div",{key:t.mostrarFiltros,staticClass:"col-2",on:{click:function(e){t.mostrarFiltros=!t.mostrarFiltros}}},[t.mostrarFiltros?t._e():o("i",{staticClass:"fas fa-angle-down",staticStyle:{float:"right"}}),t.mostrarFiltros?o("i",{staticClass:"fas fa-angle-up",staticStyle:{float:"right"}}):t._e()])])]),t.mostrarFiltros?o("div",{staticClass:"col-12 row"},[o("div",{staticClass:"col-3"},[o("label",[t._v("Concepto")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro_nombre,expression:"filtro_nombre"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Indicar Concepto"},domProps:{value:t.filtro_nombre},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getTiposDePago.apply(null,arguments)},input:function(e){e.target.composing||(t.filtro_nombre=e.target.value)}}})]),o("div",{staticClass:"col-3"},[o("label",[t._v("Cantidad")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro_monto,expression:"filtro_monto"}],staticClass:"form-control",attrs:{type:"number",min:"0",placeholder:"Indicar Cantidad"},domProps:{value:t.filtro_monto},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getTiposDePago.apply(null,arguments)},input:function(e){e.target.composing||(t.filtro_monto=e.target.value)}}})]),o("div",{staticClass:"col-3"},[o("tiposCicloEscolar",{key:t.filtro_cicloEscolar_key,attrs:{label:"Ciclo escolar",titulo:!0,funcion:"seleccionarCicloEscolar"},on:{seleccionarCicloEscolar:function(e){return t.seleccionarCicloEscolar(e)}}})],1),o("div",{staticClass:"col-3"},[o("label",{staticClass:"activo_label"},[t._v("Activo")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.filtro_activo,expression:"filtro_activo"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filtro_activo=e.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar Activo")]),o("option",{attrs:{value:"1"}},[t._v("Si")]),o("option",{attrs:{value:"0"}},[t._v("No")])])])]):t._e(),t.mostrarFiltros?o("div",{staticClass:"filtro_footer"},[o("button",{staticClass:"button is-default btn-sm mr-1",on:{click:function(e){return t.limpiarFiltros()}}},[t._v(" Mostrar Todo ")]),o("button",{staticClass:"button is-primary btn-sm",on:{click:function(e){return t.getTiposDePago()}}},[t._v(" Buscar ")])]):t._e()]),o("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"100px"}},[o("button",{staticClass:"button is-primary mt-5 mb-1 align-left",on:{click:function(e){return t.abrirModal("Agregar",{})}}},[o("i",{staticClass:"fas fa-plus"}),t._v("  Agregar Tipo de pago ")]),o("br"),t.items.length<=0?o("div",{staticClass:"row col-12",staticStyle:{display:"grid","justify-content":"center"}},[o("p",[t._v("No se encontraron registros")])]):o("div",{attrs:{id:"bootstrap_table"}},[o("div",{staticClass:"col-3 mr-0 align-rigth"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Buscar"},domProps:{value:t.filter},on:{blur:function(e){t.currentPage=1},input:function(e){e.target.composing||(t.filter=e.target.value)}}})]),o("b-table",{attrs:{striped:"",hover:"",outlined:"",items:t.items,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,filter:t.filter},scopedSlots:t._u([{key:"cell(Activo)",fn:function(t){return[1==t.item.Activo?o("button",{key:t.item.TipoDePagoId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[o("i",{staticClass:"far fa-check-square",staticStyle:{color:"green"}})]):o("button",{key:t.item.TipoDePagoId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]}},{key:"cell(opciones)",fn:function(e){return[o("button",{staticClass:"button is-info is-small",attrs:{value:"Editar",title:"Editar"},on:{click:function(o){return t.abrirModal("Editar",e.item)}}},[o("i",{staticClass:"far fa-edit"})]),o("button",{staticClass:"button is-danger is-small",attrs:{disabled:0==e.item.Activo,value:"Eliminar",title:"Cancelar"},on:{click:function(o){return t.cancelar(e.item)}}},[o("i",{staticClass:"fas fa-ban"})])]}}])}),o("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)]),t.mostrarModal?o("div",{staticClass:"modal_div",attrs:{id:"modal_div"}},[o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-dialog"},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-header"},[o("div",{staticClass:"col-11"},[o("h2",{staticClass:"modal-title text-center"},[t._v(" "+t._s(t.titutoModal)+" Tipo de pago ")]),o("div",{staticClass:"line_red"})]),o("a",{staticClass:"button close_modal",on:{click:function(e){t.mostrarModal=!1}}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Concepto")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.item.Nombre,expression:"item.Nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.item.Nombre},on:{keypress:function(e){return t.BuscarExistente(e)},dropdown:function(e){return t.BuscarExistente(e)},input:function(e){e.target.composing||t.$set(t.item,"Nombre",e.target.value)}}})]),o("div",{staticClass:"col-4"},[o("tipos-ciclo-escolar",{attrs:{label:"Ciclo escolar",titulo:!0,tipoDeCicloEscolarId:t.item?t.item.TipoDeCicloEscolar.TipoDeCicloEscolarId:-1,funcion:"seleccionarCicloEscolar"},on:{seleccionarCicloEscolar:function(e){return t.seleccionarCicloEscolarItem(e)}}})],1),o("div",{staticClass:"col-2 form-group padding-model"},[o("label",[t._v("Cantidad")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.item.Monto,expression:"item.Monto"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.item.Monto},on:{input:function(e){e.target.composing||t.$set(t.item,"Monto",e.target.value)}}})]),o("div",{staticClass:"col-2 padding-model"},[o("label",[t._v("Activo")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.item.Activo,expression:"item.Activo"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.item,"Activo",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"1"}},[t._v("Si")]),o("option",{attrs:{value:"0"}},[t._v("No")])])])])]),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(e){return t.guardarTipoDePago()}}},[t._v(" Guardar ")]),o("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.mostrarModal=!1}}},[t._v(" Cancelar ")])])])])])])])],1):t._e(),t.isLoading?o("cargando"):t._e()],1)}),Bt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-12",attrs:{id:"Titulo"}},[o("h1",{staticClass:"titulo_azul"},[t._v("Tipos de pago")]),o("div",{staticClass:"line_red"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-10"},[o("h1",{staticClass:"col-10"},[t._v("Favor de indicar filtros")])])}],zt=(o("7db0"),o("caad"),o("2532"),o("ac1f"),o("1276"),{data:function(){return{isLoading:!1,isValid:!0,ciclosEscolares:[],items:[],item:{Nombre:"",Monto:0,TipoDeCicloEscolar:{TipoDeCicloEscolarId:-1},Activo:"-1"},fields:[{key:"TipoDePagoId",label:"Folio",sortable:!0},{key:"Nombre",label:"Concepto",sortable:!0},{key:"Monto",min:"0",label:"Cantidad",sortable:!0},{key:"TipoDeCicloEscolar.Nombre",label:"Ciclo Escolar",sortable:!0},{label:"Activo",key:"Activo",sortable:!0},{label:"Opciones",key:"opciones"}],filter:"",perPage:5,currentPage:1,mostrarModal:!1,titutoModal:"",mostrarFiltros:!0,filtro_nombre:"",filtro_monto:"",filtro_cicloEscolar:"",filtro_cicloEscolar_key:0,filtro_activo:"-1"}},created:function(){this.getTipoDeCicloEscolar(),this.getTiposDePago()},computed:{rows:function(){return this.items.length}},methods:{BuscarExistente:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:console.log(t.target.value),t==e.ciclosEscolares.value&&console.log("El concepto ya existe");case 2:case"end":return o.stop()}}),o)})))()},getTipoDeCicloEscolar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{}},e.next=5,f.a.post(b+"administracion/tiposDeCicloEscolarCatalogo",o);case 5:a=e.sent,a.data.hayError?(console.log(a),t.$alert("No se pudo obtener información, favor de volverlo a intentar.")):a.data.response.length>0&&a.data.response.forEach((function(e){t.ciclosEscolares.push({TipoDeCicloEscolarId:e["002TipoDeCicloEscolarId"],Nombre:e["002AñoDeInicio"]+" - "+e["002AñoDeTermino"],Activo:e["002Activo"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},getTiposDePago:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,t.limpiarVariables(),o={filtro:{}},""!=t.filtro_nombre&&(o.filtro.nombre=t.filtro_nombre),""!=t.filtro_monto&&(o.filtro.monto=Number(t.filtro_monto)),""!=t.filtro_cicloEscolar&&(o.filtro.cicloEscolarId=Number(t.filtro_cicloEscolar)),""!=t.filtro_activo&&Number(t.filtro_activo)>=0&&(o.filtro.activo=Number(t.filtro_activo)),e.next=10,f.a.post(b+"administracion/tiposDePago",o);case 10:a=e.sent,a.data.hayError?t.$alert("No se pudo obtener información, favor de volverlo a intentar."):a.data.response.length>0&&a.data.response.forEach(function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=t.items,e.t1=o["001TipoDePagoId"],e.t2=o["001Nombre"],e.t3="$"+o["001Monto"],e.next=6,t.findCicloEscolar(o);case 6:e.t4=e.sent,e.t5=o["001Activo"],e.t6={TipoDePagoId:e.t1,Nombre:e.t2,Monto:e.t3,TipoDeCicloEscolar:e.t4,Activo:e.t5},e.t0.push.call(e.t0,e.t6);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.isLoading=!1,e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))()},findCicloEscolar:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function o(){var a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=e.ciclosEscolares.find((function(e){return e.TipoDeCicloEscolarId===Number(t["002TipoDeCicloEscolarId"])})),o.abrupt("return",a);case 2:case"end":return o.stop()}}),o)})))()},seleccionarCicloEscolar:function(t){this.filtro_cicloEscolar=t},seleccionarCicloEscolarItem:function(t){this.item.TipoDeCicloEscolar.TipoDeCicloEscolarId=Number(t)},abrirModal:function(t,e){this.titutoModal=t,this.item=e,e.TipoDePagoId>0?this.item.Monto=this.item.Monto.includes("$")?this.item.Monto.split("$")[1]:this.item.Monto:this.item.TipoDeCicloEscolar={TipoDeCicloEscolarId:-1},this.mostrarModal=!this.mostrarModal},guardarTipoDePago:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.item.TipoDePagoId>0?t.editarTipoDePago():t.agregarTipoDePago();case 1:case"end":return e.stop()}}),e)})))()},validar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isValid=!0,(t.$store.getters.userId<=0||void 0==t.$store.getters.userId)&&t.$router.push({name:"Login"}),(""==t.item.Nombre||void 0==t.item.Monto||Number(t.item.Monto)<=0||Number(t.item.TipoDeCicloEscolar.TipoDeCicloEscolarId)<=0||void 0==t.item.Activo||Number(t.item.Activo)<=0)&&(t.$alert("Favor de completar datos."),t.isValid=!1),e.abrupt("return",t.isValid);case 4:case"end":return e.stop()}}),e)})))()},agregarTipoDePago:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.validar();case 3:if(!e.sent){e.next=11;break}return t.isLoading=!0,o={tipoDePago:{TipoDePagoId:null,Nombre:t.item.Nombre,Monto:Number(t.item.Monto),TipoDeCicloEscolarId:Number(t.item.TipoDeCicloEscolar.TipoDeCicloEscolarId),UsuarioId:t.$store.getters.userId,Activo:Number(t.item.Activo)}},e.next=8,f.a.post(b+"administracion/guardarTiposDePago",o);case 8:a=e.sent,t.isLoading=!1,a.data.hayError?(console.log(a),t.$alert("No se pudo guardar, favor de volverlo a intentar.")):(t.mostrarModal=!1,t.$alert("El tipo de pago se guardó con éxito."),t.limpiarVariables(),t.getTiposDePago());case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},editarTipoDePago:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={tipoDePago:{TipoDePagoId:t.item.TipoDePagoId,Nombre:t.item.Nombre,Monto:Number(t.item.Monto),TipoDeCicloEscolarId:Number(t.item.TipoDeCicloEscolar.TipoDeCicloEscolarId),Activo:Number(t.item.Activo)}},e.next=5,f.a.post(b+"administracion/editarTiposDePago",o);case 5:a=e.sent,t.isLoading=!1,a.data.hayError?(console.log(a),t.$alert("No se pudo guardar, favor de volverlo a intentar.")):(t.mostrarModal=!1,t.$alert("El tipo de pago se guardó con éxito."),t.getTiposDePago()),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},cancelar:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function o(){var a,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,e.isLoading=!0,a={tipoDePago:{TipoDePagoId:t.TipoDePagoId,Activo:Number(0)}},o.next=5,f.a.post(b+"administracion/cancelarTiposDePago",a);case 5:i=o.sent,e.isLoading=!1,i.data.hayError?(console.log(i),e.$alert("No se pudo cancelar, favor de volverlo a intentar.")):(e.$alert("El tipo de pago se canceló correctamente."),e.getTiposDePago()),o.next=13;break;case 10:o.prev=10,o.t0=o["catch"](0),console.log(o.t0);case 13:case"end":return o.stop()}}),o,null,[[0,10]])})))()},limpiarVariables:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.items=[],t.item={Nombre:"",Monto:0,TipoDeCicloEscolar:{TipoDeCicloEscolarId:-1},Activo:"-1"};case 2:case"end":return e.stop()}}),e)})))()},limpiarFiltros:function(){this.filtro_nombre="",this.filtro_monto="",this.filtro_cicloEscolar="",this.filtro_cicloEscolar_key++,this.filtro_activo="-1",this.getTiposDePago()}}}),qt=zt,Ut=Object(k["a"])(qt,Vt,Bt,!1,null,null,null),Yt=Ut.exports,Jt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container is-max-desktop"},[t._m(0),o("div",{staticClass:"col-12 row filtros_div",attrs:{id:"filtros_div"}},[o("div",{staticClass:"col-12 filtro_titulo"},[o("div",{staticClass:"row"},[t._m(1),o("div",{key:t.mostrarFiltros,staticClass:"col-2",on:{click:function(e){t.mostrarFiltros=!t.mostrarFiltros}}},[t.mostrarFiltros?t._e():o("i",{staticClass:"fas fa-angle-down",staticStyle:{float:"right"}}),t.mostrarFiltros?o("i",{staticClass:"fas fa-angle-up",staticStyle:{float:"right"}}):t._e()])])]),t.mostrarFiltros?o("div",{staticClass:"col-12 row"},[o("div",{staticClass:"col-4"},[o("label",[t._v("Año de inicio")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro_añoDeInicio,expression:"filtro_añoDeInicio"}],staticClass:"form-control",attrs:{type:"number",min:"0"},domProps:{value:t.filtro_añoDeInicio},on:{input:function(e){e.target.composing||(t.filtro_añoDeInicio=e.target.value)}}})]),o("div",{staticClass:"col-4"},[o("label",[t._v("Año de termino")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro_añoDeTermino,expression:"filtro_añoDeTermino"}],staticClass:"form-control",attrs:{type:"number",min:"0"},domProps:{value:t.filtro_añoDeTermino},on:{input:function(e){e.target.composing||(t.filtro_añoDeTermino=e.target.value)}}})]),o("div",{staticClass:"col-4"},[o("label",{staticClass:"activo_label"},[t._v("Activo")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.filtro_activo,expression:"filtro_activo"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filtro_activo=e.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar Activo")]),o("option",{attrs:{value:"1"}},[t._v("Si")]),o("option",{attrs:{value:"0"}},[t._v("No")])])])]):t._e(),t.mostrarFiltros?o("div",{staticClass:"filtro_footer"},[o("button",{staticClass:"button is-default btn-sm mr-1",on:{click:function(e){return t.limpiarFiltros()}}},[t._v(" Mostrar Todo ")]),o("button",{staticClass:"button is-primary btn-sm",on:{click:function(e){return t.getTiposDeCicloEscolar()}}},[t._v(" Buscar ")])]):t._e()]),o("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"100px"}},[o("button",{staticClass:"button is-primary mt-5 mb-1 align-left",on:{click:function(e){return t.abrirModal("Agregar",{})}}},[o("i",{staticClass:"fas fa-plus"}),t._v("  Agregar ciclo escolar ")]),o("br"),t.items.length<=0?o("div",{staticClass:"row col-12",staticStyle:{display:"grid","justify-content":"center"}},[o("p",[t._v("No se encontraron registros")])]):o("div",{attrs:{id:"bootstrap_table"}},[o("div",{staticClass:"col-3 mr-0 align-rigth"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Buscar"},domProps:{value:t.filter},on:{blur:function(e){t.currentPage=1},input:function(e){e.target.composing||(t.filter=e.target.value)}}})]),o("b-table",{attrs:{striped:"",hover:"",outlined:"",items:t.items,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,filter:t.filter},scopedSlots:t._u([{key:"cell(Activo)",fn:function(t){return[1==t.item.Activo?o("button",{key:t.item.TipoDeCicloEscolarId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[o("i",{staticClass:"far fa-check-square",staticStyle:{color:"green"}})]):o("button",{key:t.item.TipoDeCicloEscolarId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]}},{key:"cell(opciones)",fn:function(e){return[o("button",{staticClass:"button is-info is-small",attrs:{value:"Editar",title:"Editar"},on:{click:function(o){return t.abrirModal("Editar",e.item)}}},[o("i",{staticClass:"far fa-edit"})]),o("button",{staticClass:"button is-danger is-small",attrs:{disabled:0==e.item.Activo,value:"Eliminar",title:"Cancelar"},on:{click:function(o){return t.cancelar(e.item)}}},[o("i",{staticClass:"fas fa-ban"})])]}}])}),o("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)]),t.mostrarModal?o("div",{staticClass:"modal_div",attrs:{id:"modal_div"}},[o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-dialog"},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-header"},[o("div",{staticClass:"col-11"},[o("h2",{staticClass:"modal-title text-center"},[t._v(" "+t._s(t.titutoModal)+" Ciclo Escolar ")]),o("div",{staticClass:"line_red"})]),o("a",{staticClass:"button close_modal",on:{click:function(e){t.mostrarModal=!1}}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-5 form-group padding-model"},[o("label",[t._v("Año de inicio")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.item.AñoDeInicio,expression:"item.AñoDeInicio"}],staticClass:"form-control",attrs:{type:"number",min:"0"},domProps:{value:t.item.AñoDeInicio},on:{input:function(e){e.target.composing||t.$set(t.item,"AñoDeInicio",e.target.value)}}})]),o("div",{staticClass:"col-5 form-group padding-model"},[o("label",[t._v("Año de termino")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.item.AñoDeTermino,expression:"item.AñoDeTermino"}],staticClass:"form-control",attrs:{type:"number",min:"0"},domProps:{value:t.item.AñoDeTermino},on:{input:function(e){e.target.composing||t.$set(t.item,"AñoDeTermino",e.target.value)}}})]),o("div",{staticClass:"col-2 padding-model"},[o("label",[t._v("Activo")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.item.Activo,expression:"item.Activo"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.item,"Activo",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"1"}},[t._v("Si")]),o("option",{attrs:{value:"0"}},[t._v("No")])])])])]),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(e){return t.guardarTipoDeCicloEscolar()}}},[t._v(" Guardar ")]),o("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.mostrarModal=!1}}},[t._v(" Cancelar ")])])])])])])])],1):t._e(),t.isLoading?o("cargando"):t._e()],1)},Ht=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-12",attrs:{id:"Titulo"}},[o("h1",{staticClass:"titulo_azul"},[t._v("Ciclo Escolar")]),o("div",{staticClass:"line_red"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-10"},[o("h1",{staticClass:"col-10"},[t._v("Favor de indicar filtros")])])}],Qt={name:"TiposDeCicloEscolar",data:function(){return{isLoading:!1,isValid:!0,items:[],item:{"AñoDeInicio":Number,"AñoDeTermino":Number,Activo:Boolean},fields:[{key:"TipoDeCicloEscolarId",label:"Folio",sortable:!0},{key:"AñoDeInicio",sortable:!0},{key:"AñoDeTermino",sortable:!0},{label:"Activo",key:"Activo"},{label:"Opciones",key:"opciones"}],filter:"",perPage:5,currentPage:1,mostrarModal:!1,titutoModal:"",mostrarFiltros:!0,"filtro_añoDeInicio":(new Date).getFullYear()-5,"filtro_añoDeTermino":(new Date).getFullYear(),filtro_activo:"-1"}},created:function(){this.getTiposDeCicloEscolar()},computed:{rows:function(){return this.items.length}},methods:{getTiposDeCicloEscolar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,t.limpiarVariables(),o={filtro:{}},""!=t.filtro_añoDeInicio&&(o.filtro.inicio=Number(t.filtro_añoDeInicio)),""!=t.filtro_añoDeTermino&&(o.filtro.fin=Number(t.filtro_añoDeTermino)),""!=t.filtro_activo&&Number(t.filtro_activo)>0&&(o.filtro.activo=Number(t.filtro_activo)),e.next=9,f.a.post(b+"administracion/tiposDeCicloEscolar",o);case 9:a=e.sent,a.data.hayError?(console.log(a),t.$alert("No se pudo obtener información, favor de volverlo a intentar.")):a.data.response.length>0&&a.data.response.forEach((function(e){t.items.push({TipoDeCicloEscolarId:e["002TipoDeCicloEscolarId"],"AñoDeInicio":e["002AñoDeInicio"],"AñoDeTermino":e["002AñoDeTermino"],Activo:e["002Activo"]})})),t.isLoading=!1,e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()},abrirModal:function(t,e){this.titutoModal=t,this.item=e,this.mostrarModal=!this.mostrarModal},guardarTipoDeCicloEscolar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.item.TipoDeCicloEscolarId>0?t.editarTipoDeCicloEscolar():t.agregarTipoDeCicloEscolar();case 1:case"end":return e.stop()}}),e)})))()},validar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isValid=!0,(t.$store.getters.userId<=0||void 0==t.$store.getters.userId)&&(t.isValid=!1,t.$router.push({name:"Login"})),void 0!=t.item.AñoDeTermino&&void 0!=t.item.AñoDeInicio&&void 0!=t.item.Activo||(t.$alert("Favor de completar datos."),t.isValid=!1),t.item.AñoDeTermino<=t.item.AñoDeInicio&&(t.$alert("El año de Termino no puede ser anterior o igual al año de inicio"),t.isValid=!1),e.abrupt("return",t.isValid);case 5:case"end":return e.stop()}}),e)})))()},agregarTipoDeCicloEscolar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.validar();case 3:if(!t.isValid){e.next=12;break}return t.isLoading=!0,o={tipoDeCicloEscolar:{TipoDeCicloEscolarId:null,Inicio:Number(t.item.AñoDeInicio),Termino:Number(t.item.AñoDeTermino),UsuarioId:t.$store.getters.userId,Activo:Number(t.item.Activo)}},e.next=8,f.a.post(b+"administracion/guardarTiposDeCicloEscolar",o);case 8:a=e.sent,t.mostrarModal=!1,t.isLoading=!1,a.data.hayError?(console.log(a),t.$alert("No se pudo guardar, favor de volverlo a intentar.")):(t.$alert("El ciclo escolar se guardó con éxito."),t.getTiposDeCicloEscolar());case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()},editarTipoDeCicloEscolar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={tipoDeCicloEscolar:{TipoDeCicloEscolarId:t.item.TipoDeCicloEscolarId,Inicio:Number(t.item.AñoDeInicio),Termino:Number(t.item.AñoDeTermino),Activo:Number(t.item.Activo)}},e.next=5,f.a.post(b+"administracion/editarTiposDeCicloEscolar",o);case 5:a=e.sent,t.mostrarModal=!1,t.isLoading=!1,a.data.hayError?(console.log(a),t.$alert("No se pudo guardar, favor de volverlo a intentar.")):(t.$alert("El ciclo escolar se guardó con éxito."),t.getTiposDeCicloEscolar()),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},cancelar:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function o(){var a,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,e.isLoading=!0,a={tipoDeCicloEscolar:{TipoDeCicloEscolarId:t.TipoDeCicloEscolarId,Activo:Number(0)}},o.next=5,f.a.post(b+"administracion/cancelarTiposDeCicloEscolar",a);case 5:i=o.sent,e.isLoading=!1,i.data.hayError?(console.log(i),e.$alert("No se pudo cancelar, favor de volverlo a intentar.")):(e.$alert("El ciclo escolar se canceló correctamente."),e.getTiposDeCicloEscolar()),o.next=13;break;case 10:o.prev=10,o.t0=o["catch"](0),console.log(o.t0);case 13:case"end":return o.stop()}}),o,null,[[0,10]])})))()},limpiarVariables:function(){this.items=[]},limpiarFiltros:function(){this.filtro_añoDeInicio="",this.filtro_añoDeTermino="",this.filtro_activo="-1",this.getTiposDeCicloEscolar()}}},Kt=Qt,Wt=(o("8304"),Object(k["a"])(Kt,Jt,Ht,!1,null,null,null)),Xt=Wt.exports,Zt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container is-max-desktop"},[t._m(0),o("section",{attrs:{id:"filtros"}},[o("div",{staticClass:"col-12 row filtros_div",attrs:{id:"filtros_div"}},[o("div",{staticClass:"col-12 filtro_titulo"},[o("div",{staticClass:"row"},[t._m(1),o("div",{key:t.mostrarFiltros,staticClass:"col-2",on:{click:function(e){t.mostrarFiltros=!t.mostrarFiltros}}},[t.mostrarFiltros?t._e():o("i",{staticClass:"fas fa-angle-down",staticStyle:{float:"right"}}),t.mostrarFiltros?o("i",{staticClass:"fas fa-angle-up",staticStyle:{float:"right"}}):t._e()])])]),t.mostrarFiltros?o("div",{staticClass:"col-12 row"},[o("div",{staticClass:"col-3"},[o("label",[t._v("Concepto")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro_nombre,expression:"filtro_nombre"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Indicar Concepto"},domProps:{value:t.filtro_nombre},on:{input:function(e){e.target.composing||(t.filtro_nombre=e.target.value)}}})]),o("div",{staticClass:"col-3"},[o("label",[t._v("Cantidad")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro_monto,expression:"filtro_monto"}],staticClass:"form-control",attrs:{type:"number",min:"0",placeholder:"Indicar Cantidad"},domProps:{value:t.filtro_monto},on:{input:function(e){e.target.composing||(t.filtro_monto=e.target.value)}}})]),o("div",{staticClass:"col-3"},[o("tiposCicloEscolar",{key:t.filtro_cicloEscolar_key,attrs:{label:"Ciclo escolar",titulo:!0,funcion:"seleccionarCicloEscolar"},on:{seleccionarCicloEscolar:function(e){return t.seleccionarCicloEscolar(e)}}})],1),o("div",{staticClass:"col-3"},[o("label",{staticClass:"activo_label"},[t._v("Activo")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.filtro_activo,expression:"filtro_activo"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filtro_activo=e.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar Activo")]),o("option",{attrs:{value:"1"}},[t._v("Si")]),o("option",{attrs:{value:"0"}},[t._v("No")])])])]):t._e(),t.mostrarFiltros?o("div",{staticClass:"filtro_footer"},[o("button",{staticClass:"button is-default btn-sm mr-1",on:{click:function(e){return t.limpiarFiltros()}}},[t._v(" Mostrar todo ")]),o("button",{staticClass:"button is-primary btn-sm",on:{click:function(e){return t.getTiposDeRecargo()}}},[t._v(" Buscar ")])]):t._e()])]),o("section",{attrs:{id:"data_table"}},[o("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"100px"}},[o("button",{staticClass:"button is-primary mt-5 mb-1 align-left",on:{click:function(e){return t.abrirModal("Agregar",{})}}},[o("i",{staticClass:"fas fa-plus"}),t._v("  Agregar tipo de recargo ")]),o("br"),t.items.length<=0?o("div",{staticClass:"row col-12",staticStyle:{display:"grid","justify-content":"center"}},[o("p",[t._v("No se encontraron registros")])]):o("div",{attrs:{id:"bootstrap_table"}},[o("div",{staticClass:"col-3 mr-0 align-rigth"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Buscar"},domProps:{value:t.filter},on:{blur:function(e){t.currentPage=1},input:function(e){e.target.composing||(t.filter=e.target.value)}}})]),o("b-table",{attrs:{striped:"",hover:"",outlined:"",items:t.items,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,filter:t.filter},scopedSlots:t._u([{key:"cell(Activo)",fn:function(t){return[1==t.item.Activo?o("button",{key:t.item.TipoDeRecargoId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[o("i",{staticClass:"far fa-check-square",staticStyle:{color:"green"}})]):o("button",{key:t.item.TipoDeRecargoId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]}},{key:"cell(opciones)",fn:function(e){return[o("button",{staticClass:"button is-info is-small",attrs:{value:"Editar",title:"Editar"},on:{click:function(o){return t.abrirModal("Editar",e.item)}}},[o("i",{staticClass:"far fa-edit"})]),o("button",{staticClass:"button is-danger is-small",attrs:{disabled:0==e.item.Activo,value:"Eliminar",title:"Cancelar"},on:{click:function(o){return t.cancelar(e.item)}}},[o("i",{staticClass:"fas fa-ban"})])]}}])}),o("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])]),o("section",{attrs:{id:"modal"}},[t.mostrarModal?o("div",{staticClass:"modal_div",attrs:{id:"modal_div"}},[o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-dialog"},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-header"},[o("div",{staticClass:"col-11"},[o("h2",{staticClass:"modal-title text-center"},[t._v(" "+t._s(t.titutoModal)+" Tipo de Recargo ")]),o("div",{staticClass:"line_red"})]),o("a",{staticClass:"button close_modal",on:{click:function(e){t.mostrarModal=!1}}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Nombre")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.item.Nombre,expression:"item.Nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.item.Nombre},on:{input:function(e){e.target.composing||t.$set(t.item,"Nombre",e.target.value)}}})]),o("div",{staticClass:"col-4"},[o("TiposCicloEscolar",{attrs:{label:"Ciclo escolar",titulo:!0,tipoDeCicloEscolarId:t.item.TipoDeCicloEscolar.TipoDeCicloEscolarId,funcion:"seleccionarCicloEscolar"},on:{seleccionarCicloEscolar:function(e){return t.seleccionarCicloEscolarItem(e)}}})],1),o("div",{staticClass:"col-2 form-group padding-model"},[o("label",[t._v("Monto")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.item.Monto,expression:"item.Monto"}],staticClass:"form-control",attrs:{type:"number",min:"0"},domProps:{value:t.item.Monto},on:{input:function(e){e.target.composing||t.$set(t.item,"Monto",e.target.value)}}})]),o("div",{staticClass:"col-2 padding-model"},[o("label",[t._v("Activo")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.item.Activo,expression:"item.Activo"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.item,"Activo",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"1"}},[t._v("Si")]),o("option",{attrs:{value:"0"}},[t._v("No")])])])])]),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(e){return t.guardarTipoDeRecargo()}}},[t._v(" Guardar ")]),o("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.mostrarModal=!1}}},[t._v(" Cancelar ")])])])])])])])],1):t._e()]),t.isLoading?o("cargando"):t._e()],1)},te=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-12",attrs:{id:"Titulo"}},[o("h1",{staticClass:"titulo_azul"},[t._v("Tipos de Recargo")]),o("div",{staticClass:"line_red"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-10"},[o("h1",{staticClass:"col-10"},[t._v("Favor de indicar filtros")])])}],ee={name:"ProductList",data:function(){return{isLoading:!1,isValid:!0,ciclosEscolares:[],items:[],item:{Nombre:String,Monto:Number,TipoDeCicloEscolar:{TipoDeCicloEscolarId:-1},Activo:Boolean},fields:[{key:"TipoDeRecargoId",label:"Folio",sortable:!0,value:"1"},{key:"Nombre",label:"Concepto",sortable:!0},{key:"Monto",label:"Cantidad",sortable:!0,min:"0"},{key:"TipoDeCicloEscolar.Nombre",label:"Ciclo Escolar",sortable:!0},{label:"Activo",key:"Activo",sortable:!0},{label:"Opciones",key:"opciones"}],filter:"",perPage:5,currentPage:1,mostrarModal:!1,titutoModal:"",mostrarFiltros:!0,filtro_nombre:"",filtro_monto:"",filtro_cicloEscolar:"",filtro_cicloEscolar_key:0,filtro_activo:"-1"}},created:function(){this.getTipoDeCicloEscolar(),this.getTiposDeRecargo()},computed:{rows:function(){return this.items.length}},methods:{getTipoDeCicloEscolar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{}},e.next=5,f.a.post(b+"administracion/tiposDeCicloEscolarCatalogo",o);case 5:a=e.sent,a.data.hayError?(console.log(a),t.$alert("No se pudo obtener información, favor de volverlo a intentar.")):a.data.response.length>0&&a.data.response.forEach((function(e){t.ciclosEscolares.push({TipoDeCicloEscolarId:e["002TipoDeCicloEscolarId"],Nombre:e["002AñoDeInicio"]+"-"+e["002AñoDeTermino"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},getTiposDeRecargo:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,t.limpiarVariables(),o={filtro:{}},""!=t.filtro_nombre&&(o.filtro.nombre=t.filtro_nombre),""!=t.filtro_monto&&(o.filtro.monto=Number(t.filtro_monto)),""!=t.filtro_cicloEscolar&&(o.filtro.cicloEscolarId=Number(t.filtro_cicloEscolar)),""!=t.filtro_activo&&Number(t.filtro_activo)>=0&&(o.filtro.activo=Number(t.filtro_activo)),e.next=10,f.a.post(b+"administracion/tiposDeRecargo",o);case 10:a=e.sent,a.data.hayError?t.$alert("No se pudo obtener información, favor de volverlo a intentar."):a.data.response.length>0&&a.data.response.forEach((function(e){t.items.push({TipoDeRecargoId:e["003TipoDeRecargoId"],Nombre:e["003Nombre"],Monto:"$"+e["003Monto"],TipoDeCicloEscolar:t.ciclosEscolares.find((function(t){return t.TipoDeCicloEscolarId===Number(e["002TipoDeCicloEscolarId"])})),Activo:e["003Activo"]})})),t.isLoading=!1,e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))()},seleccionarCicloEscolar:function(t){this.filtro_cicloEscolar=t},seleccionarCicloEscolarItem:function(t){this.item.TipoDeCicloEscolar.TipoDeCicloEscolarId=Number(t)},abrirModal:function(t,e){this.titutoModal=t,this.item=e,console.log(this.item),this.item.TipoDeRecargoId>0?this.item.Monto=this.item.Monto.split("$")[1]:this.item.TipoDeCicloEscolar={TipoDeCicloEscolarId:-1},this.mostrarModal=!this.mostrarModal},guardarTipoDeRecargo:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.item.TipoDeRecargoId>0?t.editarTipoDeRecargo():t.agregarTipoDeRecago();case 1:case"end":return e.stop()}}),e)})))()},validar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isValid=!0,(t.$store.getters.userId<=0||void 0==t.$store.getters.userId)&&t.$router.push({name:"Login"}),(""==t.item.Nombre||void 0==t.item.Monto||Number(t.item.Monto)<=0||Number(t.item.TipoDeCicloEscolar.TipoDeCicloEscolarId)<=0||void 0==t.item.Activo||Number(t.item.Activo)<=0)&&(t.$alert("Favor de completar datos."),t.isValid=!1),e.abrupt("return",t.isValid);case 4:case"end":return e.stop()}}),e)})))()},agregarTipoDeRecago:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.validar();case 3:if(!t.isValid){e.next=11;break}return t.isLoading=!0,o={tipoDeRecargo:{TipoDeRecargoId:null,Nombre:t.item.Nombre,Monto:Number(t.item.Monto),TipoDeCicloEscolarId:Number(t.item.TipoDeCicloEscolar.TipoDeCicloEscolarId),UsuarioId:t.$store.getters.userId,Activo:Number(t.item.Activo)}},e.next=8,f.a.post(b+"administracion/guardarTiposDeRecargo",o);case 8:a=e.sent,t.isLoading=!1,a.data.hayError?(console.log(a),t.$alert("No se pudo guardar, favor de volverlo a intentar.")):(t.mostrarModal=!1,t.$alert("El recargo se guardó con éxito."),t.getTiposDeRecargo());case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},editarTipoDeRecargo:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={tipoDeRecargo:{TipoDeRecargoId:t.item.TipoDeRecargoId,Nombre:t.item.Nombre,Monto:Number(t.item.Monto),TipoDeCicloEscolarId:Number(t.item.TipoDeCicloEscolar.TipoDeCicloEscolarId),Activo:Number(t.item.Activo)}},e.next=5,f.a.post(b+"administracion/editarTiposDeRecargo",o);case 5:a=e.sent,t.mostrarModal=!1,t.isLoading=!1,a.data.hayError?(console.log(a),t.$alert("No se pudo guardar, favor de volverlo a intentar.")):(t.$alert("El recargo se guardó con éxito."),t.getTiposDeRecargo()),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},cancelar:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function o(){var a,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,e.isLoading=!0,a={tipoDeRecargo:{TipoDeRecargoId:t.TipoDeRecargoId,Activo:Number(0)}},o.next=5,f.a.post(b+"administracion/cancelarTiposDeRecargos",a);case 5:i=o.sent,e.isLoading=!1,i.data.hayError?(console.log(i),e.$alert("Alert Message.")):(e.$alert("El recargo se canceló correctamente."),e.getTiposDeRecargo()),o.next=13;break;case 10:o.prev=10,o.t0=o["catch"](0),console.log(o.t0);case 13:case"end":return o.stop()}}),o,null,[[0,10]])})))()},limpiarVariables:function(){this.items=[]},limpiarFiltros:function(){this.filtro_nombre="",this.filtro_monto="",this.filtro_cicloEscolar="",this.filtro_cicloEscolar_key++,this.filtro_activo="-1",this.getTiposDeRecargo()}}},oe=ee,ae=Object(k["a"])(oe,Zt,te,!1,null,null,null),ie=ae.exports,re=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container is-max-desktop"},[t._m(0),o("section",{attrs:{id:"filtro"}},[o("div",{staticClass:"col-12 row filtros_div",attrs:{id:"filtros_div"}},[o("div",{staticClass:"col-12 filtro_titulo"},[o("div",{staticClass:"row"},[t._m(1),o("div",{key:t.mostrarFiltros,staticClass:"col-2",on:{click:function(e){t.mostrarFiltros=!t.mostrarFiltros}}},[t.mostrarFiltros?t._e():o("i",{staticClass:"fas fa-angle-down",staticStyle:{float:"right"}}),t.mostrarFiltros?o("i",{staticClass:"fas fa-angle-up",staticStyle:{float:"right"}}):t._e()])])]),t.mostrarFiltros?o("div",{staticClass:"col-12 row"},[o("div",{staticClass:"col-4"},[o("label",[t._v("Nombre")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_nombre,expression:"filtros.filtro_nombre"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtros.filtro_nombre},on:{input:function(e){e.target.composing||t.$set(t.filtros,"filtro_nombre",e.target.value)}}})]),o("div",{staticClass:"col-4"},[o("label",[t._v("Apellido Paterno")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_apellidoPaterno,expression:"filtros.filtro_apellidoPaterno"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtros.filtro_apellidoPaterno},on:{input:function(e){e.target.composing||t.$set(t.filtros,"filtro_apellidoPaterno",e.target.value)}}})]),o("div",{staticClass:"col-4"},[o("label",[t._v("Apellido Materno")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_apellidoMaterno,expression:"filtros.filtro_apellidoMaterno"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtros.filtro_apellidoMaterno},on:{input:function(e){e.target.composing||t.$set(t.filtros,"filtro_apellidoMaterno",e.target.value)}}})]),o("div",{staticClass:"col-4"},[o("label",[t._v("CURP")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_curp,expression:"filtros.filtro_curp"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtros.filtro_curp},on:{input:function(e){e.target.composing||t.$set(t.filtros,"filtro_curp",e.target.value)}}})]),o("div",{staticClass:"col-4"},[o("label",[t._v("Número de control")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_numeroDeControl,expression:"filtros.filtro_numeroDeControl"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.filtros.filtro_numeroDeControl},on:{input:function(e){e.target.composing||t.$set(t.filtros,"filtro_numeroDeControl",e.target.value)}}})]),o("div",{staticClass:"col-4"},[o("label",{staticClass:"activo_label"},[t._v("Activo")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_activo,expression:"filtros.filtro_activo"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filtros,"filtro_activo",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar Activo")]),o("option",{attrs:{value:"1"}},[t._v("Si")]),o("option",{attrs:{value:"0"}},[t._v("No")])])])]):t._e(),t.mostrarFiltros?o("div",{staticClass:"filtro_footer"},[o("button",{staticClass:"button is-default btn-sm mr-1",on:{click:function(e){return t.limpiarFiltros()}}},[t._v(" Borrar ")]),o("button",{staticClass:"button is-primary btn-sm",on:{click:function(e){return t.getAlumnoConPagos()}}},[t._v(" Buscar ")])]):t._e()])]),o("br"),t.mostrarAlumno?o("section",{attrs:{id:"data_alumnos"}},[o("div",{staticClass:"row col-12 seccion_data"},[t._m(2),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Nombre")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.alumno_item.Nombre,expression:"alumno_item.Nombre"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:t.alumno_item.Nombre},on:{input:function(e){e.target.composing||t.$set(t.alumno_item,"Nombre",e.target.value)}}})]),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Apellido Paterno")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.alumno_item.ApellidoPaterno,expression:"alumno_item.ApellidoPaterno"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:t.alumno_item.ApellidoPaterno},on:{input:function(e){e.target.composing||t.$set(t.alumno_item,"ApellidoPaterno",e.target.value)}}})]),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Apellido Materno")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.alumno_item.ApellidoMaterno,expression:"alumno_item.ApellidoMaterno"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:t.alumno_item.ApellidoMaterno},on:{input:function(e){e.target.composing||t.$set(t.alumno_item,"ApellidoMaterno",e.target.value)}}})]),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("CURP")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.alumno_item.Curp,expression:"alumno_item.Curp"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:t.alumno_item.Curp},on:{input:function(e){e.target.composing||t.$set(t.alumno_item,"Curp",e.target.value)}}})]),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Número de control")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.alumno_item.NumeroDeControl,expression:"alumno_item.NumeroDeControl"}],staticClass:"form-control",attrs:{type:"number",disabled:!0},domProps:{value:t.alumno_item.NumeroDeControl},on:{input:function(e){e.target.composing||t.$set(t.alumno_item,"NumeroDeControl",e.target.value)}}})]),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Grupo")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.alumno_item.Grupo,expression:"alumno_item.Grupo"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:t.alumno_item.Grupo},on:{input:function(e){e.target.composing||t.$set(t.alumno_item,"Grupo",e.target.value)}}})]),t._m(3),o("div",{attrs:{id:"table_pagos"}},[o("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"100px"}},[o("button",{staticClass:"button is-primary mt-5 mb-1 align-left",on:{click:function(e){return t.abrirModal("Agregar",!0)}}},[o("i",{staticClass:"fas fa-plus"}),t._v("  Agregar pago ")]),o("br"),t.pagos_items.length<=0?o("div",{staticClass:"row col-12",staticStyle:{display:"grid","justify-content":"center"}},[o("p",[t._v("No se encontraron pagos")])]):o("div",{attrs:{id:"bootstrap_table"}},[o("div",{staticClass:"col-3 mr-0 align-rigth"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Buscar"},domProps:{value:t.filter},on:{blur:function(e){t.currentPage=1},input:function(e){e.target.composing||(t.filter=e.target.value)}}})]),o("b-table",{attrs:{striped:"",hover:"",outlined:"",items:t.pagos_items,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,filter:t.filter},scopedSlots:t._u([{key:"cell(Activo)",fn:function(t){return[1==t.item.Activo?o("button",{key:t.item.PagoId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[o("i",{staticClass:"far fa-check-square",staticStyle:{color:"green"}})]):o("button",{key:t.item.PagoId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]}},{key:"cell(opciones)",fn:function(e){return[o("button",{staticClass:"button is-default is-small",attrs:{value:"Detalles",title:"Ver Detalles"},on:{click:function(o){return t.abrirModal("Ver",!1,e.item)}}},[o("i",{staticClass:"far fa-eye"})]),o("button",{staticClass:"button is-info is-small",attrs:{value:"Editar",title:"Editar"},on:{click:function(o){return t.abrirModal("Editar",!0,e.item)}}},[o("i",{staticClass:"far fa-edit"})]),o("button",{staticClass:"button is-danger is-small",attrs:{disabled:0==e.item.Activo,value:"Eliminar",title:"Cancelar"},on:{click:function(o){return t.cancelar(e.item)}}},[o("i",{staticClass:"fas fa-ban"})])]}}],null,!1,2474091331)}),o("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])]):t._e(),o("section",{attrs:{id:"modal"}},[t.mostrarModal?o("div",{staticClass:"modal_div",attrs:{id:"modal_div"}},[o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-dialog modal-xl"},[o("div",{staticClass:"modal-content modal-xl"},[o("div",{staticClass:"modal-header"},[o("div",{staticClass:"col-11"},[o("h2",{staticClass:"modal-title text-center"},[t._v(" "+t._s(t.titutoModal)+" tipo de pago ")]),o("div",{staticClass:"line_red"})]),o("a",{staticClass:"button close_modal",on:{click:function(e){t.mostrarModal=!1}}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"row"},[o("section",{attrs:{id:"data_alumnos"}},[o("div",{staticClass:"row"}),o("div",{staticClass:"row seccion_modal"},[o("div",{staticClass:"col-3 form-group padding-model"},[o("tipos-pago",{key:t.pago_item.TipoDePago.key,attrs:{titulo:!0,label:"Tipo de pago*",disabled:!t.inhabilitar,tipoDePagoId:t.pago_item.TipoDePago.val.TipoDePagoId,TipoDeCicloEscolarId:t.pago_item.TipoDePago.tipoDeCicloEscolar>0?t.pago_item.TipoDePago.tipoDeCicloEscolar:null,funcion:"seleccionarTipoDePago"},on:{seleccionarTipoDePago:function(e){return t.seleccionarTipoDePago(e)}}}),t.pago_item.TipoDePago.isValid?t._e():o("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar tipo de pago "),o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])],1),o("div",{staticClass:"col-3 form-group padding-model"},[o("label",[t._v("Cantidad*")]),o("div",{staticClass:"input-group mb-3"},[o("div",{staticClass:"input-group-prepend"},[o("span",{staticClass:"input-group-text"},[t._v("$")])]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.cantidadTipoPago,expression:"cantidadTipoPago"}],staticClass:"form-control",attrs:{type:"text",disabled:!t.inhabilitar},domProps:{value:t.cantidadTipoPago},on:{blur:function(e){return t.limpiarValidez("TipoDePago")},input:function(e){e.target.composing||(t.cantidadTipoPago=e.target.value)}}}),o("div",{staticClass:"input-group-append"},[o("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",disabled:!t.inhabilitar},on:{click:function(e){return t.actualizarCantidadTotal()}}},[o("i",{staticClass:"fas fa-redo"})])]),t.pago_item.TipoDePago.isValid?t._e():o("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar cantidad "),o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])])]),o("div",{staticClass:"col-3"},[o("TiposCicloEscolar",{key:t.pago_item.CicloEscolar.key,attrs:{titulo:!0,label:"Ciclo Escolar*",actual:!0,disabled:!t.inhabilitar,tipoDeCicloEscolarId:t.pago_item?t.pago_item.CicloEscolar.val:-1,funcion:"seleccionarCicloEscolar"},on:{seleccionarCicloEscolar:function(e){return t.seleccionarCicloEscolar(e)}}}),t.pago_item.CicloEscolar.isValid?t._e():o("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar ciclo escolar "),o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])],1),o("div",{staticClass:"col-3 form-group padding-model"},[o("label",[t._v("Fecha de pago*")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.pago_item.FechaDePago.val,expression:"pago_item.FechaDePago.val"}],staticClass:"form-control",attrs:{type:"date",disabled:!t.inhabilitar},domProps:{value:t.pago_item.FechaDePago.val},on:{input:function(e){e.target.composing||t.$set(t.pago_item.FechaDePago,"val",e.target.value)}}})])])]),o("section",[o("div",{staticClass:"row seccion_modal"},[o("div",{staticClass:"col-12 seccion_titulo_modal"},[o("h3",[t._v("Recargos")])]),o("div",{staticClass:"col-4 form-group padding-model"},[o("tipos-recargos",{key:t.recargo_item.TipoRecargo.val.TipoDeRecargoId,attrs:{label:"Recargo",titulo:!0,disabled:!t.inhabilitar,tipoDeRecargoId:t.pago_item?t.recargo_item.TipoRecargo.val.TipoDeRecargoId:-1,funcion:"seleccionarTipoDeRecargo"},on:{seleccionarTipoDeRecargo:function(e){return t.seleccionarTipoDeRecargo(e)}}})],1),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Monto*")]),o("input",{key:t.recargo_item.Monto.val,staticClass:"form-control",attrs:{type:"text",disabled:t.mostrarEditarRecargo.desabledMonto||!t.inhabilitar},domProps:{value:t.currencyFormat(t.recargo_item.Monto.val)}})]),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Fecha límite*")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.recargo_item.Fecha.val,expression:"recargo_item.Fecha.val"}],staticClass:"form-control",attrs:{type:"date",disabled:!t.inhabilitar},domProps:{value:t.recargo_item.Fecha.val},on:{input:function(e){e.target.composing||t.$set(t.recargo_item.Fecha,"val",e.target.value)}}})]),t.mostrarEditarRecargo.displayBtn?o("div",{staticClass:"modal-footer",staticStyle:{border:"0px"}},[o("button",{directives:[{name:"show",rawName:"v-show",value:t.mostrarEditarRecargo.displayRecargoBtn,expression:"mostrarEditarRecargo.displayRecargoBtn"}],staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.mostrarEditarRecargo.quienAutoriza=!0}}},[t._v(" Editar recargo ")]),o("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:t.agregarRecargo}},[t._v(" Agregar recargo ")])]):t._e(),t.mostrarEditarRecargo.quienAutoriza?o("div",{staticClass:"col-12 form-group padding-model"},[o("usuarios",{key:t.recargo_item.Autoriza.val,attrs:{label:"Quien autoriza*",titulo:!0,usuarioId:t.recargo_item.Autoriza.val,disabled:!t.inhabilitar,funcion:"seleccionarTipoDeRecargo"},on:{seleccionarTipoDeRecargo:function(e){return t.seleccionarUsuario(e)}}})],1):t._e(),o("section",{attrs:{id:"data_table"}},[o("br"),o("div",{staticClass:"col-12 form-group padding-model"},[o("table",{staticClass:"table"},[o("thead",[o("tr",[o("th",[t._v("Concepto")]),o("th",[t._v("Cantidad")]),o("th",[t._v("Días de retraso")]),o("th",[t._v("Total a pagar")]),o("th")])]),o("tbody",[t._l(t.itemsRecargo,(function(e){return o("tr",{key:e.Id},[o("td",[t._v(t._s(e.TipoRecargo.Nombre))]),o("td",[t._v(t._s(t.currencyFormat(e.Monto)))]),o("td",[t._v(t._s(e.DiasRetraso))]),o("td",[t._v("$"+t._s(e.TotalAPagar))]),o("td",[o("button",{directives:[{name:"show",rawName:"v-show",value:t.inhabilitar,expression:"inhabilitar"}],staticClass:"btn btn-default",on:{click:function(o){return t.eliminarRecargo(e)}}},[o("i",{staticClass:"fas fa-trash-alt"})])])])})),o("tr",[o("td",[t._v("Pago")]),o("td",[t._v("$"+t._s(t.currencyFormat(this.pago_item.TipoDePago.val.Monto)))]),o("td",[t._v(t._s())]),o("td",[t._v("$"+t._s(t.currencyFormat(this.pago_item.TipoDePago.val.Monto)))]),o("td")])],2)])])]),o("section",{attrs:{id:"data_total"}},[o("br"),o("div",{staticClass:"col-12 seccion_total_modal"},[o("label",[t._v("Total")]),o("label",{staticStyle:{float:"right"}},[t._v("$"+t._s(t.currencyFormat(t.pago_item.Cantidad.val)))])])])])])])]),o("div",{staticClass:"modal-footer"},[t.inhabilitar?o("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(e){return t.guardarPago()}}},[t._v(" Guardar ")]):t._e(),t.inhabilitar?o("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.mostrarModal=!1}}},[t._v(" Cancelar ")]):t._e(),t.inhabilitar?t._e():o("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.mostrarModal=!1}}},[t._v(" Cerrar ")])])])])])])])],1):t._e()]),t.isLoading?o("cargando"):t._e(),o("base-dialog",{attrs:{show:!!t.error,title:"Log in"},on:{close:t.handleError}},[o("p",[t._v(t._s(t.error))])])],1)},se=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-12",attrs:{id:"Titulo"}},[o("h1",{staticClass:"titulo_azul"},[t._v("Control de pagos")]),o("div",{staticClass:"line_red"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-10"},[o("h1",{staticClass:"col-10"},[t._v("Favor de indicar filtros")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-12 seccion_titulo_first"},[o("h3",[t._v("Datos del alumno")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-12 seccion_titulo"},[o("h1",[t._v("Historial de pagos")])])}],le=(o("5319"),o("fb6a"),o("d3b7"),o("25f0"),o("a434"),o("b65f"),{EstatusGeneral:{Activo:1,Inactivo:0},TipoEstatusAlumno:{Activo:1}}),ne=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"col-12"},[t.titulo?o("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),o("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.valor=e.target.multiple?o:o[0]},function(e){return t.seleccionar()}]}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar tipo de pago")]),t._l(t.items,(function(e,a){return o("option",{key:a,domProps:{value:e["TipoDePagoId"]}},[t._v(t._s(e["Nombre"]))])}))],2)]),t.isLoading?o("cargando"):t._e()],1)},ce=[],ue={emits:["seleccionarTipoDePago"],data:function(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoDePagoId:Number,TipoDeCicloEscolarId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created:function(){this.getTiposDePago(),this.$props.tipoDePagoId>0&&(this.valor=this.$props.tipoDePagoId)},computed:{},methods:{getTiposDePago:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{activo:1}},e.next=5,f.a.post(b+"administracion/tiposDePago",o);case 5:a=e.sent,a.data.hayError?(console.log(a),t.$alert("No se pudo obtener información, favor de volverlo a intentar.")):a.data.response.length>0&&(a.data.response.forEach((function(e){t.items.push({TipoDePagoId:e["001TipoDePagoId"],Nombre:e["001Nombre"],Monto:Number(e["001Monto"]),TipoDeCicloEscolarId:Number(e["002TipoDeCicloEscolarId"]),Activo:e["001Activo"]})})),t.$props.TipoDeCicloEscolarId>0&&(t.items=t.items.filter((function(e){return e.TipoDeCicloEscolarId==t.$props.TipoDeCicloEscolarId})))),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},seleccionar:function(){var t=this,e=this.items.find((function(e){return e.TipoDePagoId===t.valor}));this.valor>0?this.$emit(this.$props.funcion,{id:this.valor,monto:e.Monto}):this.$emit(this.$props.funcion,null)}}},de=ue,pe=Object(k["a"])(de,ne,ce,!1,null,null,null),me=pe.exports,ve=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"col-12"},[t.titulo?o("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),o("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.valor=e.target.multiple?o:o[0]},function(e){return t.seleccionar()}]}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar recargo")]),t._l(t.items,(function(e,a){return o("option",{key:a,domProps:{value:e["TipoDeRecargoId"]}},[t._v(t._s(e["Nombre"]))])}))],2)]),t.isLoading?o("cargando"):t._e()],1)},fe=[],ge={emits:["seleccionarTipoDeRecargo"],data:function(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoDeRecargoId:Number,TipoDeCicloEscolarId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created:function(){this.getTiposDeRecargo(),this.$props.tipoDeRecargoId>0&&(this.valor=this.$props.tipoDeRecargoId)},computed:{},methods:{getTiposDeRecargo:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{activo:1}},e.next=5,f.a.post(b+"administracion/tiposDeRecargo",o);case 5:a=e.sent,a.data.hayError?(console.log(a),t.$alert("No se pudo obtener información, favor de volverlo a intentar.")):a.data.response.length>0&&(a.data.response.forEach((function(e){t.items.push({TipoDeRecargoId:e["003TipoDeRecargoId"],Nombre:e["003Nombre"],Monto:"$"+e["003Monto"],TipoDeCicloEscolarId:Number(e["003TipoDeCicloEscolarId"]),Activo:e["003Activo"]})})),t.$props.TipoDeCicloEscolarId>0&&(t.items=t.items.filter((function(e){return e.TipoDeCicloEscolarId==t.$props.TipoDeCicloEscolarId})))),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},seleccionar:function(){var t=this,e=this.items.find((function(e){return e.TipoDeRecargoId===t.valor}));this.valor>0?this.$emit(this.$props.funcion,{TipoDeRecargoId:this.valor,Nombre:e.Nombre,Monto:e.Monto}):this.$emit(this.$props.funcion,null)}}},be=ge,he=Object(k["a"])(be,ve,fe,!1,null,null,null),_e=he.exports,Ce=o("c1df"),Ee=o.n(Ce),Ie={components:{TiposCicloEscolar:X,TiposPago:me,TiposRecargos:_e},data:function(){return{isLoading:!1,error:null,mostrarFiltros:!0,mostrarModal:!1,mostrarEditarRecargo:{displayRecargoBtn:!0,displayBtn:!1,quienAutoriza:!1,desabledMonto:!0},titutoModal:"",filtros:{filtro_nombre:"",filtro_apellidoPaterno:"",filtro_apellidoMaterno:"",filtro_curp:"",filtro_numeroDeControl:"",filtro_activo:"-1"},inhabilitar:!0,perPage:5,currentPage:1,pagos_items:[],filter:"",itemsRecargo:[],fields:[{key:"PagoId",label:"Folio",sortable:!0},{key:"TipoDePago",label:"Tipo de pago",sortable:!0},{key:"Monto",label:"Cantidad",sortable:!0},{key:"FechaPago",label:"Fecha de pago",sortable:!0},{label:"Opciones",key:"opciones"}],alumno_item:{AlumnoId:"",Nombre:"",ApellidoPaterno:"",ApellidoMaterno:"",Curp:"",Genero:"",NumeroDeControl:0,Grupo:""},pago_item:{FechaDePago:{val:Ee()().format("yyyy-MM-DD"),isValid:!0},CicloEscolar:{val:null,isValid:!0,key:""},PagoId:{val:null,isValid:!0},TipoDePago:{key:"",val:{TipoDePagoId:0,Monto:0},isValid:!0,tipoDeCicloEscolar:-1},Cantidad:{val:0,isValid:!0},Recargos:[]},recargo_item:{TipoRecargo:{val:{TipoDeRecargoId:0},isValid:!0},Monto:{val:0,isValid:!0},Fecha:{val:Ee()(Ee()().add(1,"M").month()+"-5-"+Ee()().year()).format("yyyy-MM-DD"),isValid:!0},Autoriza:{val:null,isValid:!0},TotalAPagar:0,DiasRetraso:0},indexRecargos:0,cantidadTipoPago:0,newCantidadTipoPago:0,mostrarAlumno:!1}},computed:{rows:function(){return this.pagos_items.length}},watch:{cantidadTipoPago:function(t){this.newCantidadTipoPago=t}},created:function(){},methods:{actualizarCantidadTotal:function(){this.pago_item.Cantidad.val-=this.pago_item.TipoDePago.val.Monto,this.pago_item.Cantidad.val+=Number(this.newCantidadTipoPago),this.pago_item.TipoDePago.val.Monto=this.newCantidadTipoPago},guardarPago:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.actualizarCantidadTotal(),t.validarPago(),t.itemIsValid?(t.pago_item.Recargos=t.itemsRecargo,t.pago_item.PagoId&&t.pago_item.PagoId.val>0?t.editarPago():t.agregarPago()):t.$alert("Favor de completar los datos.");case 3:case"end":return e.stop()}}),e)})))()},validarPago:function(){this.itemIsValid=!0,(this.$store.getters.userId<=0||void 0==this.$store.getters.userId)&&this.$router.push({name:"Login"}),this.pago_item.TipoDePago.val.TipoDePagoId<=0&&(this.pago_item.TipoDePago.isValid=!1,this.itemIsValid=!1),(this.pago_item.TipoDePago.val.Monto<=0||""==this.pago_item.TipoDePago.val.Monto)&&(this.pago_item.TipoDePago.isValid=!1,this.itemIsValid=!1),(this.pago_item.CicloEscolar.val<=0||null==this.pago_item.TipoDePago.val.Monto)&&(this.pago_item.CicloEscolar.isValid=!1,this.itemIsValid=!1),this.pago_item.Cantidad.val<=0&&(this.itemIsValid=!1)},editarPago:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o={pago:{PagoId:t.pago_item.PagoId.val,FechaPago:t.pago_item.FechaDePago.val,Monto:t.pago_item.Cantidad.val,TipoDePagoId:t.pago_item.TipoDePago.val.TipoDePagoId,FechaRegistro:(new Date).toISOString().slice(0,19).replace("T"," "),Activo:le.EstatusGeneral.Activo}},e.prev=1,t.isLoading=!0,e.next=5,f.a.post(b+"administracion/editarPago",o);case 5:a=e.sent,t.isLoading=!1,a.data.hayError?(console.log(a),t.$alert("No se pudo guardar, favor de volverlo a intentar.")):(t.mostrarModal=!1,console.log("El pago se editó con éxito."),t.pago_item.Recargos.length>0&&t.guardarRecargos(t.pago_item.PagoId.val)),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()},guardarRecargos:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function o(){var a,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,a={pagoId:t},o.next=4,f.a.post(b+"administracion/eliminarRecargosDelPago",a);case 4:if(i=o.sent,i.data.hayError){o.next=9;break}console.log("Los recargos se eliminaron con éxito."),o.next=12;break;case 9:return console.log(i),e.$alert("Los recargos no se pudieron eliminar, favor de volverlo a intentar."),o.abrupt("return");case 12:e.pago_item.Recargos.forEach(function(){var o=Object(m["a"])(regeneratorRuntime.mark((function o(a){var i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:i={recargo:{PagoId:t,Monto:"string"==typeof a.Monto?Number(a.Monto.split("$")[1]):a.Monto,TipoDeRecargoId:a.TipoRecargo.Id,DiasRetraso:a.DiasRetraso,TotalAPagar:a.TotalAPagar,UsuarioId_Autoriza:a.UsuarioId_Autoriza,UsuarioId:e.$store.getters.userId,Activo:le.EstatusGeneral.Activo}},e.agregarRecargoBD(i);case 2:case"end":return o.stop()}}),o)})));return function(t){return o.apply(this,arguments)}}()),o.next=18;break;case 15:o.prev=15,o.t0=o["catch"](0),console.log(o.t0);case 18:case"end":return o.stop()}}),o,null,[[0,15]])})))()},agregarPago:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o={pago:{FechaPago:t.pago_item.FechaDePago.val,Monto:t.pago_item.Cantidad.val,TipoDePagoId:t.pago_item.TipoDePago.val.TipoDePagoId,FechaRegistro:(new Date).toISOString().slice(0,19).replace("T"," "),AlumnoId:t.alumno_item.AlumnoId,UsuarioId:t.$store.getters.userId,Activo:le.EstatusGeneral.Activo}},e.prev=1,t.isLoading=!0,e.next=5,f.a.post(b+"administracion/agregarPago",o);case 5:a=e.sent,a.data.hayError?(console.log(a),t.$alert("No se pudo guardar, favor de volverlo a intentar.")):(t.mostrarModal=!1,console.log("El pago se guardó con éxito."),t.pago_item.Recargos.length>0?t.guardarRecargos(a.data.response.insertId):(t.$alert("El pago se guardó con éxito."),t.getAlumnoConPagos())),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()},agregarRecargoBD:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function o(){var a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,f.a.post(b+"administracion/agregarRecargo",t);case 3:if(a=o.sent,a.data.hayError){o.next=10;break}console.log("El recargo se guardó con éxito."),e.$alert("El pago y recargo(s) se guardaron con éxito."),e.getAlumnoConPagos(),o.next=13;break;case 10:return console.log(a),e.$alert("El recargo no se pudo agregar, favor de volverlo a intentar."),o.abrupt("return");case 13:o.next=18;break;case 15:o.prev=15,o.t0=o["catch"](0),console.log(o.t0);case 18:case"end":return o.stop()}}),o,null,[[0,15]])})))()},currencyFormat:function(t){return t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},eliminarRecargo:function(t){var e=this.itemsRecargo.indexOf(this.itemsRecargo.find((function(e){return e.Id===t.Id})));this.pago_item.Cantidad.val-=Number(t.Monto.split("$")[1]),this.itemsRecargo.splice(e,1)},agregarRecargo:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.calcularTotal();case 2:t.mostrarEditarRecargo.quienAutoriza=!0,t.itemsRecargo.push({Id:t.indexRecargos,TipoRecargo:{Id:t.recargo_item.TipoRecargo.val.TipoDeRecargoId,Nombre:t.recargo_item.TipoRecargo.val.Nombre},Monto:t.recargo_item.TipoRecargo.val.Monto,DiasRetraso:t.recargo_item.DiasRetraso,TotalAPagar:t.recargo_item.TotalAPagar,UsuarioId_Autoriza:t.recargo_item.Autoriza.val}),t.indexRecargos++,t.limpiarRecargo();case 6:case"end":return e.stop()}}),e)})))()},calcularTotal:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o=Math.trunc(((new Date).getTime()-new Date(t.recargo_item.Fecha.val).getTime())/864e5),t.recargo_item.DiasRetraso=o,t.recargo_item.TotalAPagar=o*Number(t.recargo_item.Monto.val.split("$")[1]),t.pago_item.Cantidad.val+=t.recargo_item.TotalAPagar;case 4:case"end":return e.stop()}}),e)})))()},limpiarRecargo:function(){this.recargo_item.TipoRecargo.val={TipoDeRecargoId:0},this.recargo_item.Monto.val=0,this.recargo_item.Fecha.val=Ee()(Ee()().add(1,"M").month()+"-5-"+Ee()().year()).format("yyyy-MM-DD"),this.recargo_item.Autoriza.val=null,this.recargo_item.TotalAPagar=0,this.recargo_item.DiasRetraso=0,this.mostrarEditarRecargo.quienAutoriza=!1,this.mostrarEditarRecargo.desabledMonto=!0},abrirModal:function(t,e,o){this.titutoModal=t,this.mostrarModal=!this.mostrarModal,this.inhabilitar=e,this.limpiarModal(),o&&o.PagoId&&o.PagoId>0&&this.cargarItem(o)},limpiarModal:function(){this.pago_item.PagoId.val=null,this.cantidadTipoPago=0,this.pago_item.Cantidad.val=0,this.pago_item.FechaDePago.val=Ee()().format("yyyy-MM-DD"),this.pago_item.TipoDePago.val.TipoDePagoId=-1,this.pago_item.TipoDePago.val.TipoDePagoId.Monto=0,this.pago_item.TipoDePago.key="edit_-1",this.pago_item.CicloEscolar.val=-1,this.pago_item.CicloEscolar.key="edit_-1",this.mostrarEditarRecargo.quienAutoriza=!1,this.itemsRecargo=[]},cargarItem:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function o(){var a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,e.getRecargos(t.PagoId);case 2:a=o.sent,console.log(a),e.pago_item.PagoId.val=t.PagoId,e.cantidadTipoPago=t.Monto,e.pago_item.Cantidad.val=t.Monto,e.pago_item.FechaDePago.val=t.FechaPago,e.pago_item.TipoDePago.val.TipoDePagoId=Number(t.TipoDePagoId),e.pago_item.TipoDePago.key="edit_"+t.TipoDePagoId,e.pago_item.CicloEscolar.val=t.CicloEscolar,e.pago_item.CicloEscolar.key="edit_"+t.CicloEscolar;case 12:case"end":return o.stop()}}),o)})))()},limpiarValidez:function(t){switch(t){case"TipoDePago":Number(this.pago_item.TipoDePago.val.TipoDePagoId)>0&&(this.pago_item[t].isValid=!0);break;case"CicloEscolar":Number(this.pago_item.CicloEscolar.val)>0&&(this.pago_item[t].isValid=!0);break;default:this.pago_item[t].isValid=!0;break}},seleccionarCicloEscolar:function(t){this.pago_item.CicloEscolar.val=t,this.pago_item.TipoDePago.tipoDeCicloEscolar=t,this.pago_item.TipoDePago.key=t,this.limpiarValidez("CicloEscolar")},seleccionarTipoDeRecargo:function(t){this.recargo_item.TipoRecargo.val=t,this.recargo_item.Monto.val=t.Monto,this.mostrarEditarRecargo.displayBtn=!0},seleccionarUsuario:function(t){this.recargo_item.Autoriza.val=t,t>0&&(this.mostrarEditarRecargo.desabledMonto=!1,this.mostrarEditarRecargo.displayRecargoBtn=!1)},seleccionarTipoDePago:function(t){null!=t?(console.log(t),this.pago_item.TipoDePago.val.Monto=t.monto,this.cantidadTipoPago=t.monto,this.pago_item.TipoDePago.val.TipoDePagoId=t.id,this.pago_item.Cantidad.val+=Number(t.monto)):(this.pago_item.TipoDePago.val.Monto=0,this.cantidadTipoPago=0,this.pago_item.TipoDePago.val.TipoDePagoId=0),this.limpiarValidez("TipoDePago")},validarFiltros:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=!0,""==t.filtros.filtro_nombre&&""==t.filtros.filtro_apellidoPaterno&&""==t.filtros.filtro_apellidoMaterno&&""==t.filtros.filtro_curp&&""==t.filtros.filtro_numeroDeControl&&"-1"==t.filtros.filtro_activo&&(o=!1),e.abrupt("return",o);case 3:case"end":return e.stop()}}),e)})))()},getAlumnoConPagos:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.validarFiltros();case 3:if(!e.sent){e.next=34;break}return t.isLoading=!0,t.pagos_items=[],o={filtro:{}},""!=t.filtros.filtro_nombre&&(o.filtro.nombre=t.filtros.filtro_nombre),""!=t.filtros.filtro_apellidoPaterno&&(o.filtro.apellidoPaterno=t.filtros.filtro_apellidoPaterno),""!=t.filtros.filtro_apellidoMaterno&&(o.filtro.apellidoMaterno=t.filtros.filtro_apellidoMaterno),""!=t.filtros.filtro_curp&&(o.filtro.curp=t.filtros.filtro_curp),""!=t.filtros.filtro_numeroDeControl&&(o.filtro.numeroDeControl=Number(t.filtros.filtro_numeroDeControl)),""!=t.filtros.filtro_activo&&(o.filtro.activo=Number(t.filtros.filtro_activo)),e.next=15,f.a.post(b+"alumnos/alumnos",o);case 15:if(a=e.sent,a.data.hayError){e.next=32;break}if(t.isLoading=!1,t.mostrarAlumno=!0,!(a.data.response.length<=0)){e.next=23;break}return t.error="No se encontró ninún alumno, favor de verificar los datos.",t.mostrarAlumno=!1,e.abrupt("return");case 23:i=a.data.response[0],t.getGrupos(Number(i["010EstructuraDeGrupoId"])),t.alumno_item.AlumnoId=i["011AlumnoId"],t.alumno_item.Nombre=i["011Nombre"],t.alumno_item.ApellidoPaterno=i["011ApellidoPaterno"],t.alumno_item.ApellidoMaterno=i["011ApellidoMaterno"],t.alumno_item.Curp=i["011CURP"],t.alumno_item.NumeroDeControl=i["011NumeroDeControl"],t.getPagos(Number(i["011AlumnoId"]));case 32:e.next=37;break;case 34:console.log("error"),t.error="Favor de indicar algún filtro",t.mostrarAlumno=!1;case 37:e.next=42;break;case 39:e.prev=39,e.t0=e["catch"](0),console.log(e.t0);case 42:case"end":return e.stop()}}),e,null,[[0,39]])})))()},getGrupos:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function o(){var a,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,e.isLoading=!0,a={filtro:{activo:1}},""!=t&&(a.filtro.estructuraDeGrupoId=t),o.next=6,f.a.post(b+"administracion/estructurasDeGrupoNombres",a);case 6:i=o.sent,i.data.hayError?e.$alert("No se pudo obtenera información, favor de volverlo a intentar."):i.data.response.length>0&&i.data.response.forEach((function(t){var o={EstructuraDeGrupoId:t["010EstructuraDeGrupoId"],TipoModalidad:t["004NombreModalidad"],TipoDeGrupo:t["006NombreGrupo"],TipoGrado:t["008NombreGrado"],Activo:t["010Activo"]};e.alumno_item.Grupo=o.TipoGrado+" "+o.TipoDeGrupo+" - "+o.TipoModalidad})),e.isLoading=!1,o.next=14;break;case 11:o.prev=11,o.t0=o["catch"](0),console.log(o.t0);case 14:case"end":return o.stop()}}),o,null,[[0,11]])})))()},getPagos:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function o(){var a,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(o.prev=0,!(t<=0)){o.next=5;break}alert("No hay alumno Id"),o.next=13;break;case 5:return e.isLoading=!0,e.pagos_items=[],a={filtro:{activo:1,alumnoId:t}},o.next=10,f.a.post(b+"administracion/pagos",a);case 10:i=o.sent,i.data.hayError?e.$alert("No se pudo obtenera información, favor de volverlo a intentar."):i.data.response.length>0&&i.data.response.forEach((function(t){e.pagos_items.push({PagoId:t["017PagoId"],Monto:t["017Monto"],TipoDePagoId:t["001TipoDePagoId"],TipoDePago:t["001TiposDePagoNombre"],CicloEscolar:t["002TipoDeCicloEscolarId"],FechaPago:Ee()(t["017FechaPago"]).format("yyyy-MM-DD"),Activo:t["017Activo"]})})),e.isLoading=!1;case 13:o.next=18;break;case 15:o.prev=15,o.t0=o["catch"](0),console.log(o.t0);case 18:case"end":return o.stop()}}),o,null,[[0,15]])})))()},getRecargos:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function o(){var a,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(o.prev=0,!(t<=0)){o.next=5;break}alert("No hay pago Id"),o.next=12;break;case 5:return e.isLoading=!0,a={filtro:{activo:1,pagoId:t}},o.next=9,f.a.post(b+"administracion/recargos",a);case 9:i=o.sent,i.data.hayError?e.$alert("No se pudo obtenera información, favor de volverlo a intentar."):i.data.response.length>0&&i.data.response.forEach((function(t){e.itemsRecargo.push({Id:t["003TipoDeRecargoId"],TipoRecargo:{Id:t["003TipoDeRecargoId"],Nombre:t["003NombreTipoRecargo"]},Monto:t["018Monto"],DiasRetraso:t["018DiasDeRetraso"],TotalAPagar:t["018MontoTotal"]}),e.indexRecargos++})),e.isLoading=!1;case 12:o.next=17;break;case 14:o.prev=14,o.t0=o["catch"](0),console.log(o.t0);case 17:case"end":return o.stop()}}),o,null,[[0,14]])})))()},cancelar:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function o(){var a,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,e.isLoading=!0,a={pago:{id:t.PagoId,Activo:Number(0)}},o.next=5,f.a.post(b+"administracion/cancelarPago",a);case 5:i=o.sent,e.isLoading=!1,i.data.hayError?(console.log(i),e.$alert("Sucedio un error, favor de volver a intentarlo.")):(e.$alert("El pago se canceló correctamente."),e.getPagos(Number(e.pagos_items.PagoId))),o.next=13;break;case 10:o.prev=10,o.t0=o["catch"](0),console.log(o.t0);case 13:case"end":return o.stop()}}),o,null,[[0,10]])})))()},limpiarFiltros:function(){this.filtros.filtro_nombre="",this.filtros.filtro_apellidoPaterno="",this.filtros.filtro_apellidoMaterno="",this.filtros.filtro_curp="",this.filtros.filtro_numeroDeControl="",this.filtros.filtro_activo="-1"},handleError:function(){this.error=null}}},Te=Ie,De=(o("d187"),Object(k["a"])(Te,re,se,!1,null,"59fb989d",null)),ye=De.exports,Ne=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container is-max-desktop"},[t._m(0),o("div",{staticClass:"col-12 row filtros_div",attrs:{id:"filtros_div"}},[o("div",{staticClass:"col-12 filtro_titulo"},[o("div",{staticClass:"row"},[t._m(1),o("div",{key:t.mostrarFiltros,staticClass:"col-2",on:{click:function(e){t.mostrarFiltros=!t.mostrarFiltros}}},[t.mostrarFiltros?t._e():o("i",{staticClass:"fas fa-angle-down",staticStyle:{float:"right"}}),t.mostrarFiltros?o("i",{staticClass:"fas fa-angle-up",staticStyle:{float:"right"}}):t._e()])])]),t.mostrarFiltros?o("div",{staticClass:"col-12 row"},[o("div",{staticClass:"row m-1 pb-2"},[o("div",{staticClass:"col-3"},[o("tiposCicloEscolar",{key:t.filtros.key_cicloEscolar,attrs:{titulo:!0,label:"Ciclo Escolar",funcion:"seleccionarCicloEscolar"},on:{seleccionarCicloEscolar:function(e){return t.seleccionarCicloEscolar(e)}}})],1),o("div",{staticClass:"col-3"},[o("tipos-nivel",{key:t.filtros.key_nivel,attrs:{label:"Nivel",titulo:!0,funcion:"seleccionarNivel"},on:{seleccionarNivel:function(e){return t.seleccionarNivel(e)}}})],1),o("div",{staticClass:"col-3"},[o("tipos-modalidad",{key:t.filtros.key_modalidad,attrs:{label:"Modalidad",titulo:!0,funcion:"seleccionarTipoModalidad"},on:{seleccionarTipoModalidad:function(e){return t.seleccionarTipoModalidad(e)}}})],1),o("div",{staticClass:"col-3"},[o("tipos-periodo",{key:t.filtros.key_periodo,attrs:{label:"Periodo",titulo:!0,funcion:"seleccionarPeriodo"},on:{seleccionarPeriodo:function(e){return t.seleccionarPeriodo(e)}}})],1)]),o("div",{staticClass:"row m-1 pb-1"},[o("div",{staticClass:"col-3"},[o("tipos-grado",{key:t.filtros.key_grado,attrs:{label:"Grado",titulo:!0,funcion:"seleccionarGrado"},on:{seleccionarGrado:function(e){return t.seleccionarGrado(e)}}})],1),o("div",{staticClass:"col-3"},[o("tipos-grupo",{key:t.filtros.key_grupo,attrs:{label:"Grupo",titulo:!0,funcion:"seleccionarGrupo"},on:{seleccionarGrupo:function(e){return t.seleccionarGrupo(e)}}})],1),o("div",{staticClass:"col-3"},[o("tipos-especialidad",{key:t.filtros.key_especialidad,attrs:{label:"Especialidad",titulo:!0,funcion:"seleccionarEspecialidad"},on:{seleccionarEspecialidad:function(e){return t.seleccionarEspecialidad(e)}}})],1),o("div",{staticClass:"col-3"},[o("label",{staticClass:"activo_label"},[t._v("Activo")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_activo,expression:"filtros.filtro_activo"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filtros,"filtro_activo",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar Activo")]),o("option",{attrs:{value:"1"}},[t._v("Si")]),o("option",{attrs:{value:"0"}},[t._v("No")])])])])]):t._e(),t.mostrarFiltros?o("div",{staticClass:"filtro_footer"},[o("button",{staticClass:"button is-default btn-sm mr-1",on:{click:function(e){return t.limpiarFiltros()}}},[t._v(" Mostrar Todo ")]),o("button",{staticClass:"button is-primary btn-sm",on:{click:function(e){return t.getGrupos()}}},[t._v(" Buscar ")])]):t._e()]),o("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"100px"}},[o("button",{staticClass:"button is-primary mt-5 mb-1 align-left",on:{click:function(e){return t.abrirModal("Agregar",null)}}},[o("i",{staticClass:"fas fa-plus"}),t._v("  Agregar grupo ")]),o("br"),t.items.length<=0?o("div",{staticClass:"row col-12",staticStyle:{display:"grid","justify-content":"center"}},[o("p",[t._v("No se encontraron registros")])]):o("div",{attrs:{id:"bootstrap_table"}},[o("div",{staticClass:"col-3 mr-0 align-rigth"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Buscar"},domProps:{value:t.filter},on:{blur:function(e){t.currentPage=1},input:function(e){e.target.composing||(t.filter=e.target.value)}}})]),o("b-table",{attrs:{striped:"",hover:"",outlined:"",items:t.items,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,filter:t.filter},scopedSlots:t._u([{key:"cell(Activo)",fn:function(t){return[1==t.item.Activo?o("button",{key:t.item.EstructuraDeGrupoId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[o("i",{staticClass:"far fa-check-square",staticStyle:{color:"green"}})]):o("button",{key:t.item.EstructuraDeGrupoId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]}},{key:"cell(opciones)",fn:function(e){return[o("button",{staticClass:"button is-info is-small",attrs:{value:"Editar",title:"Editar"},on:{click:function(o){return t.abrirModal("Editar",e.item)}}},[o("i",{staticClass:"far fa-edit"})]),o("button",{staticClass:"button is-danger is-small",attrs:{disabled:0==e.item.Activo,value:"Eliminar",title:"Cancelar"},on:{click:function(o){return t.cancelar(e.item)}}},[o("i",{staticClass:"fas fa-ban"})])]}}])}),o("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)]),t.mostrarModal?o("div",{staticClass:"modal_div",attrs:{id:"modal_div"}},[o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-dialog"},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-header"},[o("div",{staticClass:"col-11"},[o("h2",{staticClass:"modal-title text-center"},[t._v(" "+t._s(t.titutoModal)+" Grupo ")]),o("div",{staticClass:"line_red"})]),o("a",{staticClass:"button close_modal",on:{click:function(e){t.mostrarModal=!1}}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"row"},[o("div",{staticClass:"row container_modal"},[o("div",{staticClass:"col-3 form-group padding-model"},[o("tipos-ciclo-escolar",{attrs:{label:"Ciclo Escolar",titulo:!0,tipoDeCicloEscolarId:t.item.TipoDeCicloEscolarId,funcion:"seleccionarCicloEscolarItem"},on:{seleccionarCicloEscolarItem:function(e){return t.seleccionarCicloEscolarItem(e)}}})],1),o("div",{staticClass:"col-3 form-group padding-model"},[o("tipos-modalidad",{key:t.item.TipoModalidadId,attrs:{tipoDeModalidadId:t.item.TipoModalidadId,label:"Modalidad",titulo:!0,funcion:"seleccionarTipoModalidadItem"},on:{seleccionarTipoModalidadItem:function(e){return t.seleccionarTipoModalidadItem(e)}}})],1),o("div",{staticClass:"col-3 form-group padding-model"},[o("tipos-periodo",{key:t.item.TipoPeriodoId,attrs:{tipoPeriodoId:t.item.TipoPeriodoId,label:"Periodo",titulo:!0,funcion:"seleccionarPeriodoItem"},on:{seleccionarPeriodoItem:function(e){return t.seleccionarPeriodoItem(e)}}})],1),o("div",{staticClass:"col-3 form-group padding-model"},[o("tipos-grupo",{key:t.item.TipoDeGrupoId,attrs:{tipoDeGrupoId:t.item.TipoDeGrupoId,label:"Grupo",titulo:!0,funcion:"seleccionarGrupoItem"},on:{seleccionarGrupoItem:function(e){return t.seleccionarGrupoItem(e)}}})],1)]),o("div",{staticClass:"row container_bottom_modal"},[o("div",{staticClass:"col-3 form-group padding-model"},[o("tipos-nivel",{key:t.item.TiposNivelId,attrs:{tipoNivelId:t.item.TiposNivelId,titulo:!0,label:"Nivel",funcion:"seleccionarNivelItem"},on:{seleccionarNivelItem:function(e){return t.seleccionarNivelItem(e)}}})],1),o("div",{staticClass:"col-3 form-group padding-model"},[o("tipos-grado",{key:t.item.TipoGradoId,attrs:{tipoDeGradoId:t.item.TipoGradoId,label:"Grado",titulo:!0,funcion:"seleccionarGradoItem"},on:{seleccionarGradoItem:function(e){return t.seleccionarGradoItem(e)}}})],1),o("div",{staticClass:"col-3 form-group padding-model"},[o("tipos-especialidad",{key:t.item.TipoEspecialidadId,attrs:{TipoEspecialidadId:t.item.TipoEspecialidadId,label:"Especialidad",titulo:!0,funcion:"seleccionarEspecialidadItem"},on:{seleccionarEspecialidadItem:function(e){return t.seleccionarEspecialidadItem(e)}}})],1),o("div",{staticClass:"col-3 form-group padding-model"},[o("label",{staticClass:"activo_label"},[t._v("Activo")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.item.Activo,expression:"item.Activo"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.item,"Activo",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"-1",selected:""}},[t._v("Seleccionar Activo")]),o("option",{attrs:{value:"1"}},[t._v("Si")]),o("option",{attrs:{value:"0"}},[t._v("No")])])])])])]),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(e){return t.guardarGrupo()}}},[t._v(" Guardar ")]),o("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.mostrarModal=!1}}},[t._v(" Cancelar ")])])])])])])])],1):t._e(),t.isLoading?o("cargando"):t._e()],1)},Pe=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-12",attrs:{id:"Titulo"}},[o("h1",{staticClass:"titulo_azul"},[t._v("Grupos")]),o("div",{staticClass:"line_red"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-10"},[o("h1",{staticClass:"col-10"},[t._v("Favor de indicar filtros")])])}],Ae={components:{TiposCicloEscolar:X,TiposNivel:ut},data:function(){return{isLoading:!1,isValid:!0,ciclosEscolares:[],modalidades:[],periodos:[],tiposDeGrupos:[],tiposDeNivel:[],tiposDeGrado:[],especialidades:[],items:[],item:{EstructuraDeGrupoId:-1,TipoDeCicloEscolarId:-1,TiposNivelId:-1,TipoModalidadId:-1,TipoPeriodoId:-1,TipoGradoId:-1,TipoDeGrupoId:-1,TipoEspecialidadId:-1,Activo:"-1"},fields:[{key:"EstructuraDeGrupoId",label:"Folio",sortable:!0},{key:"TipoDeCicloEscolar.Nombre",label:"Ciclo Escolar",sortable:!0},{key:"TipoModalidad.Nombre",label:"Modalidad",sortable:!0},{key:"TipoPeriodo.Nombre",label:"Periodo"},{key:"TipoDeGrupo.Nombre",label:"Grupo",sortable:!0},{key:"TiposNivel.Nombre",label:"Nivel",sortable:!0},{key:"TipoGrado.Nombre",label:"Grado",sortable:!0},{key:"Especialidad.Nombre",label:"Especialidad",sortable:!0},{label:"Activo",key:"Activo"},{label:"Opciones",key:"opciones"}],filter:"",perPage:5,currentPage:1,mostrarModal:!1,titutoModal:"",mostrarFiltros:!0,filtros:{filtro_cicloEscolar:"",key_cicloEscolar:0,filtro_nivel:"",key_nivel:0,filtro_modalidad:"",key_modalidad:0,filtro_periodo:"",key_periodo:0,filtro_grado:"",key_grado:0,filtro_grupo:"",key_grupo:0,filtro_especialidad:"",key_especialidad:0,filtro_activo:"-1"}}},created:function(){this.getTipoDeCicloEscolar(),this.getTiposDeModalidad(),this.getTiposPeriodo(),this.getTiposDeGrupo(),this.getTiposNivel(),this.getTiposDeGrado(),this.getEspecialidades()},computed:{rows:function(){return this.items.length}},methods:{getTipoDeCicloEscolar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{}},e.next=5,f.a.post(b+"administracion/tiposDeCicloEscolarCatalogo",o);case 5:a=e.sent,a.data.hayError?(console.log(a),t.$alert("No se pudo obtener información, favor de volverlo a intentar.")):a.data.response.length>0&&a.data.response.forEach((function(e){t.ciclosEscolares.push({TipoDeCicloEscolarId:e["002TipoDeCicloEscolarId"],Nombre:e["002AñoDeInicio"]+"-"+e["002AñoDeTermino"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},getTiposDeModalidad:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{activo:1}},e.next=5,f.a.post(b+"catalogo/tiposDeModalidad",o);case 5:a=e.sent,a.data.response.forEach((function(e){t.modalidades.push({TipoDeModalidadId:e["004TipoModalidadId"],Nombre:e["004Nombre"],Activo:e["004Activo"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},getTiposPeriodo:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{activo:1}},e.next=5,f.a.post(b+"catalogo/tiposPeriodo",o);case 5:a=e.sent,a.data.response.forEach((function(e){t.periodos.push({TipoPeriodoId:e["005TipoPeriodoId"],Nombre:e["005Nombre"],Activo:e["005Activo"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},getTiposDeGrupo:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{activo:1}},e.next=5,f.a.post(b+"catalogo/tiposDeGrupo",o);case 5:a=e.sent,a.data.response.forEach((function(e){t.tiposDeGrupos.push({TipoGrupoId:e["006TipoDeGrupoId"],Nombre:e["006Nombre"],Activo:e["006Activo"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},getTiposNivel:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{activo:1}},e.next=5,f.a.post(b+"catalogo/tiposNivel",o);case 5:a=e.sent,a.data.response.forEach((function(e){t.tiposDeNivel.push({TipoNivelId:e["007TiposNivelId"],Nombre:e["007Nombre"],Activo:e["007Activo"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},getTiposDeGrado:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{activo:1}},e.next=5,f.a.post(b+"catalogo/tiposGrado",o);case 5:a=e.sent,a.data.response.forEach((function(e){t.tiposDeGrado.push({TipoGradoId:e["008TipoGradoId"],Nombre:e["008Nombre"],Activo:e["008Activo"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},getEspecialidades:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{activo:1}},e.next=5,f.a.post(b+"catalogo/especialidades",o);case 5:a=e.sent,a.data.response.forEach((function(e){t.especialidades.push({EspecialidadId:e["009TipoEspecialidadId"],Nombre:e["009Nombre"],Activo:e["009Activo"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},getGrupos:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,t.limpiarVariables(),o={filtro:{}},""!=t.filtros.filtro_cicloEscolar&&(o.filtro.cicloEscolar=t.filtros.filtro_cicloEscolar),""!=t.filtros.filtro_nivel&&(o.filtro.nivel=Number(t.filtros.filtro_nivel)),""!=t.filtros.filtro_modalidad&&(o.filtro.modalidad=Number(t.filtros.filtro_modalidad)),""!=t.filtros.filtro_periodo&&(o.filtro.periodo=Number(t.filtros.filtro_periodo)),""!=t.filtros.filtro_grado&&(o.filtro.grado=Number(t.filtros.filtro_grado)),""!=t.filtros.filtro_grupo&&(o.filtro.grupo=Number(t.filtros.filtro_grupo)),""!=t.filtros.filtro_especialidad&&(o.filtro.especialidad=Number(t.filtros.filtro_especialidad)),""!=t.filtros.filtro_activo&&(o.filtro.activo=Number(t.filtros.filtro_activo)),e.next=14,f.a.post(b+"administracion/estructurasDeGrupo",o);case 14:a=e.sent,a.data.hayError?t.$alert("No se pudo obtener información, favor de volverlo a intentar."):a.data.response.length>0&&a.data.response.forEach((function(e){t.items.push({EstructuraDeGrupoId:e["010EstructuraDeGrupoId"],TipoDeCicloEscolar:t.ciclosEscolares.find((function(t){return t.TipoDeCicloEscolarId===Number(e["002TipoDeCicloEscolarId"])})),TipoModalidad:t.modalidades.find((function(t){return t.TipoDeModalidadId===Number(e["004TipoModalidadId"])})),TipoPeriodo:t.periodos.find((function(t){return t.TipoPeriodoId===Number(e["005TipoPeriodoId"])})),TipoDeGrupo:t.tiposDeGrupos.find((function(t){return t.TipoGrupoId===Number(e["006TipoDeGrupoId"])})),TiposNivel:t.tiposDeNivel.find((function(t){return t.TipoNivelId===Number(e["007TiposNivelId"])})),TipoGrado:t.tiposDeGrado.find((function(t){return t.TipoGradoId===Number(e["008TipoGradoId"])})),Especialidad:t.especialidades.find((function(t){return t.EspecialidadId===Number(e["009TipoEspecialidadId"])})),Activo:e["010Activo"]})})),t.isLoading=!1,e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))()},seleccionarCicloEscolar:function(t){this.filtros.filtro_cicloEscolar=t},seleccionarCicloEscolarItem:function(t){console.log(t),this.item.TipoDeCicloEscolarId=t},seleccionarTipoModalidad:function(t){this.filtros.filtro_modalidad=t},seleccionarTipoModalidadItem:function(t){this.item.TipoModalidadId=t},seleccionarNivel:function(t){this.filtros.filtro_nivel=t},seleccionarNivelItem:function(t){this.item.TiposNivelId=t},seleccionarPeriodo:function(t){this.filtros.filtro_periodo=t},seleccionarPeriodoItem:function(t){this.item.TipoPeriodoId=t},seleccionarGrado:function(t){this.filtros.filtro_grado=t},seleccionarGradoItem:function(t){this.item.TipoGradoId=t},seleccionarGrupo:function(t){this.filtros.filtro_grupo=t},seleccionarGrupoItem:function(t){this.item.TipoDeGrupoId=t},seleccionarEspecialidad:function(t){this.filtros.filtro_especialidad=t},seleccionarEspecialidadItem:function(t){this.item.TipoEspecialidadId=t},abrirModal:function(t,e){this.titutoModal=t,this.limpiarVariables(),"Editar"==t&&(this.item.EstructuraDeGrupoId=e.EstructuraDeGrupoId,this.item.TipoDeCicloEscolarId=e.TipoDeCicloEscolar.TipoDeCicloEscolarId,this.item.TiposNivelId=e.TiposNivel.TipoNivelId,this.item.TipoModalidadId=e.TipoModalidad.TipoDeModalidadId,this.item.TipoPeriodoId=e.TipoPeriodo.TipoPeriodoId,this.item.TipoGradoId=e.TipoGrado.TipoGradoId,this.item.TipoDeGrupoId=e.TipoDeGrupo.TipoGrupoId,this.item.TipoEspecialidadId=e.Especialidad.EspecialidadId,this.item.Activo=e.Activo),this.mostrarModal=!this.mostrarModal},guardarGrupo:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("entra"),t.item.EstructuraDeGrupoId>0?t.editarGrupo():t.agregarGrupo();case 2:case"end":return e.stop()}}),e)})))()},validar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isValid=!0,(t.$store.getters.userId<=0||void 0==t.$store.getters.userId)&&t.$router.push({name:"Login"}),(t.item.TipoDeCicloEscolarId<=0||t.item.TiposNivelId<=0||t.item.TipoModalidadId<=0||t.item.TipoPeriodoId<=0||t.item.TipoGradoId<=0||t.item.TipoDeGrupoId<=0||t.item.TipoEspecialidadId<=0||t.item.Activo<=0)&&(t.$alert("Favor de completar datos."),t.isValid=!1),e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})))()},agregarGrupo:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.validar();case 3:if(!e.sent){e.next=11;break}return t.isLoading=!0,o={estructuraDeGrupo:{EstructuraDeGrupoId:null,TipoDeCicloEscolarId:Number(t.item.TipoDeCicloEscolarId),TiposNivelId:Number(t.item.TiposNivelId),TipoModalidadId:Number(t.item.TipoModalidadId),TipoPeriodoId:Number(t.item.TipoPeriodoId),TipoGradoId:Number(t.item.TipoGradoId),TipoDeGrupoId:Number(t.item.TipoDeGrupoId),TipoEspecialidadId:Number(t.item.TipoEspecialidadId),UsuarioId:t.$store.getters.userId,Activo:Number(t.item.Activo)}},e.next=8,f.a.post(b+"administracion/guardarEstructurasDeGrupo",o);case 8:a=e.sent,t.isLoading=!1,a.data.hayError?(console.log(a),t.$alert("No se pudo guardar, favor de volverlo a intentar.")):(t.mostrarModal=!1,t.$alert("El grupo se guardó con éxito."),t.limpiarVariables(),t.getGrupos());case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},editarGrupo:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={estructuraDeGrupo:{EstructuraDeGrupoId:t.item.EstructuraDeGrupoId,TipoDeCicloEscolarId:Number(t.item.TipoDeCicloEscolarId),TiposNivelId:Number(t.item.TiposNivelId),TipoModalidadId:Number(t.item.TipoModalidadId),TipoPeriodoId:Number(t.item.TipoPeriodoId),TipoGradoId:Number(t.item.TipoGradoId),TipoDeGrupoId:Number(t.item.TipoDeGrupoId),TipoEspecialidadId:Number(t.item.TipoEspecialidadId),Activo:Number(t.item.Activo)}},e.next=5,f.a.post(b+"administracion/editarEstructurasDeGrupo",o);case 5:a=e.sent,t.isLoading=!1,a.data.hayError?(console.log(a),t.$alert("No se pudo guardar, favor de volverlo a intentar.")):(t.$alert("El grupo se guardó con éxito."),t.mostrarModal=!1,t.limpiarVariables(),t.getGrupos()),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},cancelar:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function o(){var a,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,e.isLoading=!0,a={estructuraDeGrupo:{EstructuraDeGrupoId:t.EstructuraDeGrupoId,Activo:Number(0)}},o.next=5,f.a.post(b+"administracion/cancelarEstructuraDeGrupo",a);case 5:i=o.sent,e.isLoading=!1,i.data.hayError?(console.log(i),e.$alert("Alert Message.")):(e.$alert("El grupo se canceló correctamente."),e.getGrupos()),o.next=13;break;case 10:o.prev=10,o.t0=o["catch"](0),console.log(o.t0);case 13:case"end":return o.stop()}}),o,null,[[0,10]])})))()},limpiarVariables:function(){this.items=[],this.item={EstructuraDeGrupoId:-1,TipoDeCicloEscolarId:-1,TiposNivelId:-1,TipoModalidadId:-1,TipoPeriodoId:-1,TipoGradoId:-1,TipoDeGrupoId:-1,TipoEspecialidadId:-1,Activo:"-1"}},limpiarFiltros:function(){this.filtros.filtro_cicloEscolar="",this.filtros.filtro_nivel="",this.filtros.filtro_modalidad="",this.filtros.filtro_periodo,this.filtros.filtro_grado="",this.filtros.filtro_grupo="",this.filtros.filtro_especialidad="",this.filtros.filtro_activo="-1",this.filtros.key_cicloEscolar++,this.filtros.key_nivel++,this.filtros.key_modalidad++,this.filtros.key_periodo++,this.filtros.key_grado++,this.filtros.key_grupo++,this.filtros.key_especialidad++,this.getGrupos()}}},ke=Ae,we=(o("1f8d"),Object(k["a"])(ke,Ne,Pe,!1,null,null,null)),xe=we.exports,Me=[{name:"TiposDePago",path:"/tiposDePago",component:Yt,meta:{requiresAuth:!0}},{name:"TiposCicloEscolar",path:"/tiposCicloEscolar",component:Xt,meta:{requiresAuth:!0}},{name:"TiposDeRecargos",path:"/tiposDeRecargos",component:ie,meta:{requiresAuth:!0}},{name:"Grupos",path:"/grupos",component:xe,meta:{requiresAuth:!0}},{name:"TiposDePagos",path:"/tiposDePagos",component:ye,meta:{requiresAuth:!0}}],Re=Me,$e=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container is-max-desktop"},[t._m(0),o("section",{attrs:{id:"filtro"}},[o("div",{staticClass:"col-12 row filtros_div",attrs:{id:"filtros_div"}},[o("div",{staticClass:"col-12 filtro_titulo"},[o("div",{staticClass:"row"},[t._m(1),o("div",{key:t.mostrarFiltros,staticClass:"col-2",on:{click:function(e){t.mostrarFiltros=!t.mostrarFiltros}}},[t.mostrarFiltros?t._e():o("i",{staticClass:"fas fa-angle-down",staticStyle:{float:"right"}}),t.mostrarFiltros?o("i",{staticClass:"fas fa-angle-up",staticStyle:{float:"right"}}):t._e()])])]),t.mostrarFiltros?o("div",{staticClass:"col-12 row"},[o("div",{staticClass:"col-4"},[o("label",[t._v("Nombre")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_nombre,expression:"filtros.filtro_nombre"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtros.filtro_nombre},on:{input:function(e){e.target.composing||t.$set(t.filtros,"filtro_nombre",e.target.value)}}})]),o("div",{staticClass:"col-4"},[o("label",[t._v("Apellido Paterno")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_apellidoPaterno,expression:"filtros.filtro_apellidoPaterno"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtros.filtro_apellidoPaterno},on:{input:function(e){e.target.composing||t.$set(t.filtros,"filtro_apellidoPaterno",e.target.value)}}})]),o("div",{staticClass:"col-4"},[o("label",[t._v("Apellido Materno")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_apellidoMaterno,expression:"filtros.filtro_apellidoMaterno"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtros.filtro_apellidoMaterno},on:{input:function(e){e.target.composing||t.$set(t.filtros,"filtro_apellidoMaterno",e.target.value)}}})]),o("div",{staticClass:"col-4"},[o("label",[t._v("CURP")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_curp,expression:"filtros.filtro_curp"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtros.filtro_curp},on:{input:function(e){e.target.composing||t.$set(t.filtros,"filtro_curp",e.target.value)}}})]),o("div",{staticClass:"col-4"},[o("label",[t._v("Número de control")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_numeroDeControl,expression:"filtros.filtro_numeroDeControl"}],staticClass:"form-control",attrs:{type:"number",min:"0"},domProps:{value:t.filtros.filtro_numeroDeControl},on:{input:function(e){e.target.composing||t.$set(t.filtros,"filtro_numeroDeControl",e.target.value)}}})]),o("div",{staticClass:"col-4"},[o("label",{staticClass:"activo_label"},[t._v("Activo")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_activo,expression:"filtros.filtro_activo"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filtros,"filtro_activo",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar Activo")]),o("option",{attrs:{value:"1"}},[t._v("Si")]),o("option",{attrs:{value:"0"}},[t._v("No")])])])]):t._e(),t.mostrarFiltros?o("div",{staticClass:"filtro_footer"},[o("button",{staticClass:"button is-default btn-sm mr-1",on:{click:function(e){return t.limpiarFiltros()}}},[t._v(" Mostrar Todo ")]),o("button",{staticClass:"button is-primary btn-sm",on:{click:function(e){return t.getAlumnos()}}},[t._v(" Buscar ")])]):t._e()])]),o("section",{attrs:{id:"data_table"}},[o("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"100px"}},[o("button",{staticClass:"button is-primary mt-5 mb-1 align-left",on:{click:function(e){return t.abrirModal("Agregar",!0,{})}}},[o("i",{staticClass:"fas fa-plus"}),t._v("  Agregar alumno ")]),o("br"),t.items.length<=0?o("div",{staticClass:"row col-12",staticStyle:{display:"grid","justify-content":"center"}},[o("p",[t._v("No se encontraron registros")])]):o("div",{attrs:{id:"bootstrap_table"}},[o("div",{staticClass:"col-3 mr-0 align-rigth"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Buscar"},domProps:{value:t.filter},on:{blur:function(e){t.currentPage=1},input:function(e){e.target.composing||(t.filter=e.target.value)}}})]),o("b-table",{attrs:{striped:"",hover:"",outlined:"",items:t.items,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,filter:t.filter},scopedSlots:t._u([{key:"cell(Activo)",fn:function(t){return[1==t.item.Activo?o("button",{key:t.item.AlumnoId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[o("i",{staticClass:"far fa-check-square",staticStyle:{color:"green"}})]):o("button",{key:t.item.AlumnoId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]}},{key:"cell(opciones)",fn:function(e){return[o("button",{staticClass:"button is-default is-small",attrs:{value:"Detalles",title:"Ver Detalles"},on:{click:function(o){return t.abrirModal("",!1,e.item)}}},[o("i",{staticClass:"far fa-eye"})]),o("button",{staticClass:"button is-info is-small",attrs:{value:"Editar",title:"Editar"},on:{click:function(o){return t.abrirModal("Editar",!0,e.item)}}},[o("i",{staticClass:"far fa-edit"})]),o("button",{staticClass:"button is-danger is-small",attrs:{disabled:0==e.item.Activo,value:"Eliminar",title:"Cancelar"},on:{click:function(o){return t.cancelar(e.item)}}},[o("i",{staticClass:"fas fa-ban"})])]}}])}),o("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])]),o("section",{attrs:{id:"modal"}},[t.mostrarModal?o("div",{staticClass:"modal_div",attrs:{id:"modal_div"}},[o("transition",{attrs:{name:"modal"}},[o("div",{staticClass:"modal-mask"},[o("div",{staticClass:"modal-wrapper"},[o("div",{staticClass:"modal-dialog modal-xl"},[o("div",{staticClass:"modal-content modal-xl"},[o("div",{staticClass:"modal-header"},[o("div",{staticClass:"col-11"},[o("h2",{staticClass:"modal-title text-center"},[t._v(" "+t._s(t.titutoModal)+" Alumno ")]),o("div",{staticClass:"line_red"})]),o("a",{staticClass:"button close_modal",on:{click:function(e){t.mostrarModal=!1}}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),o("div",{staticClass:"modal-body"},[o("div",{staticClass:"row"},[o("section",{attrs:{id:"data_alumnos"}},[o("div",{staticClass:"row seccion_modal"},[o("div",{staticClass:"col-12 seccion_titulo_modal"},[o("h3",[t._v("Datos del alumno")])]),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Nombre*")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.item.Nombre.val,expression:"item.Nombre.val"}],staticClass:"form-control",attrs:{type:"text",disabled:!t.inhabilitar},domProps:{value:t.item.Nombre.val},on:{blur:function(e){return t.limpiarValidez("Nombre")},input:function(e){e.target.composing||t.$set(t.item.Nombre,"val",e.target.value)}}}),t.item.Nombre.isValid?t._e():o("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar un nombre "),o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Apellido Paterno*")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.item.ApellidoPaterno.val,expression:"item.ApellidoPaterno.val"}],staticClass:"form-control",attrs:{type:"text",disabled:!t.inhabilitar},domProps:{value:t.item.ApellidoPaterno.val},on:{blur:function(e){return t.limpiarValidez("ApellidoPaterno")},input:function(e){e.target.composing||t.$set(t.item.ApellidoPaterno,"val",e.target.value)}}}),t.item.ApellidoPaterno.isValid?t._e():o("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar un apellido "),o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Apellido Materno*")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.item.ApellidoMaterno.val,expression:"item.ApellidoMaterno.val"}],staticClass:"form-control",attrs:{type:"text",disabled:!t.inhabilitar},domProps:{value:t.item.ApellidoMaterno.val},on:{blur:function(e){return t.limpiarValidez("ApellidoMaterno")},input:function(e){e.target.composing||t.$set(t.item.ApellidoMaterno,"val",e.target.value)}}}),t.item.ApellidoMaterno.isValid?t._e():o("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar un apellido "),o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("CURP*")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.item.Curp.val,expression:"item.Curp.val"}],staticClass:"form-control",attrs:{type:"text",disabled:!t.inhabilitar},domProps:{value:t.item.Curp.val},on:{blur:function(e){return t.limpiarValidez("Curp")},input:function(e){e.target.composing||t.$set(t.item.Curp,"val",e.target.value)}}}),t.item.Curp.isValid?t._e():o("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar la CURP "),o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Fecha de nacimiento*")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.item.FechaDeNacimiento.val,expression:"item.FechaDeNacimiento.val"}],staticClass:"form-control",attrs:{type:"date",disabled:!t.inhabilitar},domProps:{value:t.item.FechaDeNacimiento.val},on:{blur:function(e){return t.limpiarValidez("FechaDeNacimiento")},input:function(e){e.target.composing||t.$set(t.item.FechaDeNacimiento,"val",e.target.value)}}}),t.item.FechaDeNacimiento.isValid?t._e():o("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar fecha de nacimiento "),o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),o("div",{staticClass:"col-4 padding-model"},[o("label",[t._v("Género*")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.item.Genero.val,expression:"item.Genero.val"}],staticClass:"form-control",attrs:{disabled:!t.inhabilitar},on:{blur:function(e){return t.limpiarValidez("Genero")},change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.item.Genero,"val",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"-1",selected:""}},[t._v("Seleccionar Género")]),o("option",{attrs:{value:"Femenino"}},[t._v("Femenino")]),o("option",{attrs:{value:"Masculino"}},[t._v("Masculino")])]),t.item.Genero.isValid?t._e():o("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar género "),o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Número de control")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.item.NumeroDeControl.val,expression:"item.NumeroDeControl.val"}],staticClass:"form-control",attrs:{type:"number",min:"0",disabled:!t.inhabilitar},domProps:{value:t.item.NumeroDeControl.val},on:{input:function(e){e.target.composing||t.$set(t.item.NumeroDeControl,"val",e.target.value)}}}),t.item.NumeroDeControl.isValid?t._e():o("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar la número de control "),o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),o("div",{staticClass:"col-4 form-group padding-model"},[o("escuela",{key:t.item.EscuelaId.val,attrs:{label:"Escuela de procedencia*",escuelaId:t.item.EscuelaId.val,titulo:!0,disabled:!t.inhabilitar,funcion:"seleccionarEscuela"},on:{seleccionarEscuela:function(e){return t.seleccionarEscuela(e)},blur:function(e){return t.limpiarValidez("EscuelaId")}}}),t.item.EscuelaId.isValid?t._e():o("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar escuela de procedencia "),o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])],1),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Promedio de procedencia")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.item.Promedio.val,expression:"item.Promedio.val"}],staticClass:"form-control",attrs:{type:"text",disabled:!t.inhabilitar},domProps:{value:t.item.Promedio.val},on:{input:function(e){e.target.composing||t.$set(t.item.Promedio,"val",e.target.value)}}}),t.item.Promedio.isValid?t._e():o("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar promedio "),o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Beca de inscripción")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.item.BecaInscripcion.val,expression:"item.BecaInscripcion.val"}],staticClass:"form-control",attrs:{type:"number",disabled:!t.inhabilitar},domProps:{value:t.item.BecaInscripcion.val},on:{input:function(e){e.target.composing||t.$set(t.item.BecaInscripcion,"val",e.target.value)}}})]),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Beca de mensualidad")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.item.BecaMensualidad.val,expression:"item.BecaMensualidad.val"}],staticClass:"form-control",attrs:{type:"number",disabled:!t.inhabilitar},domProps:{value:t.item.BecaMensualidad.val},on:{input:function(e){e.target.composing||t.$set(t.item.BecaMensualidad,"val",e.target.value)}}})]),o("div",{staticClass:"col-4 form-group padding-model"},[o("tipos-estado-alumno",{key:t.item.TipoEstatusAlumno.key,attrs:{label:"Estado de Alumno*",estadoAlumnoId:t.item.TipoEstatusAlumno.val,titulo:!0,disabled:!t.inhabilitar,funcion:"seleccionarEstadoAlumno"},on:{seleccionarEstadoAlumno:function(e){return t.seleccionarEstadoAlumno(e)}}})],1),o("div",{staticClass:"col-12 form-group padding-model"},[o("label",[t._v("Domicilio*")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.item.Domicilio.val,expression:"item.Domicilio.val"}],staticClass:"form-control",attrs:{type:"text",cols:"",disabled:!t.inhabilitar},domProps:{value:t.item.Domicilio.val},on:{blur:function(e){return t.limpiarValidez("Domicilio")},input:function(e){e.target.composing||t.$set(t.item.Domicilio,"val",e.target.value)}}}),t._v(" "),t.item.Domicilio.isValid?t._e():o("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar domicilio "),o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),o("div",{staticClass:"col-12 seccion_titulo_modal"},[o("h3",[t._v("Grupo")])]),o("div",{staticClass:"col-4 form-group padding-model"},[o("TiposCicloEscolar",{key:t.item.CicloEscolar.key,attrs:{titulo:!0,label:"Ciclo Escolar*",actual:!0,disabled:!t.inhabilitar,tipoDeCicloEscolarId:t.item?t.item.CicloEscolar.val:-1,funcion:"seleccionarCicloEscolar"},on:{seleccionarCicloEscolar:function(e){return t.seleccionarCicloEscolar(e)}}}),t.item.CicloEscolar.isValid?t._e():o("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar ciclo escolar "),o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])],1),o("div",{staticClass:"col-4 form-group padding-model"},[o("tipos-nivel",{key:t.item.TiposNivelId.key,attrs:{tipoNivelId:t.item.TiposNivelId.val,titulo:!0,label:"Nivel",funcion:"seleccionarNivelItem",disabled:!t.inhabilitar},on:{seleccionarNivelItem:function(e){return t.seleccionarNivelItem(e)}}})],1),o("div",{staticClass:"col-4 form-group padding-model"},[o("grupos",{key:t.item.EstrucuraGrupoId.key,attrs:{label:"Grupo*",tipoDeGrupoId:t.item.EstrucuraGrupoId.val,titulo:!0,disabled:!t.inhabilitar,filtrosEstablecidos:t.filtrosEstructuraGrupo,funcion:"seleccionarEstructuraGrupo"},on:{seleccionarEstructuraGrupo:function(e){return t.seleccionarEstructuraGrupo(e)},blur:function(e){return t.limpiarValidez("EstrucuraGrupoId")}}}),t.item.EstrucuraGrupoId.isValid?t._e():o("p",{staticStyle:{color:"red"}},[t._v(" Favor de seleccionar grupo "),o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])],1)])]),o("section",{attrs:{id:"data_tutor"}},[t.inhabilitar?o("div",{staticClass:"row seccion_modal"},[o("div",{staticClass:"row col-12"},[o("div",{staticClass:"col-12 seccion_titulo_modal"},[o("h3",[t._v("Buscar Padre o Tutor")]),t.item.tutores.isValid?t._e():o("p",{staticStyle:{color:"red"}},[t._v(" Favor de seleccionar al menos un padre/tutor "),o("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})]),o("p",{staticClass:"mt-1",staticStyle:{color:"red"}},[t._v(" Favor de buscar el nombre del padre o tutor, si no existe agregarlo. ")])]),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Nombre")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro_tutores.filtro_nombre,expression:"filtro_tutores.filtro_nombre"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtro_tutores.filtro_nombre},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.buscarTutor.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.filtro_tutores,"filtro_nombre",e.target.value)}}})]),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Apellido Paterno")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro_tutores.filtro_apellidoPaterno,expression:"filtro_tutores.filtro_apellidoPaterno"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtro_tutores.filtro_apellidoPaterno},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.buscarTutor.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.filtro_tutores,"filtro_apellidoPaterno",e.target.value)}}})]),o("div",{staticClass:"col-4 form-group padding-model"},[o("label",[t._v("Apellido Materno")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro_tutores.filtro_apellidoMaterno,expression:"filtro_tutores.filtro_apellidoMaterno"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtro_tutores.filtro_apellidoMaterno},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.buscarTutor.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.filtro_tutores,"filtro_apellidoMaterno",e.target.value)}}})]),o("div",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"flex-end"}},[o("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(e){return t.buscarTutor()}}},[t._v(" Buscar ")])]),o("div",{staticClass:"col-12"},[t.tutores.length<=0?o("div",{staticClass:"row",staticStyle:{display:"grid","justify-content":"center"}},[o("div",{staticClass:"col-12"},[o("p",[t._v("No hay registros de búsqueda")])])]):o("div",[o("table",{staticClass:"table"},[o("thead",[o("tr",[o("th",[t._v("Folio")]),o("th",[t._v("Nombre")]),o("th",[t._v("Apellido Paterno")]),o("th",[t._v("Apellido Materno")]),o("th",[t._v("Domicilio")]),o("th"),o("th")])]),o("tbody",t._l(t.tutores,(function(e){return o("tr",{key:e.PadreId},[o("td",[t._v(t._s(e.PadreId))]),o("td",[t._v(t._s(e.Nombre))]),o("td",[t._v(t._s(e.ApellidoPaterno))]),o("td",[t._v(t._s(e.ApellidoMaterno))]),o("td",[t._v(t._s(e.Domicilio))]),o("td",[o("tipos-parentesco",{attrs:{titulo:!1,disabled:!t.inhabilitar,funcion:"seleccionarParentesco"},on:{seleccionarParentesco:function(e){return t.seleccionarParentesco(e)}}})],1),o("td",[o("button",{staticClass:"btn btn-default",on:{click:function(o){return t.agregarTutor(e)}}},[o("i",{staticClass:"fas fa-plus"})])])])})),0)])])])]),o("div",{staticClass:"col-12"},[this.item.tutores.val.length>0?o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 seccion_titulo_modal"},[o("h3",[t._v("Padres o Tutores del alumno")])]),o("div",{staticClass:"col-12"},[o("table",{staticClass:"table"},[o("thead",[o("tr",[o("th",[t._v("Folio")]),o("th",[t._v("Nombre")]),o("th",[t._v("Apellido Paterno")]),o("th",[t._v("Apellido Materno")]),o("th",[t._v("Parentesco")]),t.inhabilitar?o("th"):t._e()])]),o("tbody",t._l(t.item.tutores.val,(function(e){return o("tr",{key:e.tutorId},[o("td",[t._v(t._s(e.tutor.PadreId))]),o("td",[t._v(t._s(e.tutor.Nombre))]),o("td",[t._v(t._s(e.tutor.ApellidoPaterno))]),o("td",[t._v(t._s(e.tutor.ApellidoMaterno))]),o("td",[t._v(t._s(e.parentesco.nombre))]),t.inhabilitar?o("td",[o("button",{staticClass:"btn btn-default",on:{click:function(o){return t.eliminarTutor(e)}}},[o("i",{staticClass:"fas fa-trash-alt"})])]):t._e()])})),0)])])]):t._e()])]):t._e()])])]),o("div",{staticClass:"modal-footer"},[t.inhabilitar?o("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(e){return t.guardarAlumno()}}},[t._v(" Guardar ")]):t._e(),t.inhabilitar?o("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.mostrarModal=!1}}},[t._v(" Cancelar ")]):t._e(),t.inhabilitar?t._e():o("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.mostrarModal=!1}}},[t._v(" Cerrar ")])])])])])])])],1):t._e()]),t.isLoading?o("cargando"):t._e()],1)},je=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-12",attrs:{id:"Titulo"}},[o("h1",{staticClass:"titulo_azul"},[t._v("Registro de Alumnos")]),o("div",{staticClass:"line_red"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-10"},[o("h1",{staticClass:"col-10"},[t._v("Favor de indicar filtros")])])}],Ge=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("div",{staticClass:"col-12"},[t.titulo?o("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),o("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.valor=e.target.multiple?o:o[0]},function(e){return t.seleccionar()}]}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar Escuela")]),t._l(t.items,(function(e,a){return o("option",{key:a,domProps:{value:e["EscuelaId"]}},[t._v(t._s(e["Nombre"]))])}))],2)])])},Se=[],Le={data:function(){return{valor:"-1",isLoading:!1,items:[]}},props:{escuelaId:Number,label:String,funcion:String,tipoDeCicloEscolarId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created:function(){this.getEscuelas(),this.$props.escuelaId>0&&(this.valor=this.$props.escuelaId)},computed:{},methods:{getEscuelas:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{activo:1}},e.next=5,f.a.post(b+"catalogo/escuelas",o);case 5:a=e.sent,a.data.hayError?(console.log(a),t.$alert("No se pudo obtener información, favor de volverlo a intentar.")):a.data.response.length>0&&a.data.response.forEach((function(e){t.items.push({EscuelaId:e["015EscuelaDeProcedenciaId"],Nombre:e["015Nombre"],Activo:e["015Activo"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},seleccionar:function(){this.valor>0?this.$emit(this.$props.funcion,this.valor):this.$emit(this.$props.funcion,null)}}},Fe=Le,Oe=Object(k["a"])(Fe,Ge,Se,!1,null,null,null),Ve=Oe.exports,Be=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"col-12"},[t.titulo?o("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),o("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.valor=e.target.multiple?o:o[0]},function(e){return t.seleccionar()}]}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar Parentesco")]),t._l(t.items,(function(e,a){return o("option",{key:a,domProps:{value:e["TipoParentescoId"]}},[t._v(t._s(e["Nombre"]))])}))],2)]),t.isLoading?o("cargando"):t._e()],1)},ze=[],qe={data:function(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoParentescoId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created:function(){this.getTiposParentescos(),this.$props.tipoPeriodoId>0&&(this.valor=this.$props.tipoParentescoId)},computed:{},methods:{getTiposParentescos:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{activo:1}},e.next=5,f.a.post(b+"catalogo/parentescos",o);case 5:a=e.sent,a.data.hayError?(console.log(a),t.$alert("No se pudo obtener información, favor de volverlo a intentar.")):a.data.response.length>0&&a.data.response.forEach((function(e){t.items.push({TipoParentescoId:e["016TipoParentescoId"],Nombre:e["016Nombre"],Activo:e["016Activo"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},seleccionar:function(){var t=this,e=this.items.find((function(e){return e.TipoParentescoId===t.valor}));this.$emit(this.$props.funcion,e)}}},Ue=qe,Ye=Object(k["a"])(Ue,Be,ze,!1,null,null,null),Je=Ye.exports,He=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("div",{staticClass:"col-12"},[t.titulo?o("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),o("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.valor=e.target.multiple?o:o[0]},function(e){return t.seleccionar()}]}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar Grupo")]),t._l(t.items,(function(e,a){return o("option",{key:a,domProps:{value:e["EstructuraDeGrupoId"]}},[t._v(t._s(e["TipoGrado"])+" "+t._s(e["TipoDeGrupo"])+" - "+t._s(e["TipoModalidad"]))])}))],2)])])},Qe=[],Ke={data:function(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoDeGrupoId:Number,titulo:{type:Boolean,required:!0,default:!0},filtrosEstablecidos:{},disabled:Boolean},created:function(){this.getGrupos(),this.$props.tipoDeGrupoId>0&&(this.valor=this.$props.tipoDeGrupoId)},computed:{},methods:{getGrupos:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,t.items=[],o={filtro:{activo:1}},""!=t.filtrosEstablecidos.filtro_cicloEscolar&&(o.filtro.cicloEscolar=t.filtrosEstablecidos.filtro_cicloEscolar),""!=t.filtrosEstablecidos.filtro_nivel&&(o.filtro.nivel=Number(t.filtrosEstablecidos.filtro_nivel)),""!=t.filtrosEstablecidos.filtro_modalidad&&(o.filtro.modalidad=Number(t.filtrosEstablecidos.filtro_modalidad)),""!=t.filtrosEstablecidos.filtro_periodo&&(o.filtro.periodo=Number(t.filtrosEstablecidos.filtro_periodo)),""!=t.filtrosEstablecidos.filtro_grado&&(o.filtro.grado=Number(t.filtrosEstablecidos.filtro_grado)),e.next=11,f.a.post(b+"administracion/estructurasDeGrupoNombres",o);case 11:a=e.sent,a.data.hayError?t.$alert("No se pudo obtener información, favor de volverlo a intentar."):a.data.response.length>0&&a.data.response.forEach((function(e){t.items.push({EstructuraDeGrupoId:e["010EstructuraDeGrupoId"],TipoModalidad:e["004NombreModalidad"],TipoDeGrupo:e["006NombreGrupo"],TipoGrado:e["008NombreGrado"],Activo:e["010Activo"]})})),t.isLoading=!1,e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))()},seleccionar:function(){this.valor>0?this.$emit(this.$props.funcion,this.valor):this.$emit(this.$props.funcion,null)}}},We=Ke,Xe=Object(k["a"])(We,He,Qe,!1,null,null,null),Ze=Xe.exports,to=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"col-12"},[t.titulo?o("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),o("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.valor=e.target.multiple?o:o[0]},function(e){return t.seleccionar()}]}},[o("option",{attrs:{value:"-1"}},[t._v("Seleccionar Estado")]),t._l(t.items,(function(e,a){return o("option",{key:a,domProps:{value:e["TiposEstadoAlumnoId"]}},[t._v(t._s(e["Nombre"]))])}))],2)]),t.isLoading?o("cargando"):t._e()],1)},eo=[],oo={data:function(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,estadoAlumnoId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created:function(){this.getEstadosAlumnos(),this.$props.estadoAlumnoId>0&&(this.valor=this.$props.estadoAlumnoId)},computed:{},methods:{getEstadosAlumnos:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{activo:1}},e.next=5,f.a.post(b+"catalogo/estadosDeAlumnos",o);case 5:a=e.sent,a.data.hayError?(console.log(a),t.$alert("No se pudo obtener información, favor de volverlo a intentar.")):a.data.response.length>0&&a.data.response.forEach((function(e){t.items.push({TiposEstadoAlumnoId:e["014TiposEstadoAlumnoId"],Nombre:e["014Nombre"],Activo:e["014Activo"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},seleccionar:function(){this.$emit(this.$props.funcion,this.valor)}}},ao=oo,io=Object(k["a"])(ao,to,eo,!1,null,null,null),ro=io.exports,so={components:{escuela:Ve,tiposParentesco:Je,grupos:Ze,TiposCicloEscolar:X,TiposEstadoAlumno:ro},data:function(){return{isLoading:!1,mostrarFiltros:!0,mostrarModal:!1,filtros:{filtro_nombre:"",filtro_apellidoPaterno:"",filtro_apellidoMaterno:"",filtro_curp:"",filtro_numeroDeControl:"",filtro_activo:"-1"},filtrosEstructuraGrupo:{filtro_cicloEscolar:"",filtro_nivel:"",filtro_modalidad:"",filtro_periodo:"",filtro_grado:""},perPage:5,currentPage:1,fields:[{key:"AlumnoId.val",label:"Folio",sortable:!0},{key:"NombreCompleto.val",label:"Nombre",sortable:!0},{key:"Curp.val",label:"CURP",sortable:!0},{key:"NumeroDeControl.val",label:"Número de Control",sortable:!0},{key:"Genero.val",label:"Genero",sortable:!0},{key:"TipoEstadoAlumno.val.Nombre",label:"Estado",sortable:!0},{key:"Activo",label:"Activo",sortable:!0},{label:"Opciones",key:"opciones"}],filter:"",item:{AlumnoId:{val:null,isValid:!0},Nombre:{val:"",isValid:!0},ApellidoPaterno:{val:"",isValid:!0},ApellidoMaterno:{val:"",isValid:!0},Curp:{val:"",isValid:!0},FechaDeNacimiento:{val:(new Date).toISOString().slice(0,10),isValid:!0},Genero:{val:"-1",isValid:!0},NumeroDeControl:{val:0,isValid:!0},EscuelaId:{val:0,isValid:!0},Promedio:{val:0,isValid:!0},Domicilio:{val:"",isValid:!0},BecaInscripcion:{val:0},BecaMensualidad:{val:0},TipoEstatusAlumno:{val:0,isValid:!0,key:""},CicloEscolar:{val:0,isValid:!0,key:""},TiposNivelId:{val:0,isValid:!0,key:""},EstrucuraGrupoId:{val:0,isValid:!0,key:"EstructuraGrupoId"},tutores:{val:[],isValid:!0},parentesco:{val:0,isValid:!0},TipoEstadoAlumno:{val:!0},Activo:{val:0}},items:[],itemIsValid:!0,titutoModal:"",inhabilitar:!0,tutores:[],estadosAlumno:[],filtro_tutores:{filtro_nombre:"",filtro_apellidoPaterno:"",filtro_apellidoMaterno:""}}},watch:{mostrarModal:function(t){t||this.limpiarVariables()}},computed:{rows:function(){return this.items.length}},created:function(){this.getEstadosAlumno(),this.getAlumnos()},methods:{seleccionarEstadoAlumno:function(t){this.item.TipoEstatusAlumno.val=Number(t),this.item.TipoEstatusAlumno.isValid=!0},seleccionarEscuela:function(t){this.item.EscuelaId.val=Number(t),this.item.EscuelaId.isValid=!0},seleccionarEstructuraGrupo:function(t){this.item.EstrucuraGrupoId.val=Number(t),this.item.EstrucuraGrupoId.isValid=!0},seleccionarNivelItem:function(t){this.item.TiposNivelId.val=Number(t),this.item.TiposNivelId.isValid=!0,this.filtrosEstructuraGrupo.filtro_nivel=Number(t),this.item.EstrucuraGrupoId.key="filtro_nivel"+t},seleccionarCicloEscolar:function(t){this.item.CicloEscolar.val=Number(t),this.item.CicloEscolar.isValid=!0,this.filtrosEstructuraGrupo.filtro_cicloEscolar=Number(t),this.item.EstrucuraGrupoId.key="filtro_cicloEscolar"+t},seleccionarParentesco:function(t){this.item.parentesco.val=t},agregarTutor:function(t){if(this.item.parentesco.val<=0)this.$alert("Favor de seleccionar parentesco.");else{var e=this.item.tutores.val.find((function(e){return e.tutor.padreId===t.PadreId}));e?this.$alert("El padre/tutor ya esta agregado."):this.item.tutores.val.push({parentesco:{parentesoId:this.item.parentesco.val.TipoParentescoId,nombre:this.item.parentesco.val.Nombre},tutor:t})}},eliminarTutor:function(t){var e=this.item.tutores.val.indexOf(this.item.tutores.val.find((function(e){return e.tutor.padreId===t.PadreId})));this.item.tutores.val.splice(e,1)},limpiarValidez:function(t){this.item[t].isValid=!0},guardarTutores:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function o(){var a,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,a={alumnoId:t},o.next=4,f.a.post(b+"alumnos/eliminarTutoresDeAlumno",a);case 4:if(i=o.sent,i.data.hayError){o.next=9;break}console.log("Los tutores se eliminaron con éxito."),o.next=12;break;case 9:return console.log(i),e.$alert("Los tutores no se pudieron eliminar, favor de volverlo a intentar."),o.abrupt("return");case 12:e.item.tutores.val.forEach(function(){var o=Object(m["a"])(regeneratorRuntime.mark((function o(a){var i,r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return i={alumno:{alumnoId:t,tutorId:a.tutor.PadreId,parentescoId:a.parentesco.parentesoId}},o.next=3,f.a.post(b+"alumnos/agregarTutoresDeAlumno",i);case 3:r=o.sent,r.data.hayError?(console.log(r),e.$alert("El alumno se guardó con éxito pero no se pudo guardar el(los) tutor(es), favor de volverlo a intentar.")):(console.log("El tutor se guardó con éxito."),e.getAlumnos(),e.limpiarVariables());case 5:case"end":return o.stop()}}),o)})));return function(t){return o.apply(this,arguments)}}()),e.$alert("El alumno se guardó con éxito."),e.isLoading=!1,o.next=20;break;case 17:o.prev=17,o.t0=o["catch"](0),console.log(o.t0);case 20:case"end":return o.stop()}}),o,null,[[0,17]])})))()},guardarAlumno:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.validarAlumno(),t.itemIsValid?t.item.AlumnoId.val>0?t.editarAlumno():t.agregarAlumno():t.$alert("Favor de completar los datos.");case 2:case"end":return e.stop()}}),e)})))()},validarAlumno:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.itemIsValid=!0,(t.$store.getters.userId<=0||void 0==t.$store.getters.userId)&&(t.itemIsValid=!0,t.$router.push({name:"Login"})),""===t.item.Nombre.val&&(t.item.Nombre.isValid=!1,t.itemIsValid=!1),""===t.item.ApellidoPaterno.val&&""===t.item.ApellidoMaterno.val&&(""===t.item.ApellidoPaterno.val&&(t.item.ApellidoPaterno.isValid=!1),""===t.item.ApellidoMaterno.val&&(t.item.ApellidoMaterno.isValid=!1),t.itemIsValid=!1),""===t.item.Curp.val&&(t.item.Curp.isValid=!1,t.itemIsValid=!1),""===t.item.FechaDeNacimiento.val&&(t.item.FechaDeNacimiento.isValid=!1,t.itemIsValid=!1),""===t.item.Genero.val&&(t.item.Genero.isValid=!1,t.itemIsValid=!1),Number(t.item.EscuelaId.val)<=0&&(t.item.EscuelaId.isValid=!1,t.itemIsValid=!1),""===t.item.Domicilio.val&&(t.item.Domicilio.isValid=!1,t.itemIsValid=!1),Number(t.item.EstrucuraGrupoId.val)<=0&&(t.item.EstrucuraGrupoId.isValid=!1,t.itemIsValid=!1);case 10:case"end":return e.stop()}}),e)})))()},agregarAlumno:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o={alumno:{Nombre:t.item.Nombre.val,ApellidoPaterno:t.item.ApellidoPaterno.val,ApellidoMaterno:t.item.ApellidoMaterno.val,Curp:t.item.Curp.val,FechaDeNacimiento:t.item.FechaDeNacimiento.val,Genero:t.item.Genero.val,NumeroDeControl:t.item.NumeroDeControl.val,EscuelaId:t.item.EscuelaId.val,Promedio:t.item.Promedio.val,Domicilio:t.item.Domicilio.val,TipoEstatusAlumno:le.TipoEstatusAlumno.Activo,EstructuraGrupo:t.item.EstrucuraGrupoId.val,BecaInscripcion:t.item.BecaInscripcion.val,BecaMensualidad:t.item.BecaMensualidad.val,UsuarioId:t.$store.getters.userId,FechaRegistro:(new Date).toISOString().slice(0,19).replace("T"," "),Activo:"1"}},e.prev=1,t.isLoading=!0,e.next=5,f.a.post(b+"alumnos/agregarAlumno",o);case 5:a=e.sent,t.isLoading=!1,a.data.hayError?(console.log(a),t.$alert("No se pudo guardar, favor de volverlo a intentar.")):(t.mostrarModal=!1,console.log("El alumno se guardó con éxito."),t.item.tutores.length>0?t.guardarTutores(a.data.response.insertId):t.getAlumnos()),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()},editarAlumno:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o={alumno:{AlumnoId:t.item.AlumnoId.val,Nombre:t.item.Nombre.val,ApellidoPaterno:t.item.ApellidoPaterno.val,ApellidoMaterno:t.item.ApellidoMaterno.val,Curp:t.item.Curp.val,FechaDeNacimiento:t.item.FechaDeNacimiento.val,Genero:t.item.Genero.val,NumeroDeControl:t.item.NumeroDeControl.val,EscuelaId:t.item.EscuelaId.val,Promedio:t.item.Promedio.val,Domicilio:t.item.Domicilio.val,TipoEstatusAlumno:t.item.TipoEstatusAlumno.val,EstructuraGrupo:t.item.EstrucuraGrupoId.val,BecaInscripcion:t.item.BecaInscripcion.val,BecaMensualidad:t.item.BecaMensualidad.val,FechaRegistro:(new Date).toISOString().slice(0,19).replace("T"," "),Activo:t.item.Activo}},e.prev=1,t.isLoading=!0,e.next=5,f.a.post(b+"alumnos/editarAlumno",o);case 5:a=e.sent,t.isLoading=!1,a.data.hayError?(console.log(a),t.$alert("No se pudo guardar, favor de volverlo a intentar.")):(t.mostrarModal=!1,console.log("El alumno se editó con éxito."),t.item.tutores.val.length>0?t.guardarTutores(t.item.AlumnoId.val):t.getAlumnos()),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()},buscarTutor:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,t.tutores=[],o={filtro:{}},""!=t.filtro_tutores.filtro_nombre&&(o.filtro.nombre=t.filtro_tutores.filtro_nombre),""!=t.filtro_tutores.filtro_apellidoPaterno&&(o.filtro.apellidoPaterno=t.filtro_tutores.filtro_apellidoPaterno),""!=t.filtro_tutores.filtro_apellidoMaterno&&(o.filtro.apellidoMaterno=t.filtro_tutores.filtro_apellidoMaterno),e.next=9,f.a.post(b+"alumnos/tutores",o);case 9:a=e.sent,a.data.hayError?(console.log(a),t.$alert("No se pudo obtener información, favor de volverlo a intentar.")):a.data.response.length>0&&a.data.response.forEach((function(e){t.items.push({PadreId:e["012PadreId"],Nombre:e["012Nombre"],ApellidoPaterno:e["012ApellidoPaterno"],ApellidoMaterno:e["012ApellidoMaterno"],Activo:e["012Activo"],Domicilio:e["012Domicilio"]})})),t.isLoading=!1,e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()},abrirModal:function(t,e,o){this.titutoModal=t,this.inhabilitar=e,o&&o.AlumnoId&&o.AlumnoId.val&&o.AlumnoId.val>0&&this.cargarItem(o),this.mostrarModal=!this.mostrarModal},cargarItem:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(e){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getGrupo(e.EstructuraGrupo.val);case 2:o=t.sent,this.item.AlumnoId.val=e.AlumnoId.val,this.item.Nombre.val=e.Nombre.val,this.item.ApellidoPaterno.val=e.ApellidoPaterno.val,this.item.ApellidoMaterno.val=e.ApellidoMaterno.val,this.item.Curp.val=e.Curp.val,this.item.FechaDeNacimiento.val=new Date(e.FechaNacimiento.val).toISOString().slice(0,10),this.item.Genero.val=e.Genero.val,this.item.NumeroDeControl.val=e.NumeroDeControl.val,this.item.EscuelaId.val=e.EscuelaDeProcedenciaId.val,this.item.Promedio.val=e.PromedioDeProcedencia.val,this.item.Domicilio.val=e.Domicilio.val,this.item.TipoEstatusAlumno.val=e.TipoEstadoAlumno.val.EstadoDeAlumnoId,this.item.Activo=e.Activo,this.item.CicloEscolar.val=o.TipoDeCicloEscolar,this.item.CicloEscolar.key="CargarItem"+o.TipoDeCicloEscolar,this.item.TiposNivelId.val=o.TiposNivel,this.item.TiposNivelId.key="CargarItem"+o.TiposNivel,this.item.EstrucuraGrupoId.val=o.EstructuraDeGrupoId,this.item.EstrucuraGrupoId.key="CargarItem"+o.EstructuraDeGrupoId,this.getTutores();case 23:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getTutores:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,t.item.tutores.val=[],o={alumnoId:t.item.AlumnoId.val},e.next=6,f.a.post(b+"alumnos/tutoresDeAlumno",o);case 6:a=e.sent,a.data.hayError?t.$alert("No se pudo obtener información, favor de volverlo a intentar."):a.data.response.length>0&&a.data.response.forEach((function(e){var o={PadreId:e["012PadreId"],Nombre:e["012Nombre"],ApellidoPaterno:e["012ApellidoPaterno"],ApellidoMaterno:e["012ApellidoMaterno"]},a={parentesoId:e["016TipoParentescoId"],nombre:e["016Nombre"]};t.item.tutores.val.push({tutor:o,parentesco:a})})),t.isLoading=!1,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},cancelar:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function o(){var a,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,e.isLoading=!0,a={alumno:{id:t.AlumnoId.val,Activo:Number(0)}},o.next=5,f.a.post(b+"alumnos/cancelarAlumno",a);case 5:i=o.sent,e.isLoading=!1,i.data.hayError?(console.log(i),e.$alert("Sucedio un error, favor de volver a intentarlo.")):(e.$alert("El alumno se canceló correctamente."),e.getAlumnos()),o.next=13;break;case 10:o.prev=10,o.t0=o["catch"](0),console.log(o.t0);case 13:case"end":return o.stop()}}),o,null,[[0,10]])})))()},getAlumnos:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,t.items=[],o={filtro:{}},""!=t.filtros.filtro_nombre&&(o.filtro.nombre=t.filtros.filtro_nombre),""!=t.filtros.filtro_apellidoPaterno&&(o.filtro.apellidoPaterno=t.filtros.filtro_apellidoPaterno),""!=t.filtros.filtro_apellidoMaterno&&(o.filtro.apellidoMaterno=t.filtros.filtro_apellidoMaterno),""!=t.filtros.filtro_curp&&(o.filtro.curp=t.filtros.filtro_curp),""!=t.filtros.filtro_numeroDeControl&&(o.filtro.numeroDeControl=Number(t.filtros.filtro_numeroDeControl)),""!=t.filtros.filtro_activo&&(o.filtro.activo=Number(t.filtros.filtro_activo)),e.next=12,f.a.post(b+"alumnos/alumnos",o);case 12:a=e.sent,console.log(a.data.response),a.data.hayError?(console.log(a),t.$alert("No se pudo obtener información, favor de volverlo a intentar.")):a.data.response.forEach((function(e){t.items.push({AlumnoId:{val:e["011AlumnoId"]},Nombre:{val:e["011Nombre"]},NombreCompleto:{val:e["011Nombre"]+" "+e["011ApellidoPaterno"]+" "+e["011ApellidoMaterno"]},ApellidoPaterno:{val:e["011ApellidoPaterno"]},ApellidoMaterno:{val:e["011ApellidoMaterno"]},Curp:{val:e["011CURP"]},FechaNacimiento:{val:e["011FechaNacimiento"]},Genero:{val:e["011Genero"]},NumeroDeControl:{val:e["011NumeroDeControl"]},EscuelaDeProcedenciaId:{val:e["015EscuelaDeProcedenciaId"]},PromedioDeProcedencia:{val:e["011PromedioDeProcedencia"]},Domicilio:{val:e["011Domicilio"]},TipoEstadoAlumno:{val:t.estadosAlumno.find((function(t){return t.EstadoDeAlumnoId===Number(e["014TipoEstadoAlumnoId"])}))},EstructuraGrupo:{val:e["010EstructuraDeGrupoId"]},Activo:Number(e["011Activo"])})})),t.isLoading=!1,e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))()},getEstadosAlumno:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,o={filtro:{activo:1}},e.next=5,f.a.post(b+"catalogo/estadosDeAlumnos",o);case 5:a=e.sent,a.data.response.forEach((function(e){t.estadosAlumno.push({EstadoDeAlumnoId:e["014TiposEstadoAlumnoId"],Nombre:e["014Nombre"],Activo:e["014Activo"]})})),t.isLoading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},getGrupo:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function o(){var a,i,r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,e.isLoading=!0,a={filtro:{estructuraDeGrupoId:t}},o.next=5,f.a.post(b+"administracion/estructurasDeGrupo",a);case 5:return i=o.sent,r={},i.data.hayError?e.$alert("No se pudo obtener información, favor de volverlo a intentar."):i.data.response.length>0&&i.data.response.forEach((function(t){r={EstructuraDeGrupoId:t["010EstructuraDeGrupoId"],TipoDeCicloEscolar:Number(t["002TipoDeCicloEscolarId"]),TipoModalidad:Number(t["004TipoModalidadId"]),TipoPeriodo:Number(t["005TipoPeriodoId"]),TipoDeGrupo:Number(t["006TipoDeGrupoId"]),TiposNivel:Number(t["007TiposNivelId"]),TipoGrado:Number(t["008TipoGradoId"]),Especialidad:Number(t["009TipoEspecialidadId"]),Activo:t["010Activo"]}})),e.isLoading=!1,o.abrupt("return",r);case 12:o.prev=12,o.t0=o["catch"](0),console.log(o.t0);case 15:case"end":return o.stop()}}),o,null,[[0,12]])})))()},limpiarFiltros:function(){this.filtros.filtro_nombre="",this.filtros.filtro_apellidoPaterno="",this.filtros.filtro_apellidoMaterno="",this.filtros.filtro_curp="",this.filtros.filtro_activo="-1",this.getAlumnos()},limpiarVariables:function(){this.item.AlumnoId.val=null,this.item.Nombre.val="",this.item.ApellidoPaterno.val="",this.item.ApellidoMaterno.val="",this.item.Curp.val="",this.item.FechaDeNacimiento.val=(new Date).toISOString().slice(0,10),this.item.Genero.val="-1",this.item.NumeroDeControl.val=0,this.item.EscuelaId.val=0,this.item.Promedio.val=0,this.item.Domicilio.val="",this.item.tutores.val=[],this.item.parentesco.val=0,this.item.TipoEstadoAlumno.val=!0}}},lo=so,no=(o("001f"),Object(k["a"])(lo,$e,je,!1,null,"c41be7d6",null)),co=no.exports,uo=[{name:"RegistroDeAlumnos",path:"/registroDeAlumnos",component:co,meta:{requiresAuth:!0}}],po=uo,mo=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{},[o("img",{attrs:{src:t.logo.url}})]),o("div",{staticClass:"cover-home"},[o("div",{staticClass:"row",staticStyle:{"padding-top":"40px"}},[o("div",{staticClass:"col-4"},[t._m(0),o("div",{staticClass:"cuerpo_modulo"},[o("ul",[o("li",[o("i",{staticClass:"fas fa-chevron-right"}),t._v(" "),o("router-link",{attrs:{to:{name:"TiposDePago"}}},[t._v("Tipos de pago")])],1),o("li",[o("i",{staticClass:"fas fa-chevron-right"}),t._v(" "),o("router-link",{attrs:{to:{name:"Grupos"}}},[t._v("Creación de grupos")])],1),o("li",[o("i",{staticClass:"fas fa-chevron-right"}),t._v(" "),o("router-link",{attrs:{to:{name:"TiposCicloEscolar"}}},[t._v("Ciclo Escolar")])],1),o("li",[o("i",{staticClass:"fas fa-chevron-right"}),t._v(" "),o("router-link",{attrs:{to:{name:"TiposDePagos"}}},[t._v("Control de pagos")])],1),o("li",[o("i",{staticClass:"fas fa-chevron-right"}),t._v(" "),o("router-link",{attrs:{to:{name:"TiposDeRecargos"}}},[t._v("Tipos de recargos")])],1)])])]),o("div",{staticClass:"col-4"},[t._m(1),o("div",{staticClass:"cuerpo_modulo"},[o("ul",[o("li",[o("i",{staticClass:"fas fa-chevron-right"}),t._v(" "),o("router-link",{attrs:{to:{name:"RegistroDeAlumnos"}}},[t._v("Registro de alumnos")])],1),o("li",[o("i",{staticClass:"fas fa-chevron-right"}),t._v(" "),o("router-link",{attrs:{to:"/"}},[t._v("Registro de Padre/Tutor")])],1)])])]),o("div",{staticClass:"col-4"},[t._m(2),o("div",{staticClass:"cuerpo_modulo"},[o("ul",[o("li",[o("i",{staticClass:"fas fa-chevron-right"}),t._v(" "),o("router-link",{attrs:{to:"/"}},[t._v("Lista de grupo")])],1),o("li",[o("i",{staticClass:"fas fa-chevron-right"}),t._v(" "),o("router-link",{attrs:{to:"/"}},[t._v("Lista de personas con aduedo")])],1)])])])])])])},vo=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"titulo_modulo"},[o("h1",[t._v("Administración")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"titulo_modulo"},[o("h1",[t._v("Alumnos")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"titulo_modulo"},[o("h1",[t._v("Reportes")])])}],fo={name:"Inicio",data:function(){return{logo:{url:o("3881")}}}},go=fo,bo=(o("17d7"),Object(k["a"])(go,mo,vo,!1,null,"49ff6e13",null)),ho=bo.exports,_o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div")},Co=[],Eo={},Io=Object(k["a"])(Eo,_o,Co,!1,null,null,null),To=Io.exports,Do=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrapper fadeInDown"},[o("base-dialog",{attrs:{show:!!t.error,title:"Log in"},on:{close:t.handleError}},[o("p",[t._v(t._s(t.error))])]),o("div",{attrs:{id:"formContent"}},[t._m(0),o("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"fadeIn second",attrs:{type:"text",id:"login",name:"login",placeholder:"Usuario"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"fadeIn third",attrs:{type:"password",id:"password",name:"login",placeholder:"Contraseña"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),o("input",{staticClass:"fadeIn fourth",attrs:{type:"submit",value:"Entrar"}})]),o("div",{attrs:{id:"formFooter"}})]),t.isLoading?o("cargando"):t._e()],1)},yo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fadeIn first"},[a("img",{staticStyle:{"max-width":"150px"},attrs:{src:o("cf05"),id:"icon",alt:"User Icon"}})])}],No={data:function(){return{email:"",password:"",isLoading:!1,formIsValid:!0,error:null}},methods:{submitForm:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.formIsValid=!0,(""===t.email||!t.email.includes("@")||t.password.length<6)&&(t.formIsValid=!1),t.isLoading=!0,e.prev=3,e.next=6,t.$store.dispatch("login",{email:t.email,password:t.password});case 6:o="/"+(t.$route.query.redirect||"inicio"),t.$router.replace(o),e.next=15;break;case 10:e.prev=10,e.t0=e["catch"](3),console.log("err"),console.log(e.t0),t.error=e.t0.message||"Failed to authenticate, try later.";case 15:t.isLoading=!1;case 16:case"end":return e.stop()}}),e,null,[[3,10]])})))()},handleError:function(){this.error=null}}},Po=No,Ao=(o("7a70"),Object(k["a"])(Po,Do,yo,!1,null,"f998f20e",null)),ko=Ao.exports;i["default"].use(r["a"]);var wo=[{name:"Login",path:"/",component:ko,meta:{requiresUnauth:!0}},{name:"Index",path:"/inicio",component:ho,meta:{requiresAuth:!0}},{path:"/:notFound(.*)",component:To}],xo=wo.concat(Re).concat(po),Mo=xo;i["default"].use(r["a"]),i["default"].use(l.a),i["default"].use(c["a"]),i["default"].use(n["a"]),i["default"].component("cargando",O),i["default"].component("TiposModalidad",Y),i["default"].component("TiposCicloEscolar",X),i["default"].component("TiposGrupo",it),i["default"].component("TiposNivel",ut),i["default"].component("TiposPeriodo",gt),i["default"].component("TiposGrado",It),i["default"].component("TiposEspecialidad",At),i["default"].component("usuarios",$t),i["default"].component("base-dialog",Ot),i["default"].config.productionTip=!1;var Ro=new r["a"]({mode:"history",routes:Mo});Ro.beforeEach((function(t,e,o){void 0==t.meta.requiresAuth&&void 0==t.meta.requiresUnauth||t.meta.requiresAuth&&!I.getters.isAuthenticated?o("/"):t.meta.requiresUnauth&&I.getters.isAuthenticated?o("/inicio"):o()})),new i["default"]({router:Ro,store:I,render:function(t){return t(j)}}).$mount("#app")},6140:function(t,e,o){},"6d4c":function(t,e,o){"use strict";o("8d9e")},"77ed":function(t,e,o){"use strict";o("0c2e")},"7a70":function(t,e,o){"use strict";o("dc3d")},8304:function(t,e,o){"use strict";o("cc25")},"85ec":function(t,e,o){},"8d9e":function(t,e,o){},aaca:function(t,e,o){},cc25:function(t,e,o){},cf05:function(t,e,o){t.exports=o.p+"img/logo.c2f5cbfd.png"},d187:function(t,e,o){"use strict";o("0f9b")},dc3d:function(t,e,o){},f93d:function(t,e,o){}});
//# sourceMappingURL=app.9e80ce54.js.map