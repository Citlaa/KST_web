(function(t){function o(o){for(var a,s,l=o[0],n=o[1],c=o[2],u=0,m=[];u<l.length;u++)s=l[u],Object.prototype.hasOwnProperty.call(e,s)&&e[s]&&m.push(e[s][0]),e[s]=0;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);d&&d(o);while(m.length)m.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,o=0;o<r.length;o++){for(var i=r[o],a=!0,l=1;l<i.length;l++){var n=i[l];0!==e[n]&&(a=!1)}a&&(r.splice(o--,1),t=s(s.s=i[0]))}return t}var a={},e={app:0},r=[];function s(o){if(a[o])return a[o].exports;var i=a[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=a,s.d=function(t,o,i){s.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,o){if(1&o&&(t=s(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var a in t)s.d(i,a,function(o){return t[o]}.bind(null,a));return i},s.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(o,"a",o),o},s.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},s.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],n=l.push.bind(l);l.push=o,l=l.slice();for(var c=0;c<l.length;c++)o(l[c]);var d=n;r.push([0,"chunk-vendors"]),i()})({0:function(t,o,i){t.exports=i("56d7")},"034f":function(t,o,i){"use strict";i("85ec")},"0c2e":function(t,o,i){},"0f9b":function(t,o,i){},"1f8d":function(t,o,i){"use strict";i("6140")},3881:function(t,o,i){t.exports=i.p+"img/home.d999de4a.jpg"},4678:function(t,o,i){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function e(t){var o=r(t);return i(o)}function r(t){if(!i.o(a,t)){var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}return a[t]}e.keys=function(){return Object.keys(a)},e.resolve=r,t.exports=e,e.id="4678"},"56d7":function(t,o,i){"use strict";i.r(o);var a=i("2b0e"),e=i("8c4f"),r=i("a7c6"),s=i.n(r),l=i("5f5b"),n=i("683f"),c=i("2f62"),d={setUser(t,o){t.userId=o.userId,t.didAutoLogout=!1},setAutoLogout(t){t.didAutoLogout=!0}},u=i("bc3a"),m=i.n(u);const p="http://castelazo.edu.mx/api/";var v=p;let f;var g={async login(t,o){return t.dispatch("auth",{...o})},async auth(t,o){let i=v+"auth/usuarios";const a={usuario:{email:o.email,password:o.password}},e=await m.a.post(i,a);if(e.data.hayError){console.log(e);const t=new Error(e.data.error||"No se puedo autenticar, favor de volverlo a intentar.");throw t}if(e.data.response.length<=0){const t=new Error(e.data.error||"El usuario o la contraseña no coincide, favor de verificarlo.");throw t}const r=999e3,s=(new Date).getTime()+r;localStorage.setItem("userId",e.data.response[0]["019Activo"]),localStorage.setItem("tokenExpiration",s),t.commit("setUser",{userId:e.data.response[0]["019Activo"]})},logout(t){localStorage.removeItem("userId"),localStorage.removeItem("tokenExpiration"),clearTimeout(f),t.commit("setUser",{userId:null})},autoLogout(t){t.dispatch("logout"),t.commit("setAutoLogout")}},h={userId(t){return t.userId},isAuthenticated(t){return!!t.userId},didAutoLogout(t){return t.didAutoLogout}},b={state(){return{userId:null}},mutations:d,actions:g,getters:h};a["default"].use(c["a"]);const _=new c["a"].Store({modules:{auth:b}});var C=_,y=(i("f9e3"),i("2dd8"),i("7051"),function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",[i("div",["Login"!=t.$route.name?i("div",{attrs:{id:"menu"}},[i("Menu")],1):t._e(),i("div",{staticStyle:{"min-height":"90vh"},attrs:{id:"app"}},[i("router-view")],1),i("div",{attrs:{id:"footer"}},[i("div",{attrs:{id:"container_footer"}},[t._v(" © "+t._s((new Date).getFullYear())+" Copyright: "),i("a",{attrs:{href:"http://castelazo.edu.mx/"}},[t._v(" castelazo.edu.mx ")])])])])])}),E=[],I=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",[i("b-navbar",{staticStyle:{"padding-left":"20px","padding-right":"20px"},attrs:{toggleable:"md",type:"dark"}},[i("b-navbar-brand",{attrs:{href:"#"}},[i("img",{staticClass:"align-top logo-sm",attrs:{src:t.logo.url,alt:"Instituto Castelazo"}}),i("img",{staticClass:"align-top logo-md",attrs:{src:t.logo.url,alt:"Instituto Castelazo"}})]),i("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),i("b-collapse",{staticClass:"justify-content-end",attrs:{id:"nav-collapse","is-nav":""}},[i("b-navbar-nav",[i("b-nav-item",{attrs:{to:{name:"Index"}}},[t._v("Inicio")]),i("b-nav-item-dropdown",{attrs:{text:"Administración"}},[i("b-dropdown-item",{attrs:{to:{name:"TiposDePago"}}},[t._v("Tipos de pago")]),i("b-dropdown-item",{attrs:{to:{name:"Grupos"}}},[t._v("Creación de grupos")]),i("b-dropdown-item",{attrs:{to:{name:"TiposCicloEscolar"}}},[t._v("Ciclo Escolar")]),i("b-dropdown-item",{attrs:{to:{name:"TiposDePagos"}}},[t._v("Control de pagos")]),i("b-dropdown-item",{attrs:{to:{name:"TiposDeRecargos"}}},[t._v("Tipos de recargos")])],1),i("b-nav-item-dropdown",{attrs:{text:"Alumnos"}},[i("b-dropdown-item",{attrs:{to:{name:"RegistroDeAlumnos"}}},[t._v("Registro de alumnos")]),i("b-dropdown-item",{attrs:{to:{name:"RegistroDeTutores"}}},[t._v("Registro de Padre/Tutor")])],1),i("b-nav-item-dropdown",{attrs:{text:"Reportes"}},[i("b-dropdown-item",{staticClass:"ms-auto",attrs:{to:{name:""}}},[t._v("Lista de grupo")]),i("b-dropdown-item",{attrs:{to:{name:""}}},[t._v("Lista de personas con aduedo")])],1),t.isLoggedIn?i("b-nav-item",{on:{click:t.logout}},[i("i",{staticClass:"fas fa-sign-out-alt"})]):t._e()],1)],1)],1)],1)},T=[],D={data(){return{logo:{url:i("cf05")}}},computed:{isLoggedIn(){return this.$store.getters.isAuthenticated}},methods:{logout(){this.$store.dispatch("logout"),this.$router.push({name:"Login"})}}},N=D,A=i("2877"),P=Object(A["a"])(N,I,T,!1,null,null,null),M=P.exports,k={name:"App",components:{Menu:M},setup(){},created(){},watch:{}},w=k,$=(i("034f"),Object(A["a"])(w,y,E,!1,null,null,null)),G=$.exports,x=function(){var t=this,o=t.$createElement;t._self._c;return t._m(0)},S=[function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticStyle:{position:"relative"}},[i("div",{staticClass:"fondo"}),i("dialog",{attrs:{open:""}},[i("div",{staticClass:"lds-roller"},[i("div"),i("div"),i("div")]),i("p",[t._v("Cargando...")])])])}],F=(i("77ed"),{}),L=Object(A["a"])(F,x,S,!1,null,"85805da0",null),j=L.exports,V=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",[i("div",{staticClass:"col-12"},[t.titulo?i("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),i("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.valor=o.target.multiple?i:i[0]},function(o){return t.seleccionar()}]}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar Modalidad")]),t._l(t.items,(function(o,a){return i("option",{key:a,domProps:{value:o["TipoDeModalidadId"]}},[t._v(t._s(o["Nombre"]))])}))],2)]),t.isLoading?i("cargando"):t._e()],1)},R=[],B={data(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoDeModalidadId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created(){this.getTiposDeModalidad(),this.$props.tipoDeModalidadId>0&&(this.valor=this.$props.tipoDeModalidadId)},computed:{},methods:{async getTiposDeModalidad(){try{this.isLoading=!0;const t={filtro:{activo:1}},o=await m.a.post(v+"catalogo/tiposDeModalidad",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.length>0&&o.data.response.forEach(t=>{this.items.push({TipoDeModalidadId:t["004TipoModalidadId"],Nombre:t["004Nombre"],Activo:t["004Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},seleccionar:function(){this.$emit(this.$props.funcion,this.valor)}}},z=B,O=Object(A["a"])(z,V,R,!1,null,null,null),q=O.exports,U=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",[i("div",{staticClass:"col-12"},[t.titulo?i("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),i("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.valor=o.target.multiple?i:i[0]},function(o){return t.seleccionar()}]}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar Ciclo Escolar")]),t._l(t.items,(function(o,a){return i("option",{key:a,domProps:{value:o["TipoDeCicloEscolarId"]}},[t._v(t._s(o["AñoDeInicio"])+" - "+t._s(o["AñoDeTermino"]))])}))],2)]),t.isLoading?i("cargando"):t._e()],1)},Y=[],J={emits:["seleccionarCicloEscolar"],data(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoDeCicloEscolarId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean,actual:{type:Boolean,default:!1}},created(){this.getTiposDeCicloEscolar(),this.$props.tipoDeCicloEscolarId>0&&(this.valor=this.$props.tipoDeCicloEscolarId)},computed:{},methods:{async getTiposDeCicloEscolar(){try{this.isLoading=!0;const t={filtro:{activo:1}},o=await m.a.post(v+"administracion/tiposDeCicloEscolarCatalogo",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.length>0&&o.data.response.forEach(t=>{this.items.push({TipoDeCicloEscolarId:t["002TipoDeCicloEscolarId"],"AñoDeInicio":t["002AñoDeInicio"],"AñoDeTermino":t["002AñoDeTermino"],Activo:t["002Activo"]})}),this.isLoading=!1,this.$props.actual>0&&this.seleccionarActual()}catch(t){console.log(t)}},seleccionar:function(){this.valor>0?this.$emit(this.$props.funcion,this.valor):this.$emit(this.$props.funcion,null)},seleccionarActual:function(){const t=(new Date).getFullYear();var o=this.items.filter(o=>o.AñoDeInicio==t||o.AñoDeTermino==t);this.valor=o[o.length-1].TipoDeCicloEscolarId,this.seleccionar()}}},H=J,Q=Object(A["a"])(H,U,Y,!1,null,null,null),K=Q.exports,W=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",[i("div",{staticClass:"col-12"},[t.titulo?i("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),i("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.valor=o.target.multiple?i:i[0]},function(o){return t.seleccionar()}]}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar Grupo")]),t._l(t.items,(function(o,a){return i("option",{key:a,domProps:{value:o["TipoGrupoId"]}},[t._v(t._s(o["Nombre"]))])}))],2)]),t.isLoading?i("cargando"):t._e()],1)},X=[],Z={data(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoDeGrupoId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created(){this.getTiposDeGrupo(),this.$props.tipoDeGrupoId>0&&(this.valor=this.$props.tipoDeGrupoId)},computed:{},methods:{async getTiposDeGrupo(){try{this.isLoading=!0;const t={filtro:{activo:1}},o=await m.a.post(v+"catalogo/tiposDeGrupo",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.length>0&&o.data.response.forEach(t=>{this.items.push({TipoGrupoId:t["006TipoDeGrupoId"],Nombre:t["006Nombre"],Activo:t["006Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},seleccionar:function(){this.$emit(this.$props.funcion,this.valor)}}},tt=Z,ot=Object(A["a"])(tt,W,X,!1,null,null,null),it=ot.exports,at=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",[i("div",{staticClass:"col-12"},[t.titulo?i("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),i("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.valor=o.target.multiple?i:i[0]},function(o){return t.seleccionar()}]}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar Nivel")]),t._l(t.items,(function(o,a){return i("option",{key:a,domProps:{value:o["TipoNivelId"]}},[t._v(t._s(o["Nombre"]))])}))],2)]),t.isLoading?i("cargando"):t._e()],1)},et=[],rt={data(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoNivelId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created(){this.getTiposNivel(),this.$props.tipoNivelId>0&&(this.valor=this.$props.tipoNivelId)},computed:{},methods:{async getTiposNivel(){try{this.isLoading=!0;const t={filtro:{activo:1}},o=await m.a.post(v+"catalogo/tiposNivel",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.length>0&&o.data.response.forEach(t=>{this.items.push({TipoNivelId:t["007TiposNivelId"],Nombre:t["007Nombre"],Activo:t["007Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},seleccionar:function(){this.$emit(this.$props.funcion,this.valor)}}},st=rt,lt=Object(A["a"])(st,at,et,!1,null,null,null),nt=lt.exports,ct=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",[i("div",{staticClass:"col-12"},[t.titulo?i("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),i("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.valor=o.target.multiple?i:i[0]},function(o){return t.seleccionar()}]}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar Periodo")]),t._l(t.items,(function(o,a){return i("option",{key:a,domProps:{value:o["TipoPeriodoId"]}},[t._v(t._s(o["Nombre"]))])}))],2)]),t.isLoading?i("cargando"):t._e()],1)},dt=[],ut={data(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoPeriodoId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created(){this.getTiposPeriodo(),this.$props.tipoPeriodoId>0&&(this.valor=this.$props.tipoPeriodoId)},computed:{},methods:{async getTiposPeriodo(){try{this.isLoading=!0;const t={filtro:{activo:1}},o=await m.a.post(v+"catalogo/tiposPeriodo",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.length>0&&o.data.response.forEach(t=>{this.items.push({TipoPeriodoId:t["005TipoPeriodoId"],Nombre:t["005Nombre"],Activo:t["005Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},seleccionar:function(){this.$emit(this.$props.funcion,this.valor)}}},mt=ut,pt=Object(A["a"])(mt,ct,dt,!1,null,null,null),vt=pt.exports,ft=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",[i("div",{staticClass:"col-12"},[t.titulo?i("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),i("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.valor=o.target.multiple?i:i[0]},function(o){return t.seleccionar()}]}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar Grado")]),t._l(t.items,(function(o,a){return i("option",{key:a,domProps:{value:o["TipoGradoId"]}},[t._v(t._s(o["Nombre"]))])}))],2)]),t.isLoading?i("cargando"):t._e()],1)},gt=[],ht={data(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoDeGradoId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created(){this.getTiposDeGrado(),this.$props.tipoDeGradoId>0&&(this.valor=this.$props.tipoDeGradoId)},computed:{},methods:{async getTiposDeGrado(){try{this.isLoading=!0;const t={filtro:{activo:1}},o=await m.a.post(v+"catalogo/tiposGrado",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.length>0&&o.data.response.forEach(t=>{this.items.push({TipoGradoId:t["008TipoGradoId"],Nombre:t["008Nombre"],Activo:t["008Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},seleccionar:function(){this.$emit(this.$props.funcion,this.valor)}}},bt=ht,_t=Object(A["a"])(bt,ft,gt,!1,null,null,null),Ct=_t.exports,yt=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",[i("div",{staticClass:"col-12"},[t.titulo?i("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),i("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.valor=o.target.multiple?i:i[0]},function(o){return t.seleccionar()}]}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar Especialidad")]),t._l(t.items,(function(o,a){return i("option",{key:a,domProps:{value:o["TipoEspecialidadId"]}},[t._v(t._s(o["Nombre"]))])}))],2)]),t.isLoading?i("cargando"):t._e()],1)},Et=[],It={data(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,TipoEspecialidadId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created(){this.getEspecialidades(),this.$props.TipoEspecialidadId>0&&(this.valor=this.$props.TipoEspecialidadId)},computed:{},methods:{async getEspecialidades(){try{this.isLoading=!0;const t={filtro:{activo:1}},o=await m.a.post(v+"catalogo/especialidades",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.length>0&&o.data.response.forEach(t=>{this.items.push({TipoEspecialidadId:t["009TipoEspecialidadId"],Nombre:t["009Nombre"],Activo:t["009Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},seleccionar:function(){this.$emit(this.$props.funcion,this.valor)}}},Tt=It,Dt=Object(A["a"])(Tt,yt,Et,!1,null,null,null),Nt=Dt.exports,At=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",[i("div",{staticClass:"col-12"},[t.titulo?i("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),i("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.valor=o.target.multiple?i:i[0]},function(o){return t.seleccionar()}]}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar Periodo")]),t._l(t.items,(function(o,a){return i("option",{key:a,domProps:{value:o["UsuarioId"]}},[t._v(t._s(o["Nombre"]))])}))],2)]),t.isLoading?i("cargando"):t._e()],1)},Pt=[],Mt={data(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,usuarioId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created(){this.getUsuarios(),this.$props.usuarioId>0&&(this.valor=this.$props.usuarioId)},computed:{},methods:{async getUsuarios(){try{this.isLoading=!0;const t={usuario:{activo:1}},o=await m.a.post(v+"auth/usuarios",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.length>0&&o.data.response.forEach(t=>{this.items.push({UsuarioId:t["019UsuarioId"],Nombre:t["019Nombre"]+" "+t["019ApellidoPaterno"]+" "+t["019ApellidoMaterno"],Activo:t["005Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},seleccionar:function(){this.$emit(this.$props.funcion,this.valor)}}},kt=Mt,wt=Object(A["a"])(kt,At,Pt,!1,null,null,null),$t=wt.exports,Gt=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("teleport",{attrs:{to:"body"}},[t.show?i("div",{staticClass:"backdrop",on:{click:t.tryClose}}):t._e(),i("transition",{attrs:{name:"dialog"}},[t.show?i("dialog",{attrs:{open:""}},[i("header",[t._t("header",(function(){return[i("h2",[t._v(t._s(t.title))])]}))],2),i("section",[t._t("default")],2),t.fixed?t._e():i("menu",[t._t("actions",(function(){return[i("base-button",{on:{click:t.tryClose}},[t._v("Cerrar")])]}))],2)]):t._e()])],1)},xt=[],St={props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1}},emits:["close"],methods:{tryClose(){this.fixed||this.$emit("close")}}},Ft=St,Lt=(i("6d4c"),Object(A["a"])(Ft,Gt,xt,!1,null,"1293904e",null)),jt=Lt.exports,Vt=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"container is-max-desktop"},[t._m(0),i("div",{staticClass:"col-12 row filtros_div",attrs:{id:"filtros_div"}},[i("div",{staticClass:"col-12 filtro_titulo"},[i("div",{staticClass:"row"},[t._m(1),i("div",{key:t.mostrarFiltros,staticClass:"col-2",on:{click:function(o){t.mostrarFiltros=!t.mostrarFiltros}}},[t.mostrarFiltros?t._e():i("i",{staticClass:"fas fa-angle-down",staticStyle:{float:"right"}}),t.mostrarFiltros?i("i",{staticClass:"fas fa-angle-up",staticStyle:{float:"right"}}):t._e()])])]),t.mostrarFiltros?i("div",{staticClass:"col-12 row"},[i("div",{staticClass:"col-3"},[i("label",[t._v("Concepto")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro_nombre,expression:"filtro_nombre"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Indicar Concepto"},domProps:{value:t.filtro_nombre},on:{keypress:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.getTiposDePago.apply(null,arguments)},input:function(o){o.target.composing||(t.filtro_nombre=o.target.value)}}})]),i("div",{staticClass:"col-3"},[i("label",[t._v("Cantidad")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro_monto,expression:"filtro_monto"}],staticClass:"form-control",attrs:{type:"number",min:"0",placeholder:"Indicar Cantidad"},domProps:{value:t.filtro_monto},on:{keypress:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.getTiposDePago.apply(null,arguments)},input:function(o){o.target.composing||(t.filtro_monto=o.target.value)}}})]),i("div",{staticClass:"col-3"},[i("tiposCicloEscolar",{key:t.filtro_cicloEscolar_key,attrs:{label:"Ciclo escolar",titulo:!0,funcion:"seleccionarCicloEscolar"},on:{seleccionarCicloEscolar:function(o){return t.seleccionarCicloEscolar(o)}}})],1),i("div",{staticClass:"col-3"},[i("label",{staticClass:"activo_label"},[t._v("Activo")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filtro_activo,expression:"filtro_activo"}],staticClass:"form-control",on:{change:function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.filtro_activo=o.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar Activo")]),i("option",{attrs:{value:"1"}},[t._v("Si")]),i("option",{attrs:{value:"0"}},[t._v("No")])])])]):t._e(),t.mostrarFiltros?i("div",{staticClass:"filtro_footer"},[i("button",{staticClass:"button is-default btn-sm mr-1",on:{click:function(o){return t.limpiarFiltros()}}},[t._v(" Mostrar Todo ")]),i("button",{staticClass:"button is-primary btn-sm",on:{click:function(o){return t.getTiposDePago()}}},[t._v(" Buscar ")])]):t._e()]),i("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"100px"}},[i("button",{staticClass:"button is-primary mt-5 mb-1 align-left",on:{click:function(o){return t.abrirModal("Agregar",{})}}},[i("i",{staticClass:"fas fa-plus"}),t._v("  Agregar Tipo de pago ")]),i("br"),t.items.length<=0?i("div",{staticClass:"row col-12",staticStyle:{display:"grid","justify-content":"center"}},[i("p",[t._v("No se encontraron registros")])]):i("div",{attrs:{id:"bootstrap_table"}},[i("div",{staticClass:"col-3 mr-0 align-rigth"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Buscar"},domProps:{value:t.filter},on:{blur:function(o){t.currentPage=1},input:function(o){o.target.composing||(t.filter=o.target.value)}}})]),i("b-table",{attrs:{striped:"",hover:"",outlined:"",items:t.items,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,filter:t.filter},scopedSlots:t._u([{key:"cell(Activo)",fn:function(t){return[1==t.item.Activo?i("button",{key:t.item.TipoDePagoId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[i("i",{staticClass:"far fa-check-square",staticStyle:{color:"green"}})]):i("button",{key:t.item.TipoDePagoId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]}},{key:"cell(opciones)",fn:function(o){return[i("button",{staticClass:"button is-info is-small",attrs:{value:"Editar",title:"Editar"},on:{click:function(i){return t.abrirModal("Editar",o.item)}}},[i("i",{staticClass:"far fa-edit"})]),i("button",{staticClass:"button is-danger is-small",attrs:{disabled:0==o.item.Activo,value:"Eliminar",title:"Cancelar"},on:{click:function(i){return t.cancelar(o.item)}}},[i("i",{staticClass:"fas fa-ban"})])]}}])}),i("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(o){t.currentPage=o},expression:"currentPage"}})],1)]),t.mostrarModal?i("div",{staticClass:"modal_div",attrs:{id:"modal_div"}},[i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-mask"},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("div",{staticClass:"col-11"},[i("h2",{staticClass:"modal-title text-center"},[t._v(" "+t._s(t.titutoModal)+" Tipo de pago ")]),i("div",{staticClass:"line_red"})]),i("a",{staticClass:"button close_modal",on:{click:function(o){t.mostrarModal=!1}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),i("div",{staticClass:"modal-body"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Concepto")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.Nombre,expression:"item.Nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.item.Nombre},on:{keypress:function(o){return t.BuscarExistente(o)},dropdown:function(o){return t.BuscarExistente(o)},input:function(o){o.target.composing||t.$set(t.item,"Nombre",o.target.value)}}})]),i("div",{staticClass:"col-4"},[i("tipos-ciclo-escolar",{attrs:{label:"Ciclo escolar",titulo:!0,tipoDeCicloEscolarId:t.item?t.item.TipoDeCicloEscolar.TipoDeCicloEscolarId:-1,funcion:"seleccionarCicloEscolar"},on:{seleccionarCicloEscolar:function(o){return t.seleccionarCicloEscolarItem(o)}}})],1),i("div",{staticClass:"col-2 form-group padding-model"},[i("label",[t._v("Cantidad")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.Monto,expression:"item.Monto"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.item.Monto},on:{input:function(o){o.target.composing||t.$set(t.item,"Monto",o.target.value)}}})]),i("div",{staticClass:"col-2 padding-model"},[i("label",[t._v("Activo")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.item.Activo,expression:"item.Activo"}],staticClass:"form-control",on:{change:function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.$set(t.item,"Activo",o.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"1"}},[t._v("Si")]),i("option",{attrs:{value:"0"}},[t._v("No")])])])])]),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(o){return t.guardarTipoDePago()}}},[t._v(" Guardar ")]),i("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(o){t.mostrarModal=!1}}},[t._v(" Cancelar ")])])])])])])])],1):t._e(),t.isLoading?i("cargando"):t._e()],1)},Rt=[function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"col-12",attrs:{id:"Titulo"}},[i("h1",{staticClass:"titulo_azul"},[t._v("Tipos de pago")]),i("div",{staticClass:"line_red"})])},function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"col-10"},[i("h1",{staticClass:"col-10"},[t._v("Favor de indicar filtros")])])}],Bt={data(){return{isLoading:!1,isValid:!0,ciclosEscolares:[],items:[],item:{Nombre:"",Monto:0,TipoDeCicloEscolar:{TipoDeCicloEscolarId:-1},Activo:"-1"},fields:[{key:"TipoDePagoId",label:"Folio",sortable:!0},{key:"Nombre",label:"Concepto",sortable:!0},{key:"Monto",min:"0",label:"Cantidad",sortable:!0},{key:"TipoDeCicloEscolar.Nombre",label:"Ciclo Escolar",sortable:!0},{label:"Activo",key:"Activo",sortable:!0},{label:"Opciones",key:"opciones"}],filter:"",perPage:5,currentPage:1,mostrarModal:!1,titutoModal:"",mostrarFiltros:!0,filtro_nombre:"",filtro_monto:"",filtro_cicloEscolar:"",filtro_cicloEscolar_key:0,filtro_activo:"-1"}},created(){this.getTipoDeCicloEscolar(),this.getTiposDePago()},computed:{rows(){return this.items.length}},methods:{async BuscarExistente(t){console.log(t.target.value),t==this.ciclosEscolares.value&&console.log("El concepto ya existe")},async getTipoDeCicloEscolar(){try{this.isLoading=!0;const t={filtro:{}},o=await m.a.post(v+"administracion/tiposDeCicloEscolarCatalogo",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.length>0&&o.data.response.forEach(t=>{this.ciclosEscolares.push({TipoDeCicloEscolarId:t["002TipoDeCicloEscolarId"],Nombre:t["002AñoDeInicio"]+" - "+t["002AñoDeTermino"],Activo:t["002Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},async getTiposDePago(){try{this.isLoading=!0,this.limpiarVariables();const t={filtro:{}};""!=this.filtro_nombre&&(t.filtro.nombre=this.filtro_nombre),""!=this.filtro_monto&&(t.filtro.monto=Number(this.filtro_monto)),""!=this.filtro_cicloEscolar&&(t.filtro.cicloEscolarId=Number(this.filtro_cicloEscolar)),""!=this.filtro_activo&&Number(this.filtro_activo)>=0&&(t.filtro.activo=Number(this.filtro_activo));const o=await m.a.post(v+"administracion/tiposDePago",t);o.data.hayError?this.$alert("No se pudo obtener información, favor de volverlo a intentar."):o.data.response.length>0&&o.data.response.forEach(async t=>{this.items.push({TipoDePagoId:t["001TipoDePagoId"],Nombre:t["001Nombre"],Monto:"$"+t["001Monto"],TipoDeCicloEscolar:await this.findCicloEscolar(t),Activo:t["001Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},async findCicloEscolar(t){let o=this.ciclosEscolares.find(o=>o.TipoDeCicloEscolarId===Number(t["002TipoDeCicloEscolarId"]));return o},seleccionarCicloEscolar:function(t){this.filtro_cicloEscolar=t},seleccionarCicloEscolarItem(t){this.item.TipoDeCicloEscolar.TipoDeCicloEscolarId=Number(t)},abrirModal:function(t,o){this.titutoModal=t,this.item=o,o.TipoDePagoId>0?this.item.Monto=this.item.Monto.includes("$")?this.item.Monto.split("$")[1]:this.item.Monto:this.item.TipoDeCicloEscolar={TipoDeCicloEscolarId:-1},this.mostrarModal=!this.mostrarModal},async guardarTipoDePago(){this.item.TipoDePagoId>0?this.editarTipoDePago():this.agregarTipoDePago()},async validar(){return this.isValid=!0,(this.$store.getters.userId<=0||void 0==this.$store.getters.userId)&&this.$router.push({name:"Login"}),(""==this.item.Nombre||void 0==this.item.Monto||Number(this.item.Monto)<=0||Number(this.item.TipoDeCicloEscolar.TipoDeCicloEscolarId)<=0||void 0==this.item.Activo||Number(this.item.Activo)<=0)&&(this.$alert("Favor de completar datos."),this.isValid=!1),this.isValid},async agregarTipoDePago(){try{if(await this.validar()){this.isLoading=!0;const t={tipoDePago:{TipoDePagoId:null,Nombre:this.item.Nombre,Monto:Number(this.item.Monto),TipoDeCicloEscolarId:Number(this.item.TipoDeCicloEscolar.TipoDeCicloEscolarId),UsuarioId:this.$store.getters.userId,Activo:Number(this.item.Activo)}},o=await m.a.post(v+"administracion/guardarTiposDePago",t);this.isLoading=!1,o.data.hayError?(console.log(o),this.$alert("No se pudo guardar, favor de volverlo a intentar.")):(this.mostrarModal=!1,this.$alert("El tipo de pago se guardó con éxito."),this.limpiarVariables(),this.getTiposDePago())}}catch(t){console.log(t)}},async editarTipoDePago(){try{this.isLoading=!0;const t={tipoDePago:{TipoDePagoId:this.item.TipoDePagoId,Nombre:this.item.Nombre,Monto:Number(this.item.Monto),TipoDeCicloEscolarId:Number(this.item.TipoDeCicloEscolar.TipoDeCicloEscolarId),Activo:Number(this.item.Activo)}},o=await m.a.post(v+"administracion/editarTiposDePago",t);this.isLoading=!1,o.data.hayError?(console.log(o),this.$alert("No se pudo guardar, favor de volverlo a intentar.")):(this.mostrarModal=!1,this.$alert("El tipo de pago se guardó con éxito."),this.getTiposDePago())}catch(t){console.log(t)}},async cancelar(t){try{this.isLoading=!0;const o={tipoDePago:{TipoDePagoId:t.TipoDePagoId,Activo:Number(0)}},i=await m.a.post(v+"administracion/cancelarTiposDePago",o);this.isLoading=!1,i.data.hayError?(console.log(i),this.$alert("No se pudo cancelar, favor de volverlo a intentar.")):(this.$alert("El tipo de pago se canceló correctamente."),this.getTiposDePago())}catch(o){console.log(o)}},async limpiarVariables(){this.items=[],this.item={Nombre:"",Monto:0,TipoDeCicloEscolar:{TipoDeCicloEscolarId:-1},Activo:"-1"}},limpiarFiltros(){this.filtro_nombre="",this.filtro_monto="",this.filtro_cicloEscolar="",this.filtro_cicloEscolar_key++,this.filtro_activo="-1",this.getTiposDePago()}}},zt=Bt,Ot=Object(A["a"])(zt,Vt,Rt,!1,null,null,null),qt=Ot.exports,Ut=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"container is-max-desktop"},[t._m(0),i("div",{staticClass:"col-12 row filtros_div",attrs:{id:"filtros_div"}},[i("div",{staticClass:"col-12 filtro_titulo"},[i("div",{staticClass:"row"},[t._m(1),i("div",{key:t.mostrarFiltros,staticClass:"col-2",on:{click:function(o){t.mostrarFiltros=!t.mostrarFiltros}}},[t.mostrarFiltros?t._e():i("i",{staticClass:"fas fa-angle-down",staticStyle:{float:"right"}}),t.mostrarFiltros?i("i",{staticClass:"fas fa-angle-up",staticStyle:{float:"right"}}):t._e()])])]),t.mostrarFiltros?i("div",{staticClass:"col-12 row"},[i("div",{staticClass:"col-4"},[i("label",[t._v("Año de inicio")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro_añoDeInicio,expression:"filtro_añoDeInicio"}],staticClass:"form-control",attrs:{type:"number",min:"0"},domProps:{value:t.filtro_añoDeInicio},on:{input:function(o){o.target.composing||(t.filtro_añoDeInicio=o.target.value)}}})]),i("div",{staticClass:"col-4"},[i("label",[t._v("Año de termino")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro_añoDeTermino,expression:"filtro_añoDeTermino"}],staticClass:"form-control",attrs:{type:"number",min:"0"},domProps:{value:t.filtro_añoDeTermino},on:{input:function(o){o.target.composing||(t.filtro_añoDeTermino=o.target.value)}}})]),i("div",{staticClass:"col-4"},[i("label",{staticClass:"activo_label"},[t._v("Activo")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filtro_activo,expression:"filtro_activo"}],staticClass:"form-control",on:{change:function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.filtro_activo=o.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar Activo")]),i("option",{attrs:{value:"1"}},[t._v("Si")]),i("option",{attrs:{value:"0"}},[t._v("No")])])])]):t._e(),t.mostrarFiltros?i("div",{staticClass:"filtro_footer"},[i("button",{staticClass:"button is-default btn-sm mr-1",on:{click:function(o){return t.limpiarFiltros()}}},[t._v(" Mostrar Todo ")]),i("button",{staticClass:"button is-primary btn-sm",on:{click:function(o){return t.getTiposDeCicloEscolar()}}},[t._v(" Buscar ")])]):t._e()]),i("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"100px"}},[i("button",{staticClass:"button is-primary mt-5 mb-1 align-left",on:{click:function(o){return t.abrirModal("Agregar",{})}}},[i("i",{staticClass:"fas fa-plus"}),t._v("  Agregar ciclo escolar ")]),i("br"),t.items.length<=0?i("div",{staticClass:"row col-12",staticStyle:{display:"grid","justify-content":"center"}},[i("p",[t._v("No se encontraron registros")])]):i("div",{attrs:{id:"bootstrap_table"}},[i("div",{staticClass:"col-3 mr-0 align-rigth"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Buscar"},domProps:{value:t.filter},on:{blur:function(o){t.currentPage=1},input:function(o){o.target.composing||(t.filter=o.target.value)}}})]),i("b-table",{attrs:{striped:"",hover:"",outlined:"",items:t.items,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,filter:t.filter},scopedSlots:t._u([{key:"cell(Activo)",fn:function(t){return[1==t.item.Activo?i("button",{key:t.item.TipoDeCicloEscolarId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[i("i",{staticClass:"far fa-check-square",staticStyle:{color:"green"}})]):i("button",{key:t.item.TipoDeCicloEscolarId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]}},{key:"cell(opciones)",fn:function(o){return[i("button",{staticClass:"button is-info is-small",attrs:{value:"Editar",title:"Editar"},on:{click:function(i){return t.abrirModal("Editar",o.item)}}},[i("i",{staticClass:"far fa-edit"})]),i("button",{staticClass:"button is-danger is-small",attrs:{disabled:0==o.item.Activo,value:"Eliminar",title:"Cancelar"},on:{click:function(i){return t.cancelar(o.item)}}},[i("i",{staticClass:"fas fa-ban"})])]}}])}),i("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(o){t.currentPage=o},expression:"currentPage"}})],1)]),t.mostrarModal?i("div",{staticClass:"modal_div",attrs:{id:"modal_div"}},[i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-mask"},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("div",{staticClass:"col-11"},[i("h2",{staticClass:"modal-title text-center"},[t._v(" "+t._s(t.titutoModal)+" Ciclo Escolar ")]),i("div",{staticClass:"line_red"})]),i("a",{staticClass:"button close_modal",on:{click:function(o){t.mostrarModal=!1}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),i("div",{staticClass:"modal-body"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-5 form-group padding-model"},[i("label",[t._v("Año de inicio")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.AñoDeInicio,expression:"item.AñoDeInicio"}],staticClass:"form-control",attrs:{type:"number",min:"0"},domProps:{value:t.item.AñoDeInicio},on:{input:function(o){o.target.composing||t.$set(t.item,"AñoDeInicio",o.target.value)}}})]),i("div",{staticClass:"col-5 form-group padding-model"},[i("label",[t._v("Año de termino")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.AñoDeTermino,expression:"item.AñoDeTermino"}],staticClass:"form-control",attrs:{type:"number",min:"0"},domProps:{value:t.item.AñoDeTermino},on:{input:function(o){o.target.composing||t.$set(t.item,"AñoDeTermino",o.target.value)}}})]),i("div",{staticClass:"col-2 padding-model"},[i("label",[t._v("Activo")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.item.Activo,expression:"item.Activo"}],staticClass:"form-control",on:{change:function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.$set(t.item,"Activo",o.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"1"}},[t._v("Si")]),i("option",{attrs:{value:"0"}},[t._v("No")])])])])]),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(o){return t.guardarTipoDeCicloEscolar()}}},[t._v(" Guardar ")]),i("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(o){t.mostrarModal=!1}}},[t._v(" Cancelar ")])])])])])])])],1):t._e(),t.isLoading?i("cargando"):t._e()],1)},Yt=[function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"col-12",attrs:{id:"Titulo"}},[i("h1",{staticClass:"titulo_azul"},[t._v("Ciclo Escolar")]),i("div",{staticClass:"line_red"})])},function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"col-10"},[i("h1",{staticClass:"col-10"},[t._v("Favor de indicar filtros")])])}],Jt={name:"TiposDeCicloEscolar",data(){return{isLoading:!1,isValid:!0,items:[],item:{"AñoDeInicio":Number,"AñoDeTermino":Number,Activo:Boolean},fields:[{key:"TipoDeCicloEscolarId",label:"Folio",sortable:!0},{key:"AñoDeInicio",sortable:!0},{key:"AñoDeTermino",sortable:!0},{label:"Activo",key:"Activo"},{label:"Opciones",key:"opciones"}],filter:"",perPage:5,currentPage:1,mostrarModal:!1,titutoModal:"",mostrarFiltros:!0,"filtro_añoDeInicio":(new Date).getFullYear()-5,"filtro_añoDeTermino":(new Date).getFullYear(),filtro_activo:"-1"}},created(){this.getTiposDeCicloEscolar()},computed:{rows(){return this.items.length}},methods:{async getTiposDeCicloEscolar(){try{this.isLoading=!0,this.limpiarVariables();const t={filtro:{}};""!=this.filtro_añoDeInicio&&(t.filtro.inicio=Number(this.filtro_añoDeInicio)),""!=this.filtro_añoDeTermino&&(t.filtro.fin=Number(this.filtro_añoDeTermino)),""!=this.filtro_activo&&Number(this.filtro_activo)>0&&(t.filtro.activo=Number(this.filtro_activo));const o=await m.a.post(v+"administracion/tiposDeCicloEscolar",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.length>0&&o.data.response.forEach(t=>{this.items.push({TipoDeCicloEscolarId:t["002TipoDeCicloEscolarId"],"AñoDeInicio":t["002AñoDeInicio"],"AñoDeTermino":t["002AñoDeTermino"],Activo:t["002Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},abrirModal:function(t,o){this.titutoModal=t,this.item=o,this.mostrarModal=!this.mostrarModal},async guardarTipoDeCicloEscolar(){this.item.TipoDeCicloEscolarId>0?this.editarTipoDeCicloEscolar():this.agregarTipoDeCicloEscolar()},async validar(){return this.isValid=!0,(this.$store.getters.userId<=0||void 0==this.$store.getters.userId)&&(this.isValid=!1,this.$router.push({name:"Login"})),void 0!=this.item.AñoDeTermino&&void 0!=this.item.AñoDeInicio&&void 0!=this.item.Activo||(this.$alert("Favor de completar datos."),this.isValid=!1),this.item.AñoDeTermino<=this.item.AñoDeInicio&&(this.$alert("El año de Termino no puede ser anterior o igual al año de inicio"),this.isValid=!1),this.isValid},async agregarTipoDeCicloEscolar(){try{if(await this.validar(),this.isValid){this.isLoading=!0;const t={tipoDeCicloEscolar:{TipoDeCicloEscolarId:null,Inicio:Number(this.item.AñoDeInicio),Termino:Number(this.item.AñoDeTermino),UsuarioId:this.$store.getters.userId,Activo:Number(this.item.Activo)}},o=await m.a.post(v+"administracion/guardarTiposDeCicloEscolar",t);this.mostrarModal=!1,this.isLoading=!1,o.data.hayError?(console.log(o),this.$alert("No se pudo guardar, favor de volverlo a intentar.")):(this.$alert("El ciclo escolar se guardó con éxito."),this.getTiposDeCicloEscolar())}}catch(t){console.log(t)}},async editarTipoDeCicloEscolar(){try{this.isLoading=!0;const t={tipoDeCicloEscolar:{TipoDeCicloEscolarId:this.item.TipoDeCicloEscolarId,Inicio:Number(this.item.AñoDeInicio),Termino:Number(this.item.AñoDeTermino),Activo:Number(this.item.Activo)}},o=await m.a.post(v+"administracion/editarTiposDeCicloEscolar",t);this.mostrarModal=!1,this.isLoading=!1,o.data.hayError?(console.log(o),this.$alert("No se pudo guardar, favor de volverlo a intentar.")):(this.$alert("El ciclo escolar se guardó con éxito."),this.getTiposDeCicloEscolar())}catch(t){console.log(t)}},async cancelar(t){try{this.isLoading=!0;const o={tipoDeCicloEscolar:{TipoDeCicloEscolarId:t.TipoDeCicloEscolarId,Activo:Number(0)}},i=await m.a.post(v+"administracion/cancelarTiposDeCicloEscolar",o);this.isLoading=!1,i.data.hayError?(console.log(i),this.$alert("No se pudo cancelar, favor de volverlo a intentar.")):(this.$alert("El ciclo escolar se canceló correctamente."),this.getTiposDeCicloEscolar())}catch(o){console.log(o)}},limpiarVariables:function(){this.items=[]},limpiarFiltros(){this.filtro_añoDeInicio="",this.filtro_añoDeTermino="",this.filtro_activo="-1",this.getTiposDeCicloEscolar()}}},Ht=Jt,Qt=(i("8304"),Object(A["a"])(Ht,Ut,Yt,!1,null,null,null)),Kt=Qt.exports,Wt=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"container is-max-desktop"},[t._m(0),i("section",{attrs:{id:"filtros"}},[i("div",{staticClass:"col-12 row filtros_div",attrs:{id:"filtros_div"}},[i("div",{staticClass:"col-12 filtro_titulo"},[i("div",{staticClass:"row"},[t._m(1),i("div",{key:t.mostrarFiltros,staticClass:"col-2",on:{click:function(o){t.mostrarFiltros=!t.mostrarFiltros}}},[t.mostrarFiltros?t._e():i("i",{staticClass:"fas fa-angle-down",staticStyle:{float:"right"}}),t.mostrarFiltros?i("i",{staticClass:"fas fa-angle-up",staticStyle:{float:"right"}}):t._e()])])]),t.mostrarFiltros?i("div",{staticClass:"col-12 row"},[i("div",{staticClass:"col-3"},[i("label",[t._v("Concepto")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro_nombre,expression:"filtro_nombre"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Indicar Concepto"},domProps:{value:t.filtro_nombre},on:{input:function(o){o.target.composing||(t.filtro_nombre=o.target.value)}}})]),i("div",{staticClass:"col-3"},[i("label",[t._v("Cantidad")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro_monto,expression:"filtro_monto"}],staticClass:"form-control",attrs:{type:"number",min:"0",placeholder:"Indicar Cantidad"},domProps:{value:t.filtro_monto},on:{input:function(o){o.target.composing||(t.filtro_monto=o.target.value)}}})]),i("div",{staticClass:"col-3"},[i("tiposCicloEscolar",{key:t.filtro_cicloEscolar_key,attrs:{label:"Ciclo escolar",titulo:!0,funcion:"seleccionarCicloEscolar"},on:{seleccionarCicloEscolar:function(o){return t.seleccionarCicloEscolar(o)}}})],1),i("div",{staticClass:"col-3"},[i("label",{staticClass:"activo_label"},[t._v("Activo")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filtro_activo,expression:"filtro_activo"}],staticClass:"form-control",on:{change:function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.filtro_activo=o.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar Activo")]),i("option",{attrs:{value:"1"}},[t._v("Si")]),i("option",{attrs:{value:"0"}},[t._v("No")])])])]):t._e(),t.mostrarFiltros?i("div",{staticClass:"filtro_footer"},[i("button",{staticClass:"button is-default btn-sm mr-1",on:{click:function(o){return t.limpiarFiltros()}}},[t._v(" Mostrar todo ")]),i("button",{staticClass:"button is-primary btn-sm",on:{click:function(o){return t.getTiposDeRecargo()}}},[t._v(" Buscar ")])]):t._e()])]),i("section",{attrs:{id:"data_table"}},[i("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"100px"}},[i("button",{staticClass:"button is-primary mt-5 mb-1 align-left",on:{click:function(o){return t.abrirModal("Agregar",{})}}},[i("i",{staticClass:"fas fa-plus"}),t._v("  Agregar tipo de recargo ")]),i("br"),t.items.length<=0?i("div",{staticClass:"row col-12",staticStyle:{display:"grid","justify-content":"center"}},[i("p",[t._v("No se encontraron registros")])]):i("div",{attrs:{id:"bootstrap_table"}},[i("div",{staticClass:"col-3 mr-0 align-rigth"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Buscar"},domProps:{value:t.filter},on:{blur:function(o){t.currentPage=1},input:function(o){o.target.composing||(t.filter=o.target.value)}}})]),i("b-table",{attrs:{striped:"",hover:"",outlined:"",items:t.items,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,filter:t.filter},scopedSlots:t._u([{key:"cell(Activo)",fn:function(t){return[1==t.item.Activo?i("button",{key:t.item.TipoDeRecargoId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[i("i",{staticClass:"far fa-check-square",staticStyle:{color:"green"}})]):i("button",{key:t.item.TipoDeRecargoId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]}},{key:"cell(opciones)",fn:function(o){return[i("button",{staticClass:"button is-info is-small",attrs:{value:"Editar",title:"Editar"},on:{click:function(i){return t.abrirModal("Editar",o.item)}}},[i("i",{staticClass:"far fa-edit"})]),i("button",{staticClass:"button is-danger is-small",attrs:{disabled:0==o.item.Activo,value:"Eliminar",title:"Cancelar"},on:{click:function(i){return t.cancelar(o.item)}}},[i("i",{staticClass:"fas fa-ban"})])]}}])}),i("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(o){t.currentPage=o},expression:"currentPage"}})],1)])]),i("section",{attrs:{id:"modal"}},[t.mostrarModal?i("div",{staticClass:"modal_div",attrs:{id:"modal_div"}},[i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-mask"},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("div",{staticClass:"col-11"},[i("h2",{staticClass:"modal-title text-center"},[t._v(" "+t._s(t.titutoModal)+" Tipo de Recargo ")]),i("div",{staticClass:"line_red"})]),i("a",{staticClass:"button close_modal",on:{click:function(o){t.mostrarModal=!1}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),i("div",{staticClass:"modal-body"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Nombre")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.Nombre,expression:"item.Nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.item.Nombre},on:{input:function(o){o.target.composing||t.$set(t.item,"Nombre",o.target.value)}}})]),i("div",{staticClass:"col-4"},[i("TiposCicloEscolar",{attrs:{label:"Ciclo escolar",titulo:!0,tipoDeCicloEscolarId:t.item.TipoDeCicloEscolar.TipoDeCicloEscolarId,funcion:"seleccionarCicloEscolar"},on:{seleccionarCicloEscolar:function(o){return t.seleccionarCicloEscolarItem(o)}}})],1),i("div",{staticClass:"col-2 form-group padding-model"},[i("label",[t._v("Monto")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.Monto,expression:"item.Monto"}],staticClass:"form-control",attrs:{type:"number",min:"0"},domProps:{value:t.item.Monto},on:{input:function(o){o.target.composing||t.$set(t.item,"Monto",o.target.value)}}})]),i("div",{staticClass:"col-2 padding-model"},[i("label",[t._v("Activo")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.item.Activo,expression:"item.Activo"}],staticClass:"form-control",on:{change:function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.$set(t.item,"Activo",o.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"1"}},[t._v("Si")]),i("option",{attrs:{value:"0"}},[t._v("No")])])])])]),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(o){return t.guardarTipoDeRecargo()}}},[t._v(" Guardar ")]),i("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(o){t.mostrarModal=!1}}},[t._v(" Cancelar ")])])])])])])])],1):t._e()]),t.isLoading?i("cargando"):t._e()],1)},Xt=[function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"col-12",attrs:{id:"Titulo"}},[i("h1",{staticClass:"titulo_azul"},[t._v("Tipos de Recargo")]),i("div",{staticClass:"line_red"})])},function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"col-10"},[i("h1",{staticClass:"col-10"},[t._v("Favor de indicar filtros")])])}],Zt={name:"ProductList",data(){return{isLoading:!1,isValid:!0,ciclosEscolares:[],items:[],item:{Nombre:String,Monto:Number,TipoDeCicloEscolar:{TipoDeCicloEscolarId:-1},Activo:Boolean},fields:[{key:"TipoDeRecargoId",label:"Folio",sortable:!0,value:"1"},{key:"Nombre",label:"Concepto",sortable:!0},{key:"Monto",label:"Cantidad",sortable:!0,min:"0"},{key:"TipoDeCicloEscolar.Nombre",label:"Ciclo Escolar",sortable:!0},{label:"Activo",key:"Activo",sortable:!0},{label:"Opciones",key:"opciones"}],filter:"",perPage:5,currentPage:1,mostrarModal:!1,titutoModal:"",mostrarFiltros:!0,filtro_nombre:"",filtro_monto:"",filtro_cicloEscolar:"",filtro_cicloEscolar_key:0,filtro_activo:"-1"}},created(){this.getTipoDeCicloEscolar(),this.getTiposDeRecargo()},computed:{rows(){return this.items.length}},methods:{async getTipoDeCicloEscolar(){try{this.isLoading=!0;const t={filtro:{}},o=await m.a.post(v+"administracion/tiposDeCicloEscolarCatalogo",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.length>0&&o.data.response.forEach(t=>{this.ciclosEscolares.push({TipoDeCicloEscolarId:t["002TipoDeCicloEscolarId"],Nombre:t["002AñoDeInicio"]+"-"+t["002AñoDeTermino"]})}),this.isLoading=!1}catch(t){console.log(t)}},async getTiposDeRecargo(){try{this.isLoading=!0,this.limpiarVariables();const t={filtro:{}};""!=this.filtro_nombre&&(t.filtro.nombre=this.filtro_nombre),""!=this.filtro_monto&&(t.filtro.monto=Number(this.filtro_monto)),""!=this.filtro_cicloEscolar&&(t.filtro.cicloEscolarId=Number(this.filtro_cicloEscolar)),""!=this.filtro_activo&&Number(this.filtro_activo)>=0&&(t.filtro.activo=Number(this.filtro_activo));const o=await m.a.post(v+"administracion/tiposDeRecargo",t);o.data.hayError?this.$alert("No se pudo obtener información, favor de volverlo a intentar."):o.data.response.length>0&&o.data.response.forEach(t=>{this.items.push({TipoDeRecargoId:t["003TipoDeRecargoId"],Nombre:t["003Nombre"],Monto:"$"+t["003Monto"],TipoDeCicloEscolar:this.ciclosEscolares.find(o=>o.TipoDeCicloEscolarId===Number(t["002TipoDeCicloEscolarId"])),Activo:t["003Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},seleccionarCicloEscolar:function(t){this.filtro_cicloEscolar=t},seleccionarCicloEscolarItem(t){this.item.TipoDeCicloEscolar.TipoDeCicloEscolarId=Number(t)},abrirModal:function(t,o){this.titutoModal=t,this.item=o,console.log(this.item),this.item.TipoDeRecargoId>0?this.item.Monto=this.item.Monto.split("$")[1]:this.item.TipoDeCicloEscolar={TipoDeCicloEscolarId:-1},this.mostrarModal=!this.mostrarModal},async guardarTipoDeRecargo(){this.item.TipoDeRecargoId>0?this.editarTipoDeRecargo():this.agregarTipoDeRecago()},async validar(){return this.isValid=!0,(this.$store.getters.userId<=0||void 0==this.$store.getters.userId)&&this.$router.push({name:"Login"}),(""==this.item.Nombre||void 0==this.item.Monto||Number(this.item.Monto)<=0||Number(this.item.TipoDeCicloEscolar.TipoDeCicloEscolarId)<=0||void 0==this.item.Activo||Number(this.item.Activo)<=0)&&(this.$alert("Favor de completar datos."),this.isValid=!1),this.isValid},async agregarTipoDeRecago(){try{if(await this.validar(),this.isValid){this.isLoading=!0;const t={tipoDeRecargo:{TipoDeRecargoId:null,Nombre:this.item.Nombre,Monto:Number(this.item.Monto),TipoDeCicloEscolarId:Number(this.item.TipoDeCicloEscolar.TipoDeCicloEscolarId),UsuarioId:this.$store.getters.userId,Activo:Number(this.item.Activo)}},o=await m.a.post(v+"administracion/guardarTiposDeRecargo",t);this.isLoading=!1,o.data.hayError?(console.log(o),this.$alert("No se pudo guardar, favor de volverlo a intentar.")):(this.mostrarModal=!1,this.$alert("El recargo se guardó con éxito."),this.getTiposDeRecargo())}}catch(t){console.log(t)}},async editarTipoDeRecargo(){try{this.isLoading=!0;const t={tipoDeRecargo:{TipoDeRecargoId:this.item.TipoDeRecargoId,Nombre:this.item.Nombre,Monto:Number(this.item.Monto),TipoDeCicloEscolarId:Number(this.item.TipoDeCicloEscolar.TipoDeCicloEscolarId),Activo:Number(this.item.Activo)}},o=await m.a.post(v+"administracion/editarTiposDeRecargo",t);this.mostrarModal=!1,this.isLoading=!1,o.data.hayError?(console.log(o),this.$alert("No se pudo guardar, favor de volverlo a intentar.")):(this.$alert("El recargo se guardó con éxito."),this.getTiposDeRecargo())}catch(t){console.log(t)}},async cancelar(t){try{this.isLoading=!0;const o={tipoDeRecargo:{TipoDeRecargoId:t.TipoDeRecargoId,Activo:Number(0)}},i=await m.a.post(v+"administracion/cancelarTiposDeRecargos",o);this.isLoading=!1,i.data.hayError?(console.log(i),this.$alert("Alert Message.")):(this.$alert("El recargo se canceló correctamente."),this.getTiposDeRecargo())}catch(o){console.log(o)}},limpiarVariables:function(){this.items=[]},limpiarFiltros(){this.filtro_nombre="",this.filtro_monto="",this.filtro_cicloEscolar="",this.filtro_cicloEscolar_key++,this.filtro_activo="-1",this.getTiposDeRecargo()}}},to=Zt,oo=Object(A["a"])(to,Wt,Xt,!1,null,null,null),io=oo.exports,ao=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"container is-max-desktop"},[t._m(0),i("section",{attrs:{id:"filtro"}},[i("div",{staticClass:"col-12 row filtros_div",attrs:{id:"filtros_div"}},[i("div",{staticClass:"col-12 filtro_titulo"},[i("div",{staticClass:"row"},[t._m(1),i("div",{key:t.mostrarFiltros,staticClass:"col-2",on:{click:function(o){t.mostrarFiltros=!t.mostrarFiltros}}},[t.mostrarFiltros?t._e():i("i",{staticClass:"fas fa-angle-down",staticStyle:{float:"right"}}),t.mostrarFiltros?i("i",{staticClass:"fas fa-angle-up",staticStyle:{float:"right"}}):t._e()])])]),t.mostrarFiltros?i("div",{staticClass:"col-12 row"},[i("div",{staticClass:"col-4"},[i("label",[t._v("Nombre")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_nombre,expression:"filtros.filtro_nombre"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtros.filtro_nombre},on:{input:function(o){o.target.composing||t.$set(t.filtros,"filtro_nombre",o.target.value)}}})]),i("div",{staticClass:"col-4"},[i("label",[t._v("Apellido Paterno")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_apellidoPaterno,expression:"filtros.filtro_apellidoPaterno"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtros.filtro_apellidoPaterno},on:{input:function(o){o.target.composing||t.$set(t.filtros,"filtro_apellidoPaterno",o.target.value)}}})]),i("div",{staticClass:"col-4"},[i("label",[t._v("Apellido Materno")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_apellidoMaterno,expression:"filtros.filtro_apellidoMaterno"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtros.filtro_apellidoMaterno},on:{input:function(o){o.target.composing||t.$set(t.filtros,"filtro_apellidoMaterno",o.target.value)}}})]),i("div",{staticClass:"col-4"},[i("label",[t._v("CURP")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_curp,expression:"filtros.filtro_curp"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtros.filtro_curp},on:{input:function(o){o.target.composing||t.$set(t.filtros,"filtro_curp",o.target.value)}}})]),i("div",{staticClass:"col-4"},[i("label",[t._v("Número de control")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_numeroDeControl,expression:"filtros.filtro_numeroDeControl"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.filtros.filtro_numeroDeControl},on:{input:function(o){o.target.composing||t.$set(t.filtros,"filtro_numeroDeControl",o.target.value)}}})]),i("div",{staticClass:"col-4"},[i("label",{staticClass:"activo_label"},[t._v("Activo")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_activo,expression:"filtros.filtro_activo"}],staticClass:"form-control",on:{change:function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.$set(t.filtros,"filtro_activo",o.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar Activo")]),i("option",{attrs:{value:"1"}},[t._v("Si")]),i("option",{attrs:{value:"0"}},[t._v("No")])])])]):t._e(),t.mostrarFiltros?i("div",{staticClass:"filtro_footer"},[i("button",{staticClass:"button is-default btn-sm mr-1",on:{click:function(o){return t.limpiarFiltros()}}},[t._v(" Borrar ")]),i("button",{staticClass:"button is-primary btn-sm",on:{click:function(o){return t.getAlumnoConPagos()}}},[t._v(" Buscar ")])]):t._e()])]),i("br"),t.mostrarAlumno?i("section",{attrs:{id:"data_alumnos"}},[i("div",{staticClass:"row col-12 seccion_data"},[t._m(2),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Nombre")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.alumno_item.Nombre,expression:"alumno_item.Nombre"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:t.alumno_item.Nombre},on:{input:function(o){o.target.composing||t.$set(t.alumno_item,"Nombre",o.target.value)}}})]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Apellido Paterno")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.alumno_item.ApellidoPaterno,expression:"alumno_item.ApellidoPaterno"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:t.alumno_item.ApellidoPaterno},on:{input:function(o){o.target.composing||t.$set(t.alumno_item,"ApellidoPaterno",o.target.value)}}})]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Apellido Materno")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.alumno_item.ApellidoMaterno,expression:"alumno_item.ApellidoMaterno"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:t.alumno_item.ApellidoMaterno},on:{input:function(o){o.target.composing||t.$set(t.alumno_item,"ApellidoMaterno",o.target.value)}}})]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("CURP")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.alumno_item.Curp,expression:"alumno_item.Curp"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:t.alumno_item.Curp},on:{input:function(o){o.target.composing||t.$set(t.alumno_item,"Curp",o.target.value)}}})]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Número de control")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.alumno_item.NumeroDeControl,expression:"alumno_item.NumeroDeControl"}],staticClass:"form-control",attrs:{type:"number",disabled:!0},domProps:{value:t.alumno_item.NumeroDeControl},on:{input:function(o){o.target.composing||t.$set(t.alumno_item,"NumeroDeControl",o.target.value)}}})]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Grupo")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.alumno_item.Grupo,expression:"alumno_item.Grupo"}],staticClass:"form-control",attrs:{type:"text",disabled:!0},domProps:{value:t.alumno_item.Grupo},on:{input:function(o){o.target.composing||t.$set(t.alumno_item,"Grupo",o.target.value)}}})]),t._m(3),i("div",{attrs:{id:"table_pagos"}},[i("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"100px"}},[i("button",{staticClass:"button is-primary mt-5 mb-1 align-left",on:{click:function(o){return t.abrirModal("Agregar",!0)}}},[i("i",{staticClass:"fas fa-plus"}),t._v("  Agregar pago ")]),i("br"),t.pagos_items.length<=0?i("div",{staticClass:"row col-12",staticStyle:{display:"grid","justify-content":"center"}},[i("p",[t._v("No se encontraron pagos")])]):i("div",{attrs:{id:"bootstrap_table"}},[i("div",{staticClass:"col-3 mr-0 align-rigth"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Buscar"},domProps:{value:t.filter},on:{blur:function(o){t.currentPage=1},input:function(o){o.target.composing||(t.filter=o.target.value)}}})]),i("b-table",{attrs:{striped:"",hover:"",outlined:"",items:t.pagos_items,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,filter:t.filter},scopedSlots:t._u([{key:"cell(Activo)",fn:function(t){return[1==t.item.Activo?i("button",{key:t.item.PagoId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[i("i",{staticClass:"far fa-check-square",staticStyle:{color:"green"}})]):i("button",{key:t.item.PagoId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]}},{key:"cell(opciones)",fn:function(o){return[i("button",{staticClass:"button is-default is-small",attrs:{value:"Detalles",title:"Ver Detalles"},on:{click:function(i){return t.abrirModal("Ver",!1,o.item)}}},[i("i",{staticClass:"far fa-eye"})]),i("button",{staticClass:"button is-info is-small",attrs:{value:"Editar",title:"Editar"},on:{click:function(i){return t.abrirModal("Editar",!0,o.item)}}},[i("i",{staticClass:"far fa-edit"})]),i("button",{staticClass:"button is-danger is-small",attrs:{disabled:0==o.item.Activo,value:"Eliminar",title:"Cancelar"},on:{click:function(i){return t.cancelar(o.item)}}},[i("i",{staticClass:"fas fa-ban"})])]}}],null,!1,2474091331)}),i("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(o){t.currentPage=o},expression:"currentPage"}})],1)])])])]):t._e(),i("section",{attrs:{id:"modal"}},[t.mostrarModal?i("div",{staticClass:"modal_div",attrs:{id:"modal_div"}},[i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-mask"},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-dialog modal-xl"},[i("div",{staticClass:"modal-content modal-xl"},[i("div",{staticClass:"modal-header"},[i("div",{staticClass:"col-11"},[i("h2",{staticClass:"modal-title text-center"},[t._v(" "+t._s(t.titutoModal)+" tipo de pago ")]),i("div",{staticClass:"line_red"})]),i("a",{staticClass:"button close_modal",on:{click:function(o){t.mostrarModal=!1}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),i("div",{staticClass:"modal-body"},[i("div",{staticClass:"row"},[i("section",{attrs:{id:"data_alumnos"}},[i("div",{staticClass:"row"}),i("div",{staticClass:"row seccion_modal"},[i("div",{staticClass:"col-3 form-group padding-model"},[i("tipos-pago",{key:t.pago_item.TipoDePago.key,attrs:{titulo:!0,label:"Tipo de pago*",disabled:!t.inhabilitar,tipoDePagoId:t.pago_item.TipoDePago.val.TipoDePagoId,TipoDeCicloEscolarId:t.pago_item.TipoDePago.tipoDeCicloEscolar>0?t.pago_item.TipoDePago.tipoDeCicloEscolar:null,funcion:"seleccionarTipoDePago"},on:{seleccionarTipoDePago:function(o){return t.seleccionarTipoDePago(o)}}}),t.pago_item.TipoDePago.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar tipo de pago "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])],1),i("div",{staticClass:"col-3 form-group padding-model"},[i("label",[t._v("Cantidad*")]),i("div",{staticClass:"input-group mb-3"},[i("div",{staticClass:"input-group-prepend"},[i("span",{staticClass:"input-group-text"},[t._v("$")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.cantidadTipoPago,expression:"cantidadTipoPago"}],staticClass:"form-control",attrs:{type:"text",disabled:!t.inhabilitar},domProps:{value:t.cantidadTipoPago},on:{blur:function(o){return t.limpiarValidez("TipoDePago")},input:function(o){o.target.composing||(t.cantidadTipoPago=o.target.value)}}}),i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",disabled:!t.inhabilitar},on:{click:function(o){return t.actualizarCantidadTotal()}}},[i("i",{staticClass:"fas fa-redo"})])]),t.pago_item.TipoDePago.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar cantidad "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])])]),i("div",{staticClass:"col-3"},[i("TiposCicloEscolar",{key:t.pago_item.CicloEscolar.key,attrs:{titulo:!0,label:"Ciclo Escolar*",actual:!0,disabled:!t.inhabilitar,tipoDeCicloEscolarId:t.pago_item?t.pago_item.CicloEscolar.val:-1,funcion:"seleccionarCicloEscolar"},on:{seleccionarCicloEscolar:function(o){return t.seleccionarCicloEscolar(o)}}}),t.pago_item.CicloEscolar.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar ciclo escolar "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])],1),i("div",{staticClass:"col-3 form-group padding-model"},[i("label",[t._v("Fecha de pago*")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.pago_item.FechaDePago.val,expression:"pago_item.FechaDePago.val"}],staticClass:"form-control",attrs:{type:"date",disabled:!t.inhabilitar},domProps:{value:t.pago_item.FechaDePago.val},on:{input:function(o){o.target.composing||t.$set(t.pago_item.FechaDePago,"val",o.target.value)}}})])])]),i("section",[i("div",{staticClass:"row seccion_modal"},[i("div",{staticClass:"col-12 seccion_titulo_modal"},[i("h3",[t._v("Recargos")])]),i("div",{staticClass:"col-4 form-group padding-model"},[i("tipos-recargos",{key:t.recargo_item.TipoRecargo.val.TipoDeRecargoId,attrs:{label:"Recargo",titulo:!0,disabled:!t.inhabilitar,tipoDeRecargoId:t.pago_item?t.recargo_item.TipoRecargo.val.TipoDeRecargoId:-1,funcion:"seleccionarTipoDeRecargo"},on:{seleccionarTipoDeRecargo:function(o){return t.seleccionarTipoDeRecargo(o)}}})],1),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Monto*")]),i("input",{key:t.recargo_item.Monto.val,staticClass:"form-control",attrs:{type:"text",disabled:t.mostrarEditarRecargo.desabledMonto||!t.inhabilitar},domProps:{value:t.currencyFormat(t.recargo_item.Monto.val)}})]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Fecha límite*")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.recargo_item.Fecha.val,expression:"recargo_item.Fecha.val"}],staticClass:"form-control",attrs:{type:"date",disabled:!t.inhabilitar},domProps:{value:t.recargo_item.Fecha.val},on:{input:function(o){o.target.composing||t.$set(t.recargo_item.Fecha,"val",o.target.value)}}})]),t.mostrarEditarRecargo.displayBtn?i("div",{staticClass:"modal-footer",staticStyle:{border:"0px"}},[i("button",{directives:[{name:"show",rawName:"v-show",value:t.mostrarEditarRecargo.displayRecargoBtn,expression:"mostrarEditarRecargo.displayRecargoBtn"}],staticClass:"button",attrs:{type:"button"},on:{click:function(o){t.mostrarEditarRecargo.quienAutoriza=!0}}},[t._v(" Editar recargo ")]),i("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:t.agregarRecargo}},[t._v(" Agregar recargo ")])]):t._e(),t.mostrarEditarRecargo.quienAutoriza?i("div",{staticClass:"col-12 form-group padding-model"},[i("usuarios",{key:t.recargo_item.Autoriza.val,attrs:{label:"Quien autoriza*",titulo:!0,usuarioId:t.recargo_item.Autoriza.val,disabled:!t.inhabilitar,funcion:"seleccionarTipoDeRecargo"},on:{seleccionarTipoDeRecargo:function(o){return t.seleccionarUsuario(o)}}})],1):t._e(),i("section",{attrs:{id:"data_table"}},[i("br"),i("div",{staticClass:"col-12 form-group padding-model"},[i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th",[t._v("Concepto")]),i("th",[t._v("Cantidad")]),i("th",[t._v("Días de retraso")]),i("th",[t._v("Total a pagar")]),i("th")])]),i("tbody",[t._l(t.itemsRecargo,(function(o){return i("tr",{key:o.Id},[i("td",[t._v(t._s(o.TipoRecargo.Nombre))]),i("td",[t._v(t._s(t.currencyFormat(o.Monto)))]),i("td",[t._v(t._s(o.DiasRetraso))]),i("td",[t._v("$"+t._s(o.TotalAPagar))]),i("td",[i("button",{directives:[{name:"show",rawName:"v-show",value:t.inhabilitar,expression:"inhabilitar"}],staticClass:"btn btn-default",on:{click:function(i){return t.eliminarRecargo(o)}}},[i("i",{staticClass:"fas fa-trash-alt"})])])])})),i("tr",[i("td",[t._v("Pago")]),i("td",[t._v("$"+t._s(t.currencyFormat(this.pago_item.TipoDePago.val.Monto)))]),i("td",[t._v(t._s())]),i("td",[t._v("$"+t._s(t.currencyFormat(this.pago_item.TipoDePago.val.Monto)))]),i("td")])],2)])])]),i("section",{attrs:{id:"data_total"}},[i("br"),i("div",{staticClass:"col-12 seccion_total_modal"},[i("label",[t._v("Total")]),i("label",{staticStyle:{float:"right"}},[t._v("$"+t._s(t.currencyFormat(t.pago_item.Cantidad.val)))])])])])])])]),i("div",{staticClass:"modal-footer"},[t.inhabilitar?i("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(o){return t.guardarPago()}}},[t._v(" Guardar ")]):t._e(),t.inhabilitar?i("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(o){t.mostrarModal=!1}}},[t._v(" Cancelar ")]):t._e(),t.inhabilitar?t._e():i("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(o){t.mostrarModal=!1}}},[t._v(" Cerrar ")])])])])])])])],1):t._e()]),t.isLoading?i("cargando"):t._e(),i("base-dialog",{attrs:{show:!!t.error,title:"Log in"},on:{close:t.handleError}},[i("p",[t._v(t._s(t.error))])])],1)},eo=[function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"col-12",attrs:{id:"Titulo"}},[i("h1",{staticClass:"titulo_azul"},[t._v("Control de pagos")]),i("div",{staticClass:"line_red"})])},function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"col-10"},[i("h1",{staticClass:"col-10"},[t._v("Favor de indicar filtros")])])},function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"col-12 seccion_titulo_first"},[i("h3",[t._v("Datos del alumno")])])},function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"col-12 seccion_titulo"},[i("h1",[t._v("Historial de pagos")])])}],ro={EstatusGeneral:{Activo:1,Inactivo:0},TipoEstatusAlumno:{Activo:1}},so=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",[i("div",{staticClass:"col-12"},[t.titulo?i("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),i("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.valor=o.target.multiple?i:i[0]},function(o){return t.seleccionar()}]}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar tipo de pago")]),t._l(t.items,(function(o,a){return i("option",{key:a,domProps:{value:o["TipoDePagoId"]}},[t._v(t._s(o["Nombre"]))])}))],2)]),t.isLoading?i("cargando"):t._e()],1)},lo=[],no={emits:["seleccionarTipoDePago"],data(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoDePagoId:Number,TipoDeCicloEscolarId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created(){this.getTiposDePago(),this.$props.tipoDePagoId>0&&(this.valor=this.$props.tipoDePagoId)},computed:{},methods:{async getTiposDePago(){try{this.isLoading=!0;const t={filtro:{activo:1}},o=await m.a.post(v+"administracion/tiposDePago",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.length>0&&(o.data.response.forEach(t=>{this.items.push({TipoDePagoId:t["001TipoDePagoId"],Nombre:t["001Nombre"],Monto:Number(t["001Monto"]),TipoDeCicloEscolarId:Number(t["002TipoDeCicloEscolarId"]),Activo:t["001Activo"]})}),this.$props.TipoDeCicloEscolarId>0&&(this.items=this.items.filter(t=>t.TipoDeCicloEscolarId==this.$props.TipoDeCicloEscolarId))),this.isLoading=!1}catch(t){console.log(t)}},seleccionar:function(){let t=this.items.find(t=>t.TipoDePagoId===this.valor);this.valor>0?this.$emit(this.$props.funcion,{id:this.valor,monto:t.Monto}):this.$emit(this.$props.funcion,null)}}},co=no,uo=Object(A["a"])(co,so,lo,!1,null,null,null),mo=uo.exports,po=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",[i("div",{staticClass:"col-12"},[t.titulo?i("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),i("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.valor=o.target.multiple?i:i[0]},function(o){return t.seleccionar()}]}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar recargo")]),t._l(t.items,(function(o,a){return i("option",{key:a,domProps:{value:o["TipoDeRecargoId"]}},[t._v(t._s(o["Nombre"]))])}))],2)]),t.isLoading?i("cargando"):t._e()],1)},vo=[],fo={emits:["seleccionarTipoDeRecargo"],data(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoDeRecargoId:Number,TipoDeCicloEscolarId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created(){this.getTiposDeRecargo(),this.$props.tipoDeRecargoId>0&&(this.valor=this.$props.tipoDeRecargoId)},computed:{},methods:{async getTiposDeRecargo(){try{this.isLoading=!0;const t={filtro:{activo:1}},o=await m.a.post(v+"administracion/tiposDeRecargo",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.length>0&&(o.data.response.forEach(t=>{this.items.push({TipoDeRecargoId:t["003TipoDeRecargoId"],Nombre:t["003Nombre"],Monto:"$"+t["003Monto"],TipoDeCicloEscolarId:Number(t["003TipoDeCicloEscolarId"]),Activo:t["003Activo"]})}),this.$props.TipoDeCicloEscolarId>0&&(this.items=this.items.filter(t=>t.TipoDeCicloEscolarId==this.$props.TipoDeCicloEscolarId))),this.isLoading=!1}catch(t){console.log(t)}},seleccionar:function(){let t=this.items.find(t=>t.TipoDeRecargoId===this.valor);this.valor>0?this.$emit(this.$props.funcion,{TipoDeRecargoId:this.valor,Nombre:t.Nombre,Monto:t.Monto}):this.$emit(this.$props.funcion,null)}}},go=fo,ho=Object(A["a"])(go,po,vo,!1,null,null,null),bo=ho.exports,_o=i("c1df"),Co=i.n(_o),yo={components:{TiposCicloEscolar:K,TiposPago:mo,TiposRecargos:bo},data(){return{isLoading:!1,error:null,mostrarFiltros:!0,mostrarModal:!1,mostrarEditarRecargo:{displayRecargoBtn:!0,displayBtn:!1,quienAutoriza:!1,desabledMonto:!0},titutoModal:"",filtros:{filtro_nombre:"",filtro_apellidoPaterno:"",filtro_apellidoMaterno:"",filtro_curp:"",filtro_numeroDeControl:"",filtro_activo:"-1"},inhabilitar:!0,perPage:5,currentPage:1,pagos_items:[],filter:"",itemsRecargo:[],fields:[{key:"PagoId",label:"Folio",sortable:!0},{key:"TipoDePago",label:"Tipo de pago",sortable:!0},{key:"Monto",label:"Cantidad",sortable:!0},{key:"FechaPago",label:"Fecha de pago",sortable:!0},{label:"Opciones",key:"opciones"}],alumno_item:{AlumnoId:"",Nombre:"",ApellidoPaterno:"",ApellidoMaterno:"",Curp:"",Genero:"",NumeroDeControl:0,Grupo:""},pago_item:{FechaDePago:{val:Co()().format("yyyy-MM-DD"),isValid:!0},CicloEscolar:{val:null,isValid:!0,key:""},PagoId:{val:null,isValid:!0},TipoDePago:{key:"",val:{TipoDePagoId:0,Monto:0},isValid:!0,tipoDeCicloEscolar:-1},Cantidad:{val:0,isValid:!0},Recargos:[]},recargo_item:{TipoRecargo:{val:{TipoDeRecargoId:0},isValid:!0},Monto:{val:0,isValid:!0},Fecha:{val:Co()(Co()().add(1,"M").month()+"-5-"+Co()().year()).format("yyyy-MM-DD"),isValid:!0},Autoriza:{val:null,isValid:!0},TotalAPagar:0,DiasRetraso:0},indexRecargos:0,cantidadTipoPago:0,newCantidadTipoPago:0,mostrarAlumno:!1}},computed:{rows(){return this.pagos_items.length}},watch:{cantidadTipoPago(t){this.newCantidadTipoPago=t}},created(){},methods:{actualizarCantidadTotal(){this.pago_item.Cantidad.val-=this.pago_item.TipoDePago.val.Monto,this.pago_item.Cantidad.val+=Number(this.newCantidadTipoPago),this.pago_item.TipoDePago.val.Monto=this.newCantidadTipoPago},async guardarPago(){this.actualizarCantidadTotal(),this.validarPago(),this.itemIsValid?(this.pago_item.Recargos=this.itemsRecargo,this.pago_item.PagoId&&this.pago_item.PagoId.val>0?this.editarPago():this.agregarPago()):this.$alert("Favor de completar los datos.")},validarPago(){this.itemIsValid=!0,(this.$store.getters.userId<=0||void 0==this.$store.getters.userId)&&this.$router.push({name:"Login"}),this.pago_item.TipoDePago.val.TipoDePagoId<=0&&(this.pago_item.TipoDePago.isValid=!1,this.itemIsValid=!1),(this.pago_item.TipoDePago.val.Monto<=0||""==this.pago_item.TipoDePago.val.Monto)&&(this.pago_item.TipoDePago.isValid=!1,this.itemIsValid=!1),(this.pago_item.CicloEscolar.val<=0||null==this.pago_item.TipoDePago.val.Monto)&&(this.pago_item.CicloEscolar.isValid=!1,this.itemIsValid=!1),this.pago_item.Cantidad.val<=0&&(this.itemIsValid=!1)},async editarPago(){const t={pago:{PagoId:this.pago_item.PagoId.val,FechaPago:this.pago_item.FechaDePago.val,Monto:this.pago_item.Cantidad.val,TipoDePagoId:this.pago_item.TipoDePago.val.TipoDePagoId,FechaRegistro:(new Date).toISOString().slice(0,19).replace("T"," "),Activo:ro.EstatusGeneral.Activo}};try{this.isLoading=!0;const o=await m.a.post(v+"administracion/editarPago",t);this.isLoading=!1,o.data.hayError?(console.log(o),this.$alert("No se pudo guardar, favor de volverlo a intentar.")):(this.mostrarModal=!1,console.log("El pago se editó con éxito."),this.pago_item.Recargos.length>0&&this.guardarRecargos(this.pago_item.PagoId.val))}catch(o){console.log(o)}},async guardarRecargos(t){try{const o={pagoId:t},i=await m.a.post(v+"administracion/eliminarRecargosDelPago",o);if(i.data.hayError)return console.log(i),void this.$alert("Los recargos no se pudieron eliminar, favor de volverlo a intentar.");console.log("Los recargos se eliminaron con éxito."),this.pago_item.Recargos.forEach(async o=>{const i={recargo:{PagoId:t,Monto:"string"==typeof o.Monto?Number(o.Monto.split("$")[1]):o.Monto,TipoDeRecargoId:o.TipoRecargo.Id,DiasRetraso:o.DiasRetraso,TotalAPagar:o.TotalAPagar,UsuarioId_Autoriza:o.UsuarioId_Autoriza,UsuarioId:this.$store.getters.userId,Activo:ro.EstatusGeneral.Activo}};this.agregarRecargoBD(i)})}catch(o){console.log(o)}},async agregarPago(){const t={pago:{FechaPago:this.pago_item.FechaDePago.val,Monto:this.pago_item.Cantidad.val,TipoDePagoId:this.pago_item.TipoDePago.val.TipoDePagoId,FechaRegistro:(new Date).toISOString().slice(0,19).replace("T"," "),AlumnoId:this.alumno_item.AlumnoId,UsuarioId:this.$store.getters.userId,Activo:ro.EstatusGeneral.Activo}};try{this.isLoading=!0;const o=await m.a.post(v+"administracion/agregarPago",t);o.data.hayError?(console.log(o),this.$alert("No se pudo guardar, favor de volverlo a intentar.")):(this.mostrarModal=!1,console.log("El pago se guardó con éxito."),this.pago_item.Recargos.length>0?this.guardarRecargos(o.data.response.insertId):(this.$alert("El pago se guardó con éxito."),this.getAlumnoConPagos())),this.isLoading=!1}catch(o){console.log(o)}},async agregarRecargoBD(t){try{const o=await m.a.post(v+"administracion/agregarRecargo",t);if(o.data.hayError)return console.log(o),void this.$alert("El recargo no se pudo agregar, favor de volverlo a intentar.");console.log("El recargo se guardó con éxito."),this.$alert("El pago y recargo(s) se guardaron con éxito."),this.getAlumnoConPagos()}catch(o){console.log(o)}},currencyFormat(t){return t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},eliminarRecargo(t){const o=this.itemsRecargo.indexOf(this.itemsRecargo.find(o=>o.Id===t.Id));this.pago_item.Cantidad.val-=Number(t.Monto.split("$")[1]),this.itemsRecargo.splice(o,1)},async agregarRecargo(){await this.calcularTotal(),this.mostrarEditarRecargo.quienAutoriza=!0,this.itemsRecargo.push({Id:this.indexRecargos,TipoRecargo:{Id:this.recargo_item.TipoRecargo.val.TipoDeRecargoId,Nombre:this.recargo_item.TipoRecargo.val.Nombre},Monto:this.recargo_item.TipoRecargo.val.Monto,DiasRetraso:this.recargo_item.DiasRetraso,TotalAPagar:this.recargo_item.TotalAPagar,UsuarioId_Autoriza:this.recargo_item.Autoriza.val}),this.indexRecargos++,this.limpiarRecargo()},async calcularTotal(){var t=Math.trunc(((new Date).getTime()-new Date(this.recargo_item.Fecha.val).getTime())/864e5);this.recargo_item.DiasRetraso=t,this.recargo_item.TotalAPagar=t*Number(this.recargo_item.Monto.val.split("$")[1]),this.pago_item.Cantidad.val+=this.recargo_item.TotalAPagar},limpiarRecargo(){this.recargo_item.TipoRecargo.val={TipoDeRecargoId:0},this.recargo_item.Monto.val=0,this.recargo_item.Fecha.val=Co()(Co()().add(1,"M").month()+"-5-"+Co()().year()).format("yyyy-MM-DD"),this.recargo_item.Autoriza.val=null,this.recargo_item.TotalAPagar=0,this.recargo_item.DiasRetraso=0,this.mostrarEditarRecargo.quienAutoriza=!1,this.mostrarEditarRecargo.desabledMonto=!0},abrirModal:function(t,o,i){this.titutoModal=t,this.mostrarModal=!this.mostrarModal,this.inhabilitar=o,this.limpiarModal(),i&&i.PagoId&&i.PagoId>0&&this.cargarItem(i)},limpiarModal(){this.pago_item.PagoId.val=null,this.cantidadTipoPago=0,this.pago_item.Cantidad.val=0,this.pago_item.FechaDePago.val=Co()().format("yyyy-MM-DD"),this.pago_item.TipoDePago.val.TipoDePagoId=-1,this.pago_item.TipoDePago.val.TipoDePagoId.Monto=0,this.pago_item.TipoDePago.key="edit_-1",this.pago_item.CicloEscolar.val=-1,this.pago_item.CicloEscolar.key="edit_-1",this.mostrarEditarRecargo.quienAutoriza=!1,this.itemsRecargo=[]},async cargarItem(t){let o=await this.getRecargos(t.PagoId);console.log(o),this.pago_item.PagoId.val=t.PagoId,this.cantidadTipoPago=t.Monto,this.pago_item.Cantidad.val=t.Monto,this.pago_item.FechaDePago.val=t.FechaPago,this.pago_item.TipoDePago.val.TipoDePagoId=Number(t.TipoDePagoId),this.pago_item.TipoDePago.key="edit_"+t.TipoDePagoId,this.pago_item.CicloEscolar.val=t.CicloEscolar,this.pago_item.CicloEscolar.key="edit_"+t.CicloEscolar},limpiarValidez(t){switch(t){case"TipoDePago":Number(this.pago_item.TipoDePago.val.TipoDePagoId)>0&&(this.pago_item[t].isValid=!0);break;case"CicloEscolar":Number(this.pago_item.CicloEscolar.val)>0&&(this.pago_item[t].isValid=!0);break;default:this.pago_item[t].isValid=!0;break}},seleccionarCicloEscolar(t){this.pago_item.CicloEscolar.val=t,this.pago_item.TipoDePago.tipoDeCicloEscolar=t,this.pago_item.TipoDePago.key=t,this.limpiarValidez("CicloEscolar")},seleccionarTipoDeRecargo(t){this.recargo_item.TipoRecargo.val=t,this.recargo_item.Monto.val=t.Monto,this.mostrarEditarRecargo.displayBtn=!0},seleccionarUsuario(t){this.recargo_item.Autoriza.val=t,t>0&&(this.mostrarEditarRecargo.desabledMonto=!1,this.mostrarEditarRecargo.displayRecargoBtn=!1)},seleccionarTipoDePago(t){null!=t?(console.log(t),this.pago_item.TipoDePago.val.Monto=t.monto,this.cantidadTipoPago=t.monto,this.pago_item.TipoDePago.val.TipoDePagoId=t.id,this.pago_item.Cantidad.val+=Number(t.monto)):(this.pago_item.TipoDePago.val.Monto=0,this.cantidadTipoPago=0,this.pago_item.TipoDePago.val.TipoDePagoId=0),this.limpiarValidez("TipoDePago")},async validarFiltros(){let t=!0;return""==this.filtros.filtro_nombre&&""==this.filtros.filtro_apellidoPaterno&&""==this.filtros.filtro_apellidoMaterno&&""==this.filtros.filtro_curp&&""==this.filtros.filtro_numeroDeControl&&"-1"==this.filtros.filtro_activo&&(t=!1),t},async getAlumnoConPagos(){try{if(await this.validarFiltros()){this.isLoading=!0,this.pagos_items=[];const t={filtro:{}};""!=this.filtros.filtro_nombre&&(t.filtro.nombre=this.filtros.filtro_nombre),""!=this.filtros.filtro_apellidoPaterno&&(t.filtro.apellidoPaterno=this.filtros.filtro_apellidoPaterno),""!=this.filtros.filtro_apellidoMaterno&&(t.filtro.apellidoMaterno=this.filtros.filtro_apellidoMaterno),""!=this.filtros.filtro_curp&&(t.filtro.curp=this.filtros.filtro_curp),""!=this.filtros.filtro_numeroDeControl&&(t.filtro.numeroDeControl=Number(this.filtros.filtro_numeroDeControl)),""!=this.filtros.filtro_activo&&(t.filtro.activo=Number(this.filtros.filtro_activo));const o=await m.a.post(v+"alumnos/alumnos",t);if(!o.data.hayError){if(this.isLoading=!1,this.mostrarAlumno=!0,o.data.response.length<=0)return this.error="No se encontró ninún alumno, favor de verificar los datos.",void(this.mostrarAlumno=!1);let t=o.data.response[0];this.getGrupos(Number(t["010EstructuraDeGrupoId"])),this.alumno_item.AlumnoId=t["011AlumnoId"],this.alumno_item.Nombre=t["011Nombre"],this.alumno_item.ApellidoPaterno=t["011ApellidoPaterno"],this.alumno_item.ApellidoMaterno=t["011ApellidoMaterno"],this.alumno_item.Curp=t["011CURP"],this.alumno_item.NumeroDeControl=t["011NumeroDeControl"],this.getPagos(Number(t["011AlumnoId"]))}}else console.log("error"),this.error="Favor de indicar algún filtro",this.mostrarAlumno=!1}catch(t){console.log(t)}},async getGrupos(t){try{this.isLoading=!0;const o={filtro:{activo:1}};""!=t&&(o.filtro.estructuraDeGrupoId=t);const i=await m.a.post(v+"administracion/estructurasDeGrupoNombres",o);i.data.hayError?this.$alert("No se pudo obtenera información, favor de volverlo a intentar."):i.data.response.length>0&&i.data.response.forEach(t=>{let o={EstructuraDeGrupoId:t["010EstructuraDeGrupoId"],TipoModalidad:t["004NombreModalidad"],TipoDeGrupo:t["006NombreGrupo"],TipoGrado:t["008NombreGrado"],Activo:t["010Activo"]};this.alumno_item.Grupo=o.TipoGrado+" "+o.TipoDeGrupo+" - "+o.TipoModalidad}),this.isLoading=!1}catch(o){console.log(o)}},async getPagos(t){try{if(t<=0)alert("No hay alumno Id");else{this.isLoading=!0,this.pagos_items=[];const o={filtro:{activo:1,alumnoId:t}},i=await m.a.post(v+"administracion/pagos",o);i.data.hayError?this.$alert("No se pudo obtenera información, favor de volverlo a intentar."):i.data.response.length>0&&i.data.response.forEach(t=>{this.pagos_items.push({PagoId:t["017PagoId"],Monto:t["017Monto"],TipoDePagoId:t["001TipoDePagoId"],TipoDePago:t["001TiposDePagoNombre"],CicloEscolar:t["002TipoDeCicloEscolarId"],FechaPago:Co()(t["017FechaPago"]).format("yyyy-MM-DD"),Activo:t["017Activo"]})}),this.isLoading=!1}}catch(o){console.log(o)}},async getRecargos(t){try{if(t<=0)alert("No hay pago Id");else{this.isLoading=!0;const o={filtro:{activo:1,pagoId:t}},i=await m.a.post(v+"administracion/recargos",o);i.data.hayError?this.$alert("No se pudo obtenera información, favor de volverlo a intentar."):i.data.response.length>0&&i.data.response.forEach(t=>{this.itemsRecargo.push({Id:t["003TipoDeRecargoId"],TipoRecargo:{Id:t["003TipoDeRecargoId"],Nombre:t["003NombreTipoRecargo"]},Monto:t["018Monto"],DiasRetraso:t["018DiasDeRetraso"],TotalAPagar:t["018MontoTotal"]}),this.indexRecargos++}),this.isLoading=!1}}catch(o){console.log(o)}},async cancelar(t){try{this.isLoading=!0;const o={pago:{id:t.PagoId,Activo:Number(0)}},i=await m.a.post(v+"administracion/cancelarPago",o);this.isLoading=!1,i.data.hayError?(console.log(i),this.$alert("Sucedio un error, favor de volver a intentarlo.")):(this.$alert("El pago se canceló correctamente."),this.getPagos(Number(this.pagos_items.PagoId)))}catch(o){console.log(o)}},limpiarFiltros(){this.filtros.filtro_nombre="",this.filtros.filtro_apellidoPaterno="",this.filtros.filtro_apellidoMaterno="",this.filtros.filtro_curp="",this.filtros.filtro_numeroDeControl="",this.filtros.filtro_activo="-1"},handleError(){this.error=null}}},Eo=yo,Io=(i("d187"),Object(A["a"])(Eo,ao,eo,!1,null,"59fb989d",null)),To=Io.exports,Do=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"container is-max-desktop"},[t._m(0),i("div",{staticClass:"col-12 row filtros_div",attrs:{id:"filtros_div"}},[i("div",{staticClass:"col-12 filtro_titulo"},[i("div",{staticClass:"row"},[t._m(1),i("div",{key:t.mostrarFiltros,staticClass:"col-2",on:{click:function(o){t.mostrarFiltros=!t.mostrarFiltros}}},[t.mostrarFiltros?t._e():i("i",{staticClass:"fas fa-angle-down",staticStyle:{float:"right"}}),t.mostrarFiltros?i("i",{staticClass:"fas fa-angle-up",staticStyle:{float:"right"}}):t._e()])])]),t.mostrarFiltros?i("div",{staticClass:"col-12 row"},[i("div",{staticClass:"row m-1 pb-2"},[i("div",{staticClass:"col-3"},[i("tiposCicloEscolar",{key:t.filtros.key_cicloEscolar,attrs:{titulo:!0,label:"Ciclo Escolar",funcion:"seleccionarCicloEscolar"},on:{seleccionarCicloEscolar:function(o){return t.seleccionarCicloEscolar(o)}}})],1),i("div",{staticClass:"col-3"},[i("tipos-nivel",{key:t.filtros.key_nivel,attrs:{label:"Nivel",titulo:!0,funcion:"seleccionarNivel"},on:{seleccionarNivel:function(o){return t.seleccionarNivel(o)}}})],1),i("div",{staticClass:"col-3"},[i("tipos-modalidad",{key:t.filtros.key_modalidad,attrs:{label:"Modalidad",titulo:!0,funcion:"seleccionarTipoModalidad"},on:{seleccionarTipoModalidad:function(o){return t.seleccionarTipoModalidad(o)}}})],1),i("div",{staticClass:"col-3"},[i("tipos-periodo",{key:t.filtros.key_periodo,attrs:{label:"Periodo",titulo:!0,funcion:"seleccionarPeriodo"},on:{seleccionarPeriodo:function(o){return t.seleccionarPeriodo(o)}}})],1)]),i("div",{staticClass:"row m-1 pb-1"},[i("div",{staticClass:"col-3"},[i("tipos-grado",{key:t.filtros.key_grado,attrs:{label:"Grado",titulo:!0,funcion:"seleccionarGrado"},on:{seleccionarGrado:function(o){return t.seleccionarGrado(o)}}})],1),i("div",{staticClass:"col-3"},[i("tipos-grupo",{key:t.filtros.key_grupo,attrs:{label:"Grupo",titulo:!0,funcion:"seleccionarGrupo"},on:{seleccionarGrupo:function(o){return t.seleccionarGrupo(o)}}})],1),i("div",{staticClass:"col-3"},[i("tipos-especialidad",{key:t.filtros.key_especialidad,attrs:{label:"Especialidad",titulo:!0,funcion:"seleccionarEspecialidad"},on:{seleccionarEspecialidad:function(o){return t.seleccionarEspecialidad(o)}}})],1),i("div",{staticClass:"col-3"},[i("label",{staticClass:"activo_label"},[t._v("Activo")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_activo,expression:"filtros.filtro_activo"}],staticClass:"form-control",on:{change:function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.$set(t.filtros,"filtro_activo",o.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar Activo")]),i("option",{attrs:{value:"1"}},[t._v("Si")]),i("option",{attrs:{value:"0"}},[t._v("No")])])])])]):t._e(),t.mostrarFiltros?i("div",{staticClass:"filtro_footer"},[i("button",{staticClass:"button is-default btn-sm mr-1",on:{click:function(o){return t.limpiarFiltros()}}},[t._v(" Mostrar Todo ")]),i("button",{staticClass:"button is-primary btn-sm",on:{click:function(o){return t.getGrupos()}}},[t._v(" Buscar ")])]):t._e()]),i("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"100px"}},[i("button",{staticClass:"button is-primary mt-5 mb-1 align-left",on:{click:function(o){return t.abrirModal("Agregar",null)}}},[i("i",{staticClass:"fas fa-plus"}),t._v("  Agregar grupo ")]),i("br"),t.items.length<=0?i("div",{staticClass:"row col-12",staticStyle:{display:"grid","justify-content":"center"}},[i("p",[t._v("No se encontraron registros")])]):i("div",{attrs:{id:"bootstrap_table"}},[i("div",{staticClass:"col-3 mr-0 align-rigth"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Buscar"},domProps:{value:t.filter},on:{blur:function(o){t.currentPage=1},input:function(o){o.target.composing||(t.filter=o.target.value)}}})]),i("b-table",{attrs:{striped:"",hover:"",outlined:"",items:t.items,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,filter:t.filter},scopedSlots:t._u([{key:"cell(Activo)",fn:function(t){return[1==t.item.Activo?i("button",{key:t.item.EstructuraDeGrupoId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[i("i",{staticClass:"far fa-check-square",staticStyle:{color:"green"}})]):i("button",{key:t.item.EstructuraDeGrupoId,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]}},{key:"cell(opciones)",fn:function(o){return[i("button",{staticClass:"button is-info is-small",attrs:{value:"Editar",title:"Editar"},on:{click:function(i){return t.abrirModal("Editar",o.item)}}},[i("i",{staticClass:"far fa-edit"})]),i("button",{staticClass:"button is-danger is-small",attrs:{disabled:0==o.item.Activo,value:"Eliminar",title:"Cancelar"},on:{click:function(i){return t.cancelar(o.item)}}},[i("i",{staticClass:"fas fa-ban"})])]}}])}),i("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(o){t.currentPage=o},expression:"currentPage"}})],1)]),t.mostrarModal?i("div",{staticClass:"modal_div",attrs:{id:"modal_div"}},[i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-mask"},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("div",{staticClass:"col-11"},[i("h2",{staticClass:"modal-title text-center"},[t._v(" "+t._s(t.titutoModal)+" Grupo ")]),i("div",{staticClass:"line_red"})]),i("a",{staticClass:"button close_modal",on:{click:function(o){t.mostrarModal=!1}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),i("div",{staticClass:"modal-body"},[i("div",{staticClass:"row"},[i("div",{staticClass:"row container_modal"},[i("div",{staticClass:"col-3 form-group padding-model"},[i("tipos-ciclo-escolar",{attrs:{label:"Ciclo Escolar",titulo:!0,tipoDeCicloEscolarId:t.item.TipoDeCicloEscolarId,funcion:"seleccionarCicloEscolarItem"},on:{seleccionarCicloEscolarItem:function(o){return t.seleccionarCicloEscolarItem(o)}}})],1),i("div",{staticClass:"col-3 form-group padding-model"},[i("tipos-modalidad",{key:t.item.TipoModalidadId,attrs:{tipoDeModalidadId:t.item.TipoModalidadId,label:"Modalidad",titulo:!0,funcion:"seleccionarTipoModalidadItem"},on:{seleccionarTipoModalidadItem:function(o){return t.seleccionarTipoModalidadItem(o)}}})],1),i("div",{staticClass:"col-3 form-group padding-model"},[i("tipos-periodo",{key:t.item.TipoPeriodoId,attrs:{tipoPeriodoId:t.item.TipoPeriodoId,label:"Periodo",titulo:!0,funcion:"seleccionarPeriodoItem"},on:{seleccionarPeriodoItem:function(o){return t.seleccionarPeriodoItem(o)}}})],1),i("div",{staticClass:"col-3 form-group padding-model"},[i("tipos-grupo",{key:t.item.TipoDeGrupoId,attrs:{tipoDeGrupoId:t.item.TipoDeGrupoId,label:"Grupo",titulo:!0,funcion:"seleccionarGrupoItem"},on:{seleccionarGrupoItem:function(o){return t.seleccionarGrupoItem(o)}}})],1)]),i("div",{staticClass:"row container_bottom_modal"},[i("div",{staticClass:"col-3 form-group padding-model"},[i("tipos-nivel",{key:t.item.TiposNivelId,attrs:{tipoNivelId:t.item.TiposNivelId,titulo:!0,label:"Nivel",funcion:"seleccionarNivelItem"},on:{seleccionarNivelItem:function(o){return t.seleccionarNivelItem(o)}}})],1),i("div",{staticClass:"col-3 form-group padding-model"},[i("tipos-grado",{key:t.item.TipoGradoId,attrs:{tipoDeGradoId:t.item.TipoGradoId,label:"Grado",titulo:!0,funcion:"seleccionarGradoItem"},on:{seleccionarGradoItem:function(o){return t.seleccionarGradoItem(o)}}})],1),i("div",{staticClass:"col-3 form-group padding-model"},[i("tipos-especialidad",{key:t.item.TipoEspecialidadId,attrs:{TipoEspecialidadId:t.item.TipoEspecialidadId,label:"Especialidad",titulo:!0,funcion:"seleccionarEspecialidadItem"},on:{seleccionarEspecialidadItem:function(o){return t.seleccionarEspecialidadItem(o)}}})],1),i("div",{staticClass:"col-3 form-group padding-model"},[i("label",{staticClass:"activo_label"},[t._v("Activo")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.item.Activo,expression:"item.Activo"}],staticClass:"form-control",on:{change:function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.$set(t.item,"Activo",o.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"-1",selected:""}},[t._v("Seleccionar Activo")]),i("option",{attrs:{value:"1"}},[t._v("Si")]),i("option",{attrs:{value:"0"}},[t._v("No")])])])])])]),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(o){return t.guardarGrupo()}}},[t._v(" Guardar ")]),i("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(o){t.mostrarModal=!1}}},[t._v(" Cancelar ")])])])])])])])],1):t._e(),t.isLoading?i("cargando"):t._e()],1)},No=[function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"col-12",attrs:{id:"Titulo"}},[i("h1",{staticClass:"titulo_azul"},[t._v("Grupos")]),i("div",{staticClass:"line_red"})])},function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"col-10"},[i("h1",{staticClass:"col-10"},[t._v("Favor de indicar filtros")])])}],Ao={components:{TiposCicloEscolar:K,TiposNivel:nt},data(){return{isLoading:!1,isValid:!0,ciclosEscolares:[],modalidades:[],periodos:[],tiposDeGrupos:[],tiposDeNivel:[],tiposDeGrado:[],especialidades:[],items:[],item:{EstructuraDeGrupoId:-1,TipoDeCicloEscolarId:-1,TiposNivelId:-1,TipoModalidadId:-1,TipoPeriodoId:-1,TipoGradoId:-1,TipoDeGrupoId:-1,TipoEspecialidadId:-1,Activo:"-1"},fields:[{key:"EstructuraDeGrupoId",label:"Folio",sortable:!0},{key:"TipoDeCicloEscolar.Nombre",label:"Ciclo Escolar",sortable:!0},{key:"TipoModalidad.Nombre",label:"Modalidad",sortable:!0},{key:"TipoPeriodo.Nombre",label:"Periodo"},{key:"TipoDeGrupo.Nombre",label:"Grupo",sortable:!0},{key:"TiposNivel.Nombre",label:"Nivel",sortable:!0},{key:"TipoGrado.Nombre",label:"Grado",sortable:!0},{key:"Especialidad.Nombre",label:"Especialidad",sortable:!0},{label:"Activo",key:"Activo"},{label:"Opciones",key:"opciones"}],filter:"",perPage:5,currentPage:1,mostrarModal:!1,titutoModal:"",mostrarFiltros:!0,filtros:{filtro_cicloEscolar:"",key_cicloEscolar:0,filtro_nivel:"",key_nivel:0,filtro_modalidad:"",key_modalidad:0,filtro_periodo:"",key_periodo:0,filtro_grado:"",key_grado:0,filtro_grupo:"",key_grupo:0,filtro_especialidad:"",key_especialidad:0,filtro_activo:"-1"}}},created(){this.getTipoDeCicloEscolar(),this.getTiposDeModalidad(),this.getTiposPeriodo(),this.getTiposDeGrupo(),this.getTiposNivel(),this.getTiposDeGrado(),this.getEspecialidades()},computed:{rows(){return this.items.length}},methods:{async getTipoDeCicloEscolar(){try{this.isLoading=!0;const t={filtro:{}},o=await m.a.post(v+"administracion/tiposDeCicloEscolarCatalogo",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.length>0&&o.data.response.forEach(t=>{this.ciclosEscolares.push({TipoDeCicloEscolarId:t["002TipoDeCicloEscolarId"],Nombre:t["002AñoDeInicio"]+"-"+t["002AñoDeTermino"]})}),this.isLoading=!1}catch(t){console.log(t)}},async getTiposDeModalidad(){try{this.isLoading=!0;const t={filtro:{activo:1}},o=await m.a.post(v+"catalogo/tiposDeModalidad",t);o.data.response.forEach(t=>{this.modalidades.push({TipoDeModalidadId:t["004TipoModalidadId"],Nombre:t["004Nombre"],Activo:t["004Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},async getTiposPeriodo(){try{this.isLoading=!0;const t={filtro:{activo:1}},o=await m.a.post(v+"catalogo/tiposPeriodo",t);o.data.response.forEach(t=>{this.periodos.push({TipoPeriodoId:t["005TipoPeriodoId"],Nombre:t["005Nombre"],Activo:t["005Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},async getTiposDeGrupo(){try{this.isLoading=!0;const t={filtro:{activo:1}},o=await m.a.post(v+"catalogo/tiposDeGrupo",t);o.data.response.forEach(t=>{this.tiposDeGrupos.push({TipoGrupoId:t["006TipoDeGrupoId"],Nombre:t["006Nombre"],Activo:t["006Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},async getTiposNivel(){try{this.isLoading=!0;const t={filtro:{activo:1}},o=await m.a.post(v+"catalogo/tiposNivel",t);o.data.response.forEach(t=>{this.tiposDeNivel.push({TipoNivelId:t["007TiposNivelId"],Nombre:t["007Nombre"],Activo:t["007Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},async getTiposDeGrado(){try{this.isLoading=!0;const t={filtro:{activo:1}},o=await m.a.post(v+"catalogo/tiposGrado",t);o.data.response.forEach(t=>{this.tiposDeGrado.push({TipoGradoId:t["008TipoGradoId"],Nombre:t["008Nombre"],Activo:t["008Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},async getEspecialidades(){try{this.isLoading=!0;const t={filtro:{activo:1}},o=await m.a.post(v+"catalogo/especialidades",t);o.data.response.forEach(t=>{this.especialidades.push({EspecialidadId:t["009TipoEspecialidadId"],Nombre:t["009Nombre"],Activo:t["009Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},async getGrupos(){try{this.isLoading=!0,this.limpiarVariables();const t={filtro:{}};""!=this.filtros.filtro_cicloEscolar&&(t.filtro.cicloEscolar=this.filtros.filtro_cicloEscolar),""!=this.filtros.filtro_nivel&&(t.filtro.nivel=Number(this.filtros.filtro_nivel)),""!=this.filtros.filtro_modalidad&&(t.filtro.modalidad=Number(this.filtros.filtro_modalidad)),""!=this.filtros.filtro_periodo&&(t.filtro.periodo=Number(this.filtros.filtro_periodo)),""!=this.filtros.filtro_grado&&(t.filtro.grado=Number(this.filtros.filtro_grado)),""!=this.filtros.filtro_grupo&&(t.filtro.grupo=Number(this.filtros.filtro_grupo)),""!=this.filtros.filtro_especialidad&&(t.filtro.especialidad=Number(this.filtros.filtro_especialidad)),""!=this.filtros.filtro_activo&&(t.filtro.activo=Number(this.filtros.filtro_activo));const o=await m.a.post(v+"administracion/estructurasDeGrupo",t);o.data.hayError?this.$alert("No se pudo obtener información, favor de volverlo a intentar."):o.data.response.length>0&&o.data.response.forEach(t=>{this.items.push({EstructuraDeGrupoId:t["010EstructuraDeGrupoId"],TipoDeCicloEscolar:this.ciclosEscolares.find(o=>o.TipoDeCicloEscolarId===Number(t["002TipoDeCicloEscolarId"])),TipoModalidad:this.modalidades.find(o=>o.TipoDeModalidadId===Number(t["004TipoModalidadId"])),TipoPeriodo:this.periodos.find(o=>o.TipoPeriodoId===Number(t["005TipoPeriodoId"])),TipoDeGrupo:this.tiposDeGrupos.find(o=>o.TipoGrupoId===Number(t["006TipoDeGrupoId"])),TiposNivel:this.tiposDeNivel.find(o=>o.TipoNivelId===Number(t["007TiposNivelId"])),TipoGrado:this.tiposDeGrado.find(o=>o.TipoGradoId===Number(t["008TipoGradoId"])),Especialidad:this.especialidades.find(o=>o.EspecialidadId===Number(t["009TipoEspecialidadId"])),Activo:t["010Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},seleccionarCicloEscolar:function(t){this.filtros.filtro_cicloEscolar=t},seleccionarCicloEscolarItem:function(t){console.log(t),this.item.TipoDeCicloEscolarId=t},seleccionarTipoModalidad:function(t){this.filtros.filtro_modalidad=t},seleccionarTipoModalidadItem:function(t){this.item.TipoModalidadId=t},seleccionarNivel:function(t){this.filtros.filtro_nivel=t},seleccionarNivelItem:function(t){this.item.TiposNivelId=t},seleccionarPeriodo:function(t){this.filtros.filtro_periodo=t},seleccionarPeriodoItem:function(t){this.item.TipoPeriodoId=t},seleccionarGrado:function(t){this.filtros.filtro_grado=t},seleccionarGradoItem:function(t){this.item.TipoGradoId=t},seleccionarGrupo:function(t){this.filtros.filtro_grupo=t},seleccionarGrupoItem:function(t){this.item.TipoDeGrupoId=t},seleccionarEspecialidad:function(t){this.filtros.filtro_especialidad=t},seleccionarEspecialidadItem:function(t){this.item.TipoEspecialidadId=t},abrirModal:function(t,o){this.titutoModal=t,this.limpiarVariables(),"Editar"==t&&(this.item.EstructuraDeGrupoId=o.EstructuraDeGrupoId,this.item.TipoDeCicloEscolarId=o.TipoDeCicloEscolar.TipoDeCicloEscolarId,this.item.TiposNivelId=o.TiposNivel.TipoNivelId,this.item.TipoModalidadId=o.TipoModalidad.TipoDeModalidadId,this.item.TipoPeriodoId=o.TipoPeriodo.TipoPeriodoId,this.item.TipoGradoId=o.TipoGrado.TipoGradoId,this.item.TipoDeGrupoId=o.TipoDeGrupo.TipoGrupoId,this.item.TipoEspecialidadId=o.Especialidad.EspecialidadId,this.item.Activo=o.Activo),this.mostrarModal=!this.mostrarModal},async guardarGrupo(){console.log("entra"),this.item.EstructuraDeGrupoId>0?this.editarGrupo():this.agregarGrupo()},async validar(){return this.isValid=!0,(this.$store.getters.userId<=0||void 0==this.$store.getters.userId)&&this.$router.push({name:"Login"}),(this.item.TipoDeCicloEscolarId<=0||this.item.TiposNivelId<=0||this.item.TipoModalidadId<=0||this.item.TipoPeriodoId<=0||this.item.TipoGradoId<=0||this.item.TipoDeGrupoId<=0||this.item.TipoEspecialidadId<=0||this.item.Activo<=0)&&(this.$alert("Favor de completar datos."),this.isValid=!1),!0},async agregarGrupo(){try{if(await this.validar()){this.isLoading=!0;const t={estructuraDeGrupo:{EstructuraDeGrupoId:null,TipoDeCicloEscolarId:Number(this.item.TipoDeCicloEscolarId),TiposNivelId:Number(this.item.TiposNivelId),TipoModalidadId:Number(this.item.TipoModalidadId),TipoPeriodoId:Number(this.item.TipoPeriodoId),TipoGradoId:Number(this.item.TipoGradoId),TipoDeGrupoId:Number(this.item.TipoDeGrupoId),TipoEspecialidadId:Number(this.item.TipoEspecialidadId),UsuarioId:this.$store.getters.userId,Activo:Number(this.item.Activo)}},o=await m.a.post(v+"administracion/guardarEstructurasDeGrupo",t);this.isLoading=!1,o.data.hayError?(console.log(o),this.$alert("No se pudo guardar, favor de volverlo a intentar.")):(this.mostrarModal=!1,this.$alert("El grupo se guardó con éxito."),this.limpiarVariables(),this.getGrupos())}}catch(t){console.log(t)}},async editarGrupo(){try{this.isLoading=!0;const t={estructuraDeGrupo:{EstructuraDeGrupoId:this.item.EstructuraDeGrupoId,TipoDeCicloEscolarId:Number(this.item.TipoDeCicloEscolarId),TiposNivelId:Number(this.item.TiposNivelId),TipoModalidadId:Number(this.item.TipoModalidadId),TipoPeriodoId:Number(this.item.TipoPeriodoId),TipoGradoId:Number(this.item.TipoGradoId),TipoDeGrupoId:Number(this.item.TipoDeGrupoId),TipoEspecialidadId:Number(this.item.TipoEspecialidadId),Activo:Number(this.item.Activo)}},o=await m.a.post(v+"administracion/editarEstructurasDeGrupo",t);this.isLoading=!1,o.data.hayError?(console.log(o),this.$alert("No se pudo guardar, favor de volverlo a intentar.")):(this.$alert("El grupo se guardó con éxito."),this.mostrarModal=!1,this.limpiarVariables(),this.getGrupos())}catch(t){console.log(t)}},async cancelar(t){try{this.isLoading=!0;const o={estructuraDeGrupo:{EstructuraDeGrupoId:t.EstructuraDeGrupoId,Activo:Number(0)}},i=await m.a.post(v+"administracion/cancelarEstructuraDeGrupo",o);this.isLoading=!1,i.data.hayError?(console.log(i),this.$alert("Alert Message.")):(this.$alert("El grupo se canceló correctamente."),this.getGrupos())}catch(o){console.log(o)}},limpiarVariables:function(){this.items=[],this.item={EstructuraDeGrupoId:-1,TipoDeCicloEscolarId:-1,TiposNivelId:-1,TipoModalidadId:-1,TipoPeriodoId:-1,TipoGradoId:-1,TipoDeGrupoId:-1,TipoEspecialidadId:-1,Activo:"-1"}},limpiarFiltros(){this.filtros.filtro_cicloEscolar="",this.filtros.filtro_nivel="",this.filtros.filtro_modalidad="",this.filtros.filtro_periodo,this.filtros.filtro_grado="",this.filtros.filtro_grupo="",this.filtros.filtro_especialidad="",this.filtros.filtro_activo="-1",this.filtros.key_cicloEscolar++,this.filtros.key_nivel++,this.filtros.key_modalidad++,this.filtros.key_periodo++,this.filtros.key_grado++,this.filtros.key_grupo++,this.filtros.key_especialidad++,this.getGrupos()}}},Po=Ao,Mo=(i("1f8d"),Object(A["a"])(Po,Do,No,!1,null,null,null)),ko=Mo.exports;const wo=[{name:"TiposDePago",path:"/tiposDePago",component:qt,meta:{requiresAuth:!0}},{name:"TiposCicloEscolar",path:"/tiposCicloEscolar",component:Kt,meta:{requiresAuth:!0}},{name:"TiposDeRecargos",path:"/tiposDeRecargos",component:io,meta:{requiresAuth:!0}},{name:"Grupos",path:"/grupos",component:ko,meta:{requiresAuth:!0}},{name:"TiposDePagos",path:"/tiposDePagos",component:To,meta:{requiresAuth:!0}}];var $o=wo,Go=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"container is-max-desktop"},[t._m(0),i("section",{attrs:{id:"filtro"}},[i("div",{staticClass:"col-12 row filtros_div",attrs:{id:"filtros_div"}},[i("div",{staticClass:"col-12 filtro_titulo"},[i("div",{staticClass:"row"},[t._m(1),i("div",{key:t.mostrarFiltros,staticClass:"col-2",on:{click:function(o){t.mostrarFiltros=!t.mostrarFiltros}}},[t.mostrarFiltros?t._e():i("i",{staticClass:"fas fa-angle-down",staticStyle:{float:"right"}}),t.mostrarFiltros?i("i",{staticClass:"fas fa-angle-up",staticStyle:{float:"right"}}):t._e()])])]),t.mostrarFiltros?i("div",{staticClass:"col-12 row"},[i("div",{staticClass:"col-4"},[i("label",[t._v("Nombre")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_nombre,expression:"filtros.filtro_nombre"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtros.filtro_nombre},on:{input:function(o){o.target.composing||t.$set(t.filtros,"filtro_nombre",o.target.value)}}})]),i("div",{staticClass:"col-4"},[i("label",[t._v("Apellido Paterno")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_apellidoPaterno,expression:"filtros.filtro_apellidoPaterno"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtros.filtro_apellidoPaterno},on:{input:function(o){o.target.composing||t.$set(t.filtros,"filtro_apellidoPaterno",o.target.value)}}})]),i("div",{staticClass:"col-4"},[i("label",[t._v("Apellido Materno")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_apellidoMaterno,expression:"filtros.filtro_apellidoMaterno"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtros.filtro_apellidoMaterno},on:{input:function(o){o.target.composing||t.$set(t.filtros,"filtro_apellidoMaterno",o.target.value)}}})]),i("div",{staticClass:"col-4"},[i("label",[t._v("CURP")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_curp,expression:"filtros.filtro_curp"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtros.filtro_curp},on:{input:function(o){o.target.composing||t.$set(t.filtros,"filtro_curp",o.target.value)}}})]),i("div",{staticClass:"col-4"},[i("label",[t._v("Número de control")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_numeroDeControl,expression:"filtros.filtro_numeroDeControl"}],staticClass:"form-control",attrs:{type:"number",min:"0"},domProps:{value:t.filtros.filtro_numeroDeControl},on:{input:function(o){o.target.composing||t.$set(t.filtros,"filtro_numeroDeControl",o.target.value)}}})]),i("div",{staticClass:"col-4"},[i("label",{staticClass:"activo_label"},[t._v("Activo")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_activo,expression:"filtros.filtro_activo"}],staticClass:"form-control",on:{change:function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.$set(t.filtros,"filtro_activo",o.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar Activo")]),i("option",{attrs:{value:"1"}},[t._v("Si")]),i("option",{attrs:{value:"0"}},[t._v("No")])])])]):t._e(),t.mostrarFiltros?i("div",{staticClass:"filtro_footer"},[i("button",{staticClass:"button is-default btn-sm mr-1",on:{click:function(o){return t.limpiarFiltros()}}},[t._v(" Mostrar Todo ")]),i("button",{staticClass:"button is-primary btn-sm",on:{click:function(o){return t.getAlumnos()}}},[t._v(" Buscar ")])]):t._e()])]),i("section",{attrs:{id:"data_table"}},[i("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"100px"}},[i("button",{staticClass:"button is-primary mt-5 mb-1 align-left",on:{click:function(o){return t.abrirModal("Agregar",!0,{})}}},[i("i",{staticClass:"fas fa-plus"}),t._v("  Agregar alumno ")]),i("br"),t.items.length<=0?i("div",{staticClass:"row col-12",staticStyle:{display:"grid","justify-content":"center"}},[i("p",[t._v("No se encontraron registros")])]):i("div",{attrs:{id:"bootstrap_table"}},[i("div",{staticClass:"col-3 mr-0 align-rigth"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Buscar"},domProps:{value:t.filter},on:{blur:function(o){t.currentPage=1},input:function(o){o.target.composing||(t.filter=o.target.value)}}})]),i("b-table",{attrs:{striped:"",hover:"",outlined:"",items:t.items,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,filter:t.filter},scopedSlots:t._u([{key:"cell(Activo)",fn:function(t){return[1==t.item.Activo?i("button",{key:t.item.AlumnoId.val,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[i("i",{staticClass:"far fa-check-square",staticStyle:{color:"green"}})]):i("button",{key:t.item.AlumnoId.val,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]}},{key:"cell(opciones)",fn:function(o){return[i("button",{staticClass:"button is-default is-small",attrs:{value:"Detalles",title:"Ver Detalles"},on:{click:function(i){return t.abrirModal("",!1,o.item)}}},[i("i",{staticClass:"far fa-eye"})]),i("button",{staticClass:"button is-info is-small",attrs:{value:"Editar",title:"Editar"},on:{click:function(i){return t.abrirModal("Editar",!0,o.item)}}},[i("i",{staticClass:"far fa-edit"})]),i("button",{staticClass:"button is-danger is-small",attrs:{disabled:0==o.item.Activo,value:"Eliminar",title:"Cancelar"},on:{click:function(i){return t.cancelar(o.item)}}},[i("i",{staticClass:"fas fa-ban"})])]}}])}),i("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(o){t.currentPage=o},expression:"currentPage"}})],1)])]),i("section",{attrs:{id:"modal"}},[t.mostrarModal?i("div",{staticClass:"modal_div",attrs:{id:"modal_div"}},[i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-mask"},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-dialog modal-xl"},[i("div",{staticClass:"modal-content modal-xl"},[i("div",{staticClass:"modal-header"},[i("div",{staticClass:"col-11"},[i("h2",{staticClass:"modal-title text-center"},[t._v(" "+t._s(t.titutoModal)+" Alumno ")]),i("div",{staticClass:"line_red"})]),i("a",{staticClass:"button close_modal",on:{click:function(o){t.mostrarModal=!1}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),i("div",{staticClass:"modal-body"},[i("div",{staticClass:"row"},[i("section",{attrs:{id:"data_alumnos"}},[i("div",{staticClass:"row seccion_modal"},[i("div",{staticClass:"col-12 seccion_titulo_modal"},[i("h3",[t._v("Datos del alumno")])]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Nombre*")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.Nombre.val,expression:"item.Nombre.val"}],staticClass:"form-control",attrs:{type:"text",disabled:!t.inhabilitar},domProps:{value:t.item.Nombre.val},on:{blur:function(o){return t.limpiarValidez("Nombre")},input:function(o){o.target.composing||t.$set(t.item.Nombre,"val",o.target.value)}}}),t.item.Nombre.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar un nombre "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Apellido Paterno*")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.ApellidoPaterno.val,expression:"item.ApellidoPaterno.val"}],staticClass:"form-control",attrs:{type:"text",disabled:!t.inhabilitar},domProps:{value:t.item.ApellidoPaterno.val},on:{blur:function(o){return t.limpiarValidez("ApellidoPaterno")},input:function(o){o.target.composing||t.$set(t.item.ApellidoPaterno,"val",o.target.value)}}}),t.item.ApellidoPaterno.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar un apellido "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Apellido Materno*")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.ApellidoMaterno.val,expression:"item.ApellidoMaterno.val"}],staticClass:"form-control",attrs:{type:"text",disabled:!t.inhabilitar},domProps:{value:t.item.ApellidoMaterno.val},on:{blur:function(o){return t.limpiarValidez("ApellidoMaterno")},input:function(o){o.target.composing||t.$set(t.item.ApellidoMaterno,"val",o.target.value)}}}),t.item.ApellidoMaterno.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar un apellido "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("CURP*")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.Curp.val,expression:"item.Curp.val"}],staticClass:"form-control",attrs:{type:"text",disabled:!t.inhabilitar},domProps:{value:t.item.Curp.val},on:{blur:function(o){return t.limpiarValidez("Curp")},input:function(o){o.target.composing||t.$set(t.item.Curp,"val",o.target.value)}}}),t.item.Curp.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar la CURP "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Fecha de nacimiento*")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.FechaDeNacimiento.val,expression:"item.FechaDeNacimiento.val"}],staticClass:"form-control",attrs:{type:"date",disabled:!t.inhabilitar},domProps:{value:t.item.FechaDeNacimiento.val},on:{blur:function(o){return t.limpiarValidez("FechaDeNacimiento")},input:function(o){o.target.composing||t.$set(t.item.FechaDeNacimiento,"val",o.target.value)}}}),t.item.FechaDeNacimiento.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar fecha de nacimiento "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),i("div",{staticClass:"col-4 padding-model"},[i("label",[t._v("Género*")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.item.Genero.val,expression:"item.Genero.val"}],staticClass:"form-control",attrs:{disabled:!t.inhabilitar},on:{blur:function(o){return t.limpiarValidez("Genero")},change:function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.$set(t.item.Genero,"val",o.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"-1",selected:""}},[t._v("Seleccionar Género")]),i("option",{attrs:{value:"Femenino"}},[t._v("Femenino")]),i("option",{attrs:{value:"Masculino"}},[t._v("Masculino")])]),t.item.Genero.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar género "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Número de control")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.NumeroDeControl.val,expression:"item.NumeroDeControl.val"}],staticClass:"form-control",attrs:{type:"number",min:"0",disabled:!t.inhabilitar},domProps:{value:t.item.NumeroDeControl.val},on:{input:function(o){o.target.composing||t.$set(t.item.NumeroDeControl,"val",o.target.value)}}}),t.item.NumeroDeControl.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar la número de control "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),i("div",{staticClass:"col-4 form-group padding-model"},[i("escuela",{key:t.item.EscuelaId.val,attrs:{label:"Escuela de procedencia*",escuelaId:t.item.EscuelaId.val,titulo:!0,disabled:!t.inhabilitar,funcion:"seleccionarEscuela"},on:{seleccionarEscuela:function(o){return t.seleccionarEscuela(o)},blur:function(o){return t.limpiarValidez("EscuelaId")}}}),t.item.EscuelaId.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar escuela de procedencia "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])],1),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Promedio de procedencia")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.Promedio.val,expression:"item.Promedio.val"}],staticClass:"form-control",attrs:{type:"text",disabled:!t.inhabilitar},domProps:{value:t.item.Promedio.val},on:{input:function(o){o.target.composing||t.$set(t.item.Promedio,"val",o.target.value)}}}),t.item.Promedio.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar promedio "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Beca de inscripción")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.BecaInscripcion.val,expression:"item.BecaInscripcion.val"}],staticClass:"form-control",attrs:{type:"number",disabled:!t.inhabilitar},domProps:{value:t.item.BecaInscripcion.val},on:{input:function(o){o.target.composing||t.$set(t.item.BecaInscripcion,"val",o.target.value)}}})]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Beca de mensualidad")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.BecaMensualidad.val,expression:"item.BecaMensualidad.val"}],staticClass:"form-control",attrs:{type:"number",disabled:!t.inhabilitar},domProps:{value:t.item.BecaMensualidad.val},on:{input:function(o){o.target.composing||t.$set(t.item.BecaMensualidad,"val",o.target.value)}}})]),i("div",{staticClass:"col-4 form-group padding-model"},[i("tipos-estado-alumno",{key:t.item.TipoEstatusAlumno.key,attrs:{label:"Estado de Alumno*",estadoAlumnoId:t.item.TipoEstatusAlumno.val,titulo:!0,disabled:!t.inhabilitar,funcion:"seleccionarEstadoAlumno"},on:{seleccionarEstadoAlumno:function(o){return t.seleccionarEstadoAlumno(o)}}}),t.item.TipoEstatusAlumno.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar estado "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])],1),i("div",{staticClass:"col-12 form-group padding-model"},[i("label",[t._v("Domicilio*")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.item.Domicilio.val,expression:"item.Domicilio.val"}],staticClass:"form-control",attrs:{type:"text",cols:"",disabled:!t.inhabilitar},domProps:{value:t.item.Domicilio.val},on:{blur:function(o){return t.limpiarValidez("Domicilio")},input:function(o){o.target.composing||t.$set(t.item.Domicilio,"val",o.target.value)}}}),t._v(" "),t.item.Domicilio.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar domicilio "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),i("div",{staticClass:"col-12 seccion_titulo_modal"},[i("h3",[t._v("Grupo")])]),i("div",{staticClass:"col-4 form-group padding-model"},[i("TiposCicloEscolar",{key:t.item.CicloEscolar.key,attrs:{titulo:!0,label:"Ciclo Escolar*",actual:!0,disabled:!t.inhabilitar,tipoDeCicloEscolarId:t.item?t.item.CicloEscolar.val:-1,funcion:"seleccionarCicloEscolar"},on:{seleccionarCicloEscolar:function(o){return t.seleccionarCicloEscolar(o)}}}),t.item.CicloEscolar.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar ciclo escolar "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])],1),i("div",{staticClass:"col-4 form-group padding-model"},[i("tipos-nivel",{key:t.item.TiposNivelId.key,attrs:{tipoNivelId:t.item.TiposNivelId.val,titulo:!0,label:"Nivel",funcion:"seleccionarNivelItem",disabled:!t.inhabilitar},on:{seleccionarNivelItem:function(o){return t.seleccionarNivelItem(o)}}})],1),i("div",{staticClass:"col-4 form-group padding-model"},[i("grupos",{key:t.item.EstrucuraGrupoId.key,attrs:{label:"Grupo*",tipoDeGrupoId:t.item.EstrucuraGrupoId.val,titulo:!0,disabled:!t.inhabilitar,filtrosEstablecidos:t.filtrosEstructuraGrupo,funcion:"seleccionarEstructuraGrupo"},on:{seleccionarEstructuraGrupo:function(o){return t.seleccionarEstructuraGrupo(o)},blur:function(o){return t.limpiarValidez("EstrucuraGrupoId")}}}),t.item.EstrucuraGrupoId.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de seleccionar grupo "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])],1)])]),i("section",{attrs:{id:"data_tutor"}},[i("div",{staticClass:"row seccion_modal"},[t.inhabilitar?i("div",{staticClass:"row col-12"},[i("div",{staticClass:"col-12 seccion_titulo_modal"},[i("h3",[t._v("Buscar Padre o Tutor")]),t.item.tutores.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de seleccionar al menos un padre/tutor "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})]),i("p",{staticClass:"mt-1",staticStyle:{color:"red"}},[t._v(" Favor de buscar el nombre del padre o tutor, si no existe agregarlo. ")])]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Nombre")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro_tutores.filtro_nombre,expression:"filtro_tutores.filtro_nombre"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtro_tutores.filtro_nombre},on:{keypress:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.buscarTutor.apply(null,arguments)},input:function(o){o.target.composing||t.$set(t.filtro_tutores,"filtro_nombre",o.target.value)}}})]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Apellido Paterno")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro_tutores.filtro_apellidoPaterno,expression:"filtro_tutores.filtro_apellidoPaterno"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtro_tutores.filtro_apellidoPaterno},on:{keypress:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.buscarTutor.apply(null,arguments)},input:function(o){o.target.composing||t.$set(t.filtro_tutores,"filtro_apellidoPaterno",o.target.value)}}})]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Apellido Materno")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtro_tutores.filtro_apellidoMaterno,expression:"filtro_tutores.filtro_apellidoMaterno"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtro_tutores.filtro_apellidoMaterno},on:{keypress:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.buscarTutor.apply(null,arguments)},input:function(o){o.target.composing||t.$set(t.filtro_tutores,"filtro_apellidoMaterno",o.target.value)}}})]),i("div",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"flex-end"}},[i("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(o){return t.buscarTutor()}}},[t._v(" Buscar ")])]),i("div",{staticClass:"col-12"},[t.tutores.length<=0?i("div",{staticClass:"row",staticStyle:{display:"grid","justify-content":"center"}},[i("div",{staticClass:"col-12"},[i("p",[t._v("No hay registros de búsqueda")])])]):i("div",[i("div",{staticClass:"col-12 seccion_titulo_modal"},[i("h3",[t._v("Resultados de la búsqueda")])]),i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th",[t._v("Folio")]),i("th",[t._v("Nombre")]),i("th",[t._v("Apellido Paterno")]),i("th",[t._v("Apellido Materno")]),i("th",[t._v("Domicilio")]),i("th",[t._v("Parentesco")]),i("th")])]),i("tbody",t._l(t.tutores,(function(o){return i("tr",{key:o.PadreId},[i("td",[t._v(t._s(o.PadreId))]),i("td",[t._v(t._s(o.Nombre))]),i("td",[t._v(t._s(o.ApellidoPaterno))]),i("td",[t._v(t._s(o.ApellidoMaterno))]),i("td",[t._v(t._s(o.Domicilio))]),i("td",[i("tipos-parentesco",{attrs:{titulo:!1,disabled:!t.inhabilitar,funcion:"seleccionarParentesco"},on:{seleccionarParentesco:function(o){return t.seleccionarParentesco(o)}}})],1),i("td",[i("button",{staticClass:"btn btn-default",on:{click:function(i){return t.agregarTutor(o)}}},[i("i",{staticClass:"fas fa-plus"})])])])})),0)])])])]):t._e(),i("div",{staticClass:"col-12"},[this.item.tutores.val.length>0?i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 seccion_titulo_modal"},[i("h3",[t._v("Padres o Tutores agregados al alumno")])]),i("div",{staticClass:"col-12"},[i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th",[t._v("Folio")]),i("th",[t._v("Nombre")]),i("th",[t._v("Apellido Paterno")]),i("th",[t._v("Apellido Materno")]),i("th",[t._v("Parentesco")]),t.inhabilitar?i("th"):t._e()])]),i("tbody",t._l(t.item.tutores.val,(function(o){return i("tr",{key:o.tutorId},[i("td",[t._v(t._s(o.tutor.PadreId))]),i("td",[t._v(t._s(o.tutor.Nombre))]),i("td",[t._v(t._s(o.tutor.ApellidoPaterno))]),i("td",[t._v(t._s(o.tutor.ApellidoMaterno))]),i("td",[t._v(t._s(o.parentesco.nombre))]),t.inhabilitar?i("td",[i("button",{staticClass:"btn btn-default",on:{click:function(i){return t.eliminarTutor(o)}}},[i("i",{staticClass:"fas fa-trash-alt"})])]):t._e()])})),0)])])]):t._e()])])])])]),i("div",{staticClass:"modal-footer"},[t.inhabilitar?i("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(o){return t.guardarAlumno()}}},[t._v(" Guardar ")]):t._e(),t.inhabilitar?i("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(o){t.mostrarModal=!1}}},[t._v(" Cancelar ")]):t._e(),t.inhabilitar?t._e():i("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(o){t.mostrarModal=!1}}},[t._v(" Cerrar ")])])])])])])])],1):t._e()]),t.isLoading?i("cargando"):t._e()],1)},xo=[function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"col-12",attrs:{id:"Titulo"}},[i("h1",{staticClass:"titulo_azul"},[t._v("Registro de Alumnos")]),i("div",{staticClass:"line_red"})])},function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"col-10"},[i("h1",{staticClass:"col-10"},[t._v("Favor de indicar filtros")])])}],So=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("section",[i("div",{staticClass:"col-12"},[t.titulo?i("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),i("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.valor=o.target.multiple?i:i[0]},function(o){return t.seleccionar()}]}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar Escuela")]),t._l(t.items,(function(o,a){return i("option",{key:a,domProps:{value:o["EscuelaId"]}},[t._v(t._s(o["Nombre"]))])}))],2)])])},Fo=[],Lo={data(){return{valor:"-1",isLoading:!1,items:[]}},props:{escuelaId:Number,label:String,funcion:String,tipoDeCicloEscolarId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created(){this.getEscuelas(),this.$props.escuelaId>0&&(this.valor=this.$props.escuelaId)},computed:{},methods:{async getEscuelas(){try{this.isLoading=!0;const t={filtro:{activo:1}},o=await m.a.post(v+"catalogo/escuelas",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.length>0&&o.data.response.forEach(t=>{this.items.push({EscuelaId:t["015EscuelaDeProcedenciaId"],Nombre:t["015Nombre"],Activo:t["015Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},seleccionar:function(){this.valor>0?this.$emit(this.$props.funcion,this.valor):this.$emit(this.$props.funcion,null)}}},jo=Lo,Vo=Object(A["a"])(jo,So,Fo,!1,null,null,null),Ro=Vo.exports,Bo=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",[i("div",{staticClass:"col-12"},[t.titulo?i("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),i("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.valor=o.target.multiple?i:i[0]},function(o){return t.seleccionar()}]}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar Parentesco")]),t._l(t.items,(function(o,a){return i("option",{key:a,domProps:{value:o["TipoParentescoId"]}},[t._v(t._s(o["Nombre"]))])}))],2)]),t.isLoading?i("cargando"):t._e()],1)},zo=[],Oo={data(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoParentescoId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created(){this.getTiposParentescos(),this.$props.tipoPeriodoId>0&&(this.valor=this.$props.tipoParentescoId)},computed:{},methods:{async getTiposParentescos(){try{this.isLoading=!0;const t={filtro:{activo:1}},o=await m.a.post(v+"catalogo/parentescos",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.length>0&&o.data.response.forEach(t=>{this.items.push({TipoParentescoId:t["016TipoParentescoId"],Nombre:t["016Nombre"],Activo:t["016Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},seleccionar:function(){const t=this.items.find(t=>t.TipoParentescoId===this.valor);this.$emit(this.$props.funcion,t)}}},qo=Oo,Uo=Object(A["a"])(qo,Bo,zo,!1,null,null,null),Yo=Uo.exports,Jo=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("section",[i("div",{staticClass:"col-12"},[t.titulo?i("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),i("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.valor=o.target.multiple?i:i[0]},function(o){return t.seleccionar()}]}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar Grupo")]),t._l(t.items,(function(o,a){return i("option",{key:a,domProps:{value:o["EstructuraDeGrupoId"]}},[t._v(t._s(o["TipoGrado"])+" "+t._s(o["TipoDeGrupo"])+" - "+t._s(o["TipoModalidad"]))])}))],2)])])},Ho=[],Qo={data(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,tipoDeGrupoId:Number,titulo:{type:Boolean,required:!0,default:!0},filtrosEstablecidos:{},disabled:Boolean},created(){this.getGrupos(),this.$props.tipoDeGrupoId>0&&(this.valor=this.$props.tipoDeGrupoId)},computed:{},methods:{async getGrupos(){try{this.isLoading=!0,this.items=[];const t={filtro:{activo:1}};""!=this.filtrosEstablecidos.filtro_cicloEscolar&&(t.filtro.cicloEscolar=this.filtrosEstablecidos.filtro_cicloEscolar),""!=this.filtrosEstablecidos.filtro_nivel&&(t.filtro.nivel=Number(this.filtrosEstablecidos.filtro_nivel)),""!=this.filtrosEstablecidos.filtro_modalidad&&(t.filtro.modalidad=Number(this.filtrosEstablecidos.filtro_modalidad)),""!=this.filtrosEstablecidos.filtro_periodo&&(t.filtro.periodo=Number(this.filtrosEstablecidos.filtro_periodo)),""!=this.filtrosEstablecidos.filtro_grado&&(t.filtro.grado=Number(this.filtrosEstablecidos.filtro_grado));const o=await m.a.post(v+"administracion/estructurasDeGrupoNombres",t);o.data.hayError?this.$alert("No se pudo obtener información, favor de volverlo a intentar."):o.data.response.length>0&&o.data.response.forEach(t=>{this.items.push({EstructuraDeGrupoId:t["010EstructuraDeGrupoId"],TipoModalidad:t["004NombreModalidad"],TipoDeGrupo:t["006NombreGrupo"],TipoGrado:t["008NombreGrado"],Activo:t["010Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},seleccionar:function(){this.valor>0?this.$emit(this.$props.funcion,this.valor):this.$emit(this.$props.funcion,null)}}},Ko=Qo,Wo=Object(A["a"])(Ko,Jo,Ho,!1,null,null,null),Xo=Wo.exports,Zo=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",[i("div",{staticClass:"col-12"},[t.titulo?i("label",{staticClass:"activo_label"},[t._v(t._s(t.label))]):t._e(),i("select",{directives:[{name:"model",rawName:"v-model",value:t.valor,expression:"valor"}],staticClass:"form-control",attrs:{disabled:t.disabled},on:{change:[function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.valor=o.target.multiple?i:i[0]},function(o){return t.seleccionar()}]}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar Estado")]),t._l(t.items,(function(o,a){return i("option",{key:a,domProps:{value:o["TiposEstadoAlumnoId"]}},[t._v(t._s(o["Nombre"]))])}))],2)]),t.isLoading?i("cargando"):t._e()],1)},ti=[],oi={data(){return{valor:"-1",isLoading:!1,items:[]}},props:{label:String,funcion:String,estadoAlumnoId:Number,titulo:{type:Boolean,required:!0,default:!0},disabled:Boolean},created(){this.getEstadosAlumnos(),this.$props.estadoAlumnoId>0&&(this.valor=this.$props.estadoAlumnoId)},computed:{},methods:{async getEstadosAlumnos(){try{this.isLoading=!0;const t={filtro:{activo:1}},o=await m.a.post(v+"catalogo/estadosDeAlumnos",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.length>0&&o.data.response.forEach(t=>{this.items.push({TiposEstadoAlumnoId:t["014TiposEstadoAlumnoId"],Nombre:t["014Nombre"],Activo:t["014Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},seleccionar:function(){this.$emit(this.$props.funcion,this.valor)}}},ii=oi,ai=Object(A["a"])(ii,Zo,ti,!1,null,null,null),ei=ai.exports,ri={components:{escuela:Ro,tiposParentesco:Yo,grupos:Xo,TiposCicloEscolar:K,TiposEstadoAlumno:ei},data(){return{isLoading:!1,mostrarFiltros:!0,mostrarModal:!1,filtros:{filtro_nombre:"",filtro_apellidoPaterno:"",filtro_apellidoMaterno:"",filtro_curp:"",filtro_numeroDeControl:"",filtro_activo:"-1"},filtrosEstructuraGrupo:{filtro_cicloEscolar:"",filtro_nivel:"",filtro_modalidad:"",filtro_periodo:"",filtro_grado:""},perPage:5,currentPage:1,fields:[{key:"AlumnoId.val",label:"Folio",sortable:!0},{key:"NombreCompleto.val",label:"Nombre",sortable:!0},{key:"Curp.val",label:"CURP",sortable:!0},{key:"NumeroDeControl.val",label:"Número de Control",sortable:!0},{key:"Genero.val",label:"Genero",sortable:!0},{key:"TipoEstadoAlumno.val.Nombre",label:"Estado",sortable:!0},{key:"Activo",label:"Activo",sortable:!0},{label:"Opciones",key:"opciones"}],filter:"",item:{AlumnoId:{val:null,isValid:!0},Nombre:{val:"",isValid:!0},ApellidoPaterno:{val:"",isValid:!0},ApellidoMaterno:{val:"",isValid:!0},Curp:{val:"",isValid:!0},FechaDeNacimiento:{val:(new Date).toISOString().slice(0,10),isValid:!0},Genero:{val:"-1",isValid:!0},NumeroDeControl:{val:0,isValid:!0},EscuelaId:{val:0,isValid:!0},Promedio:{val:0,isValid:!0},Domicilio:{val:"",isValid:!0},BecaInscripcion:{val:0},BecaMensualidad:{val:0},TipoEstatusAlumno:{val:0,isValid:!0,key:""},CicloEscolar:{val:0,isValid:!0,key:""},TiposNivelId:{val:0,isValid:!0,key:""},EstrucuraGrupoId:{val:0,isValid:!0,key:"EstructuraGrupoId"},tutores:{val:[],isValid:!0},parentesco:{val:0,isValid:!0},TipoEstadoAlumno:{val:!0},Activo:{val:0}},items:[],itemIsValid:!0,titutoModal:"",inhabilitar:!0,tutores:[],estadosAlumno:[],filtro_tutores:{filtro_nombre:"",filtro_apellidoPaterno:"",filtro_apellidoMaterno:""}}},watch:{mostrarModal:function(t){t||this.limpiarVariables()}},computed:{rows(){return this.items.length}},created(){this.getEstadosAlumno(),this.getAlumnos()},methods:{seleccionarEstadoAlumno(t){this.item.TipoEstatusAlumno.val=Number(t),this.item.TipoEstatusAlumno.isValid=!0},seleccionarEscuela(t){this.item.EscuelaId.val=Number(t),this.item.EscuelaId.isValid=!0},seleccionarEstructuraGrupo(t){this.item.EstrucuraGrupoId.val=Number(t),this.item.EstrucuraGrupoId.isValid=!0},seleccionarNivelItem(t){this.item.TiposNivelId.val=Number(t),this.item.TiposNivelId.isValid=!0,this.filtrosEstructuraGrupo.filtro_nivel=Number(t),this.item.EstrucuraGrupoId.key="filtro_nivel"+t},seleccionarCicloEscolar(t){this.item.CicloEscolar.val=Number(t),this.item.CicloEscolar.isValid=!0,this.filtrosEstructuraGrupo.filtro_cicloEscolar=Number(t),this.item.EstrucuraGrupoId.key="filtro_cicloEscolar"+t},seleccionarParentesco(t){this.item.parentesco.val=t},agregarTutor(t){if(this.item.parentesco.val<=0)return void this.$alert("Favor de seleccionar parentesco.");const o=this.item.tutores.val.find(o=>o.tutor.padreId===t.PadreId);o?this.$alert("El padre/tutor ya esta agregado."):(this.item.tutores.val.push({parentesco:{parentesoId:this.item.parentesco.val.TipoParentescoId,nombre:this.item.parentesco.val.Nombre},tutor:t}),console.log("agregar tutor: "),console.log(this.item))},eliminarTutor(t){const o=this.item.tutores.val.indexOf(this.item.tutores.val.find(o=>o.tutor.padreId===t.PadreId));this.item.tutores.val.splice(o,1)},limpiarValidez(t){this.item[t].isValid=!0},async guardarTutores(t){try{const o={alumnoId:t},i=await m.a.post(v+"alumnos/eliminarTutoresDeAlumno",o);if(i.data.hayError)return console.log(i),void this.$alert("Los tutores no se pudieron eliminar, favor de volverlo a intentar.");console.log("Los tutores se eliminaron con éxito."),this.item.tutores.val.forEach(async o=>{const i={alumno:{alumnoId:t,tutorId:o.tutor.PadreId,parentescoId:o.parentesco.parentesoId}},a=await m.a.post(v+"alumnos/agregarTutoresDeAlumno",i);a.data.hayError?(console.log(a),this.$alert("El alumno se guardó con éxito pero no se pudo guardar el(los) tutor(es), favor de volverlo a intentar.")):(console.log("El tutor se guardó con éxito."),this.getAlumnos(),this.limpiarVariables(),this.mostrarModal=!1)}),this.$alert("El alumno se guardó con éxito."),this.isLoading=!1}catch(o){console.log(o)}},async guardarAlumno(){this.validarAlumno(),console.log("guardarAlumno"),console.log(this.item),this.itemIsValid?this.item.AlumnoId.val>0?this.editarAlumno():this.agregarAlumno():this.$alert("Favor de completar los datos.")},async validarAlumno(){console.log(this.item),this.itemIsValid=!0,(this.$store.getters.userId<=0||void 0==this.$store.getters.userId)&&(this.itemIsValid=!0,this.$router.push({name:"Login"})),""===this.item.Nombre.val&&(this.item.Nombre.isValid=!1,this.itemIsValid=!1),""===this.item.ApellidoPaterno.val&&""===this.item.ApellidoMaterno.val&&(""===this.item.ApellidoPaterno.val&&(this.item.ApellidoPaterno.isValid=!1),""===this.item.ApellidoMaterno.val&&(this.item.ApellidoMaterno.isValid=!1),this.itemIsValid=!1),""===this.item.Curp.val&&(this.item.Curp.isValid=!1,this.itemIsValid=!1),""===this.item.FechaDeNacimiento.val&&(this.item.FechaDeNacimiento.isValid=!1,this.itemIsValid=!1),""===this.item.Genero.val&&(this.item.Genero.isValid=!1,this.itemIsValid=!1),Number(this.item.EscuelaId.val)<=0&&(this.item.EscuelaId.isValid=!1,this.itemIsValid=!1),""===this.item.Domicilio.val&&(this.item.Domicilio.isValid=!1,this.itemIsValid=!1),Number(this.item.EstrucuraGrupoId.val)<=0&&(this.item.EstrucuraGrupoId.isValid=!1,this.itemIsValid=!1),Number(this.item.TipoEstatusAlumno.val)<=0&&(this.item.TipoEstatusAlumno.isValid=!1,this.itemIsValid=!1)},async agregarAlumno(){const t={alumno:{Nombre:this.item.Nombre.val,ApellidoPaterno:this.item.ApellidoPaterno.val,ApellidoMaterno:this.item.ApellidoMaterno.val,Curp:this.item.Curp.val,FechaDeNacimiento:this.item.FechaDeNacimiento.val,Genero:this.item.Genero.val,NumeroDeControl:this.item.NumeroDeControl.val,EscuelaId:this.item.EscuelaId.val,Promedio:this.item.Promedio.val,Domicilio:this.item.Domicilio.val,TipoEstatusAlumno:ro.TipoEstatusAlumno.Activo,EstructuraGrupo:this.item.EstrucuraGrupoId.val,BecaInscripcion:this.item.BecaInscripcion.val,BecaMensualidad:this.item.BecaMensualidad.val,UsuarioId:this.$store.getters.userId,FechaRegistro:(new Date).toISOString().slice(0,19).replace("T"," "),Activo:"1"}};try{this.isLoading=!0;const o=await m.a.post(v+"alumnos/agregarAlumno",t);this.isLoading=!1,o.data.hayError?(console.log(o),this.$alert("No se pudo guardar, favor de volverlo a intentar.")):this.item.tutores.val.length>0?this.guardarTutores(o.data.response.insertId):(this.$alert("El alumno se guardó con éxito."),this.getAlumnos(),this.mostrarModal=!1)}catch(o){console.log(o)}},async editarAlumno(){const t={alumno:{AlumnoId:this.item.AlumnoId.val,Nombre:this.item.Nombre.val,ApellidoPaterno:this.item.ApellidoPaterno.val,ApellidoMaterno:this.item.ApellidoMaterno.val,Curp:this.item.Curp.val,FechaDeNacimiento:this.item.FechaDeNacimiento.val,Genero:this.item.Genero.val,NumeroDeControl:this.item.NumeroDeControl.val,EscuelaId:this.item.EscuelaId.val,Promedio:this.item.Promedio.val,Domicilio:this.item.Domicilio.val,TipoEstatusAlumno:this.item.TipoEstatusAlumno.val,EstructuraGrupo:this.item.EstrucuraGrupoId.val,BecaInscripcion:this.item.BecaInscripcion.val,BecaMensualidad:this.item.BecaMensualidad.val,UsuarioId:this.$store.getters.userId,FechaRegistro:(new Date).toISOString().slice(0,19).replace("T"," "),Activo:this.item.Activo}};try{this.isLoading=!0;const o=await m.a.post(v+"alumnos/editarAlumno",t);o.data.hayError?(console.log(o),this.$alert("No se pudo guardar, favor de volverlo a intentar.")):(this.isLoading=!1,this.item.tutores.val.length>0?this.guardarTutores(this.item.AlumnoId.val):(this.$alert("El alumno se guardó con éxito."),this.mostrarModal=!1,this.getAlumnos()))}catch(o){console.log(o)}},async buscarTutor(){try{this.isLoading=!0,this.tutores=[];const t={filtro:{}};""!=this.filtro_tutores.filtro_nombre&&(t.filtro.nombre=this.filtro_tutores.filtro_nombre),""!=this.filtro_tutores.filtro_apellidoPaterno&&(t.filtro.apellidoPaterno=this.filtro_tutores.filtro_apellidoPaterno),""!=this.filtro_tutores.filtro_apellidoMaterno&&(t.filtro.apellidoMaterno=this.filtro_tutores.filtro_apellidoMaterno),t.filtro.activo=ro.TipoEstatusAlumno.Activo;const o=await m.a.post(v+"alumnos/tutores",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.length>0&&(console.log("response"+o),o.data.response.forEach(t=>{this.tutores.push({PadreId:t["012PadreId"],Nombre:t["012Nombre"],ApellidoPaterno:t["012ApellidoPaterno"],ApellidoMaterno:t["012ApellidoMaterno"],Activo:t["012Activo"],Domicilio:t["012Domicilio"]})})),this.isLoading=!1}catch(t){console.log(t)}},abrirModal:function(t,o,i){this.titutoModal=t,this.inhabilitar=o,i&&i.AlumnoId&&i.AlumnoId.val&&i.AlumnoId.val>0&&this.cargarItem(i),this.mostrarModal=!this.mostrarModal},cargarItem:async function(t){const o=await this.getGrupo(t.EstructuraGrupo.val);this.item.AlumnoId.val=t.AlumnoId.val,this.item.Nombre.val=t.Nombre.val,this.item.ApellidoPaterno.val=t.ApellidoPaterno.val,this.item.ApellidoMaterno.val=t.ApellidoMaterno.val,this.item.Curp.val=t.Curp.val,this.item.FechaDeNacimiento.val=new Date(t.FechaNacimiento.val).toISOString().slice(0,10),this.item.Genero.val=t.Genero.val,this.item.NumeroDeControl.val=t.NumeroDeControl.val,this.item.EscuelaId.val=t.EscuelaDeProcedenciaId.val,this.item.Promedio.val=t.PromedioDeProcedencia.val,this.item.Domicilio.val=t.Domicilio.val,this.item.Activo=t.Activo,this.item.TipoEstatusAlumno.val=t.TipoEstadoAlumno.val.EstadoDeAlumnoId,this.item.TipoEstatusAlumno.key="CargarItem"+t.TipoEstadoAlumno.val.EstadoDeAlumnoId,this.item.CicloEscolar.val=o.TipoDeCicloEscolar,this.item.CicloEscolar.key="CargarItem"+o.TipoDeCicloEscolar,this.item.TiposNivelId.val=o.TiposNivel,this.item.TiposNivelId.key="CargarItem"+o.TiposNivel,this.item.EstrucuraGrupoId.val=o.EstructuraDeGrupoId,this.item.EstrucuraGrupoId.key="CargarItem"+o.EstructuraDeGrupoId,this.getTutores()},async getTutores(){try{this.isLoading=!0,this.item.tutores.val=[];const t={alumnoId:this.item.AlumnoId.val},o=await m.a.post(v+"alumnos/tutoresDeAlumno",t);o.data.hayError?this.$alert("No se pudo obtener información, favor de volverlo a intentar."):o.data.response.length>0&&o.data.response.forEach(t=>{var o={PadreId:t["012PadreId"],Nombre:t["012Nombre"],ApellidoPaterno:t["012ApellidoPaterno"],ApellidoMaterno:t["012ApellidoMaterno"]},i={parentesoId:t["016TipoParentescoId"],nombre:t["016Nombre"]};this.item.tutores.val.push({tutor:o,parentesco:i})}),this.isLoading=!1}catch(t){console.log(t)}},async cancelar(t){try{this.isLoading=!0;const o={alumno:{id:t.AlumnoId.val,Activo:Number(0)}},i=await m.a.post(v+"alumnos/cancelarAlumno",o);this.isLoading=!1,i.data.hayError?(console.log(i),this.$alert("Sucedio un error, favor de volver a intentarlo.")):(this.$alert("El alumno se canceló correctamente."),this.getAlumnos())}catch(o){console.log(o)}},async getAlumnos(){try{this.isLoading=!0,this.items=[];const t={filtro:{}};""!=this.filtros.filtro_nombre&&(t.filtro.nombre=this.filtros.filtro_nombre),""!=this.filtros.filtro_apellidoPaterno&&(t.filtro.apellidoPaterno=this.filtros.filtro_apellidoPaterno),""!=this.filtros.filtro_apellidoMaterno&&(t.filtro.apellidoMaterno=this.filtros.filtro_apellidoMaterno),""!=this.filtros.filtro_curp&&(t.filtro.curp=this.filtros.filtro_curp),""!=this.filtros.filtro_numeroDeControl&&(t.filtro.numeroDeControl=Number(this.filtros.filtro_numeroDeControl)),""!=this.filtros.filtro_activo&&(t.filtro.activo=Number(this.filtros.filtro_activo));const o=await m.a.post(v+"alumnos/alumnos",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.forEach(t=>{this.items.push({AlumnoId:{val:t["011AlumnoId"]},Nombre:{val:t["011Nombre"]},NombreCompleto:{val:t["011Nombre"]+" "+t["011ApellidoPaterno"]+" "+t["011ApellidoMaterno"]},ApellidoPaterno:{val:t["011ApellidoPaterno"]},ApellidoMaterno:{val:t["011ApellidoMaterno"]},Curp:{val:t["011CURP"]},FechaNacimiento:{val:t["011FechaNacimiento"]},Genero:{val:t["011Genero"]},NumeroDeControl:{val:t["011NumeroDeControl"]},EscuelaDeProcedenciaId:{val:t["015EscuelaDeProcedenciaId"]},PromedioDeProcedencia:{val:t["011PromedioDeProcedencia"]},Domicilio:{val:t["011Domicilio"]},TipoEstadoAlumno:{val:this.estadosAlumno.find(o=>o.EstadoDeAlumnoId===Number(t["014TipoEstadoAlumnoId"]))},EstructuraGrupo:{val:t["010EstructuraDeGrupoId"]},Activo:Number(t["011Activo"])})}),this.isLoading=!1}catch(t){console.log(t)}},async getEstadosAlumno(){try{this.isLoading=!0;const t={filtro:{activo:1}},o=await m.a.post(v+"catalogo/estadosDeAlumnos",t);o.data.response.forEach(t=>{this.estadosAlumno.push({EstadoDeAlumnoId:t["014TiposEstadoAlumnoId"],Nombre:t["014Nombre"],Activo:t["014Activo"]})}),this.isLoading=!1}catch(t){console.log(t)}},async getGrupo(t){try{this.isLoading=!0;const i={filtro:{estructuraDeGrupoId:t}},a=await m.a.post(v+"administracion/estructurasDeGrupo",i);var o={};return a.data.hayError?this.$alert("No se pudo obtener información, favor de volverlo a intentar."):a.data.response.length>0&&a.data.response.forEach(t=>{o={EstructuraDeGrupoId:t["010EstructuraDeGrupoId"],TipoDeCicloEscolar:Number(t["002TipoDeCicloEscolarId"]),TipoModalidad:Number(t["004TipoModalidadId"]),TipoPeriodo:Number(t["005TipoPeriodoId"]),TipoDeGrupo:Number(t["006TipoDeGrupoId"]),TiposNivel:Number(t["007TiposNivelId"]),TipoGrado:Number(t["008TipoGradoId"]),Especialidad:Number(t["009TipoEspecialidadId"]),Activo:t["010Activo"]}}),this.isLoading=!1,o}catch(i){console.log(i)}},limpiarFiltros(){this.filtros.filtro_nombre="",this.filtros.filtro_apellidoPaterno="",this.filtros.filtro_apellidoMaterno="",this.filtros.filtro_curp="",this.filtros.filtro_activo="-1",this.getAlumnos()},limpiarVariables(){this.item.AlumnoId.val=null,this.item.Nombre.val="",this.item.ApellidoPaterno.val="",this.item.ApellidoMaterno.val="",this.item.Curp.val="",this.item.FechaDeNacimiento.val=(new Date).toISOString().slice(0,10),this.item.Genero.val="-1",this.item.NumeroDeControl.val=0,this.item.EscuelaId.val=0,this.item.Promedio.val=0,this.item.Domicilio.val="",this.item.tutores.val=[],this.item.parentesco.val=0,this.item.TipoEstadoAlumno.val=!0,this.item.TiposNivelId.val=0,this.item.EstrucuraGrupoId.val=0,this.tutores=[],this.filtro_tutores={filtro_nombre:"",filtro_apellidoPaterno:"",filtro_apellidoMaterno:""}}}},si=ri,li=(i("7903"),Object(A["a"])(si,Go,xo,!1,null,"b5a8cfa0",null)),ni=li.exports,ci=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"container is-max-desktop"},[t._m(0),i("section",{attrs:{id:"filtro"}},[i("div",{staticClass:"col-12 row filtros_div",attrs:{id:"filtros_div"}},[i("div",{staticClass:"col-12 filtro_titulo"},[i("div",{staticClass:"row"},[t._m(1),i("div",{key:t.mostrarFiltros,staticClass:"col-2",on:{click:function(o){t.mostrarFiltros=!t.mostrarFiltros}}},[t.mostrarFiltros?t._e():i("i",{staticClass:"fas fa-angle-down",staticStyle:{float:"right"}}),t.mostrarFiltros?i("i",{staticClass:"fas fa-angle-up",staticStyle:{float:"right"}}):t._e()])])]),t.mostrarFiltros?i("div",{staticClass:"col-12 row"},[i("div",{staticClass:"col-4"},[i("label",[t._v("Nombre")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_nombre,expression:"filtros.filtro_nombre"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtros.filtro_nombre},on:{input:function(o){o.target.composing||t.$set(t.filtros,"filtro_nombre",o.target.value)}}})]),i("div",{staticClass:"col-4"},[i("label",[t._v("Apellido Paterno")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_apellidoPaterno,expression:"filtros.filtro_apellidoPaterno"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtros.filtro_apellidoPaterno},on:{input:function(o){o.target.composing||t.$set(t.filtros,"filtro_apellidoPaterno",o.target.value)}}})]),i("div",{staticClass:"col-4"},[i("label",[t._v("Apellido Materno")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_apellidoMaterno,expression:"filtros.filtro_apellidoMaterno"}],staticClass:"form-control",attrs:{type:"search"},domProps:{value:t.filtros.filtro_apellidoMaterno},on:{input:function(o){o.target.composing||t.$set(t.filtros,"filtro_apellidoMaterno",o.target.value)}}})]),i("div",{staticClass:"col-4"},[i("label",{staticClass:"activo_label"},[t._v("Género")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_genero,expression:"filtros.filtro_genero"}],staticClass:"form-control",on:{change:function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.$set(t.filtros,"filtro_genero",o.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"-1",selected:""}},[t._v("Seleccionar Género")]),i("option",{attrs:{value:"Femenino"}},[t._v("Femenino")]),i("option",{attrs:{value:"Masculino"}},[t._v("Masculino")])])]),i("div",{staticClass:"col-4"},[i("label",{staticClass:"activo_label"},[t._v("Activo")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filtros.filtro_activo,expression:"filtros.filtro_activo"}],staticClass:"form-control",on:{change:function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.$set(t.filtros,"filtro_activo",o.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"-1"}},[t._v("Seleccionar Activo")]),i("option",{attrs:{value:"1"}},[t._v("Si")]),i("option",{attrs:{value:"0"}},[t._v("No")])])])]):t._e(),t.mostrarFiltros?i("div",{staticClass:"filtro_footer"},[i("button",{staticClass:"button is-default btn-sm mr-1",on:{click:function(o){return t.limpiarFiltros()}}},[t._v(" Mostrar Todo ")]),i("button",{staticClass:"button is-primary btn-sm",on:{click:function(o){return t.getTutores()}}},[t._v(" Buscar ")])]):t._e()])]),i("section",{attrs:{id:"data_table"}},[i("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"100px"}},[i("button",{staticClass:"button is-primary mt-5 mb-1 align-left",on:{click:function(o){return t.abrirModal("Agregar",!0,{})}}},[i("i",{staticClass:"fas fa-plus"}),t._v("  Agregar padre/tutor ")]),i("br"),t.items.length<=0?i("div",{staticClass:"row col-12",staticStyle:{display:"grid","justify-content":"center"}},[i("p",[t._v("No hay registros")])]):i("div",{attrs:{id:"bootstrap_table"}},[i("div",{staticClass:"col-3 mr-0 align-rigth"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Buscar"},domProps:{value:t.filter},on:{blur:function(o){t.currentPage=1},input:function(o){o.target.composing||(t.filter=o.target.value)}}})]),i("b-table",{attrs:{striped:"",hover:"",outlined:"",items:t.items,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,filter:t.filter},scopedSlots:t._u([{key:"cell(Activo)",fn:function(t){return[1==t.item.Activo?i("button",{key:t.item.PadreId.val,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[i("i",{staticClass:"far fa-check-square",staticStyle:{color:"green"}})]):i("button",{key:t.item.PadreId.val,staticClass:"btn btn-default",staticStyle:{cursor:"default"}},[i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]}},{key:"cell(opciones)",fn:function(o){return[i("button",{staticClass:"button is-default is-small",attrs:{value:"Detalles",title:"Ver Detalles"},on:{click:function(i){return t.abrirModal("",!1,o.item)}}},[i("i",{staticClass:"far fa-eye"})]),i("button",{staticClass:"button is-info is-small",attrs:{value:"Editar",title:"Editar"},on:{click:function(i){return t.abrirModal("Editar",!0,o.item)}}},[i("i",{staticClass:"far fa-edit"})]),i("button",{staticClass:"button is-danger is-small",attrs:{disabled:0==o.item.Activo,value:"Eliminar",title:"Cancelar"},on:{click:function(i){return t.cancelar(o.item)}}},[i("i",{staticClass:"fas fa-ban"})])]}}])}),i("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(o){t.currentPage=o},expression:"currentPage"}})],1)])]),i("section",{attrs:{id:"modal"}},[t.mostrarModal?i("div",{staticClass:"modal_div",attrs:{id:"modal_div"}},[i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-mask"},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-dialog modal-xl"},[i("div",{staticClass:"modal-content modal-xl"},[i("div",{staticClass:"modal-header"},[i("div",{staticClass:"col-11"},[i("h2",{staticClass:"modal-title text-center"},[t._v(" "+t._s(t.titutoModal)+" Padre/Tutor ")]),i("div",{staticClass:"line_red"})]),i("a",{staticClass:"button close_modal",on:{click:function(o){t.mostrarModal=!1}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),i("div",{staticClass:"modal-body"},[i("div",{staticClass:"row"},[i("section",{attrs:{id:"data_tutor"}},[i("div",{staticClass:"row seccion_modal"},[i("div",{staticClass:"col-12 seccion_titulo_modal"},[i("h3",[t._v("Datos del padre o tutor")])]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Nombre*")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.Nombre.val,expression:"item.Nombre.val"}],staticClass:"form-control",attrs:{type:"text",disabled:!t.inhabilitar},domProps:{value:t.item.Nombre.val},on:{blur:function(o){return t.limpiarValidez("Nombre")},input:function(o){o.target.composing||t.$set(t.item.Nombre,"val",o.target.value)}}}),t.item.Nombre.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar un nombre "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Apellido Paterno*")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.ApellidoPaterno.val,expression:"item.ApellidoPaterno.val"}],staticClass:"form-control",attrs:{type:"text",disabled:!t.inhabilitar},domProps:{value:t.item.ApellidoPaterno.val},on:{blur:function(o){return t.limpiarValidez("ApellidoPaterno")},input:function(o){o.target.composing||t.$set(t.item.ApellidoPaterno,"val",o.target.value)}}}),t.item.ApellidoPaterno.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar un apellido "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),i("div",{staticClass:"col-4 form-group padding-model"},[i("label",[t._v("Apellido Materno*")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.ApellidoMaterno.val,expression:"item.ApellidoMaterno.val"}],staticClass:"form-control",attrs:{type:"text",disabled:!t.inhabilitar},domProps:{value:t.item.ApellidoMaterno.val},on:{blur:function(o){return t.limpiarValidez("ApellidoMaterno")},input:function(o){o.target.composing||t.$set(t.item.ApellidoMaterno,"val",o.target.value)}}}),t.item.ApellidoMaterno.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar un apellido "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),i("div",{staticClass:"col-4 padding-model"},[i("label",[t._v("Género*")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.item.Genero.val,expression:"item.Genero.val"}],staticClass:"form-control",attrs:{disabled:!t.inhabilitar},on:{blur:function(o){return t.limpiarValidez("Genero")},change:function(o){var i=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.$set(t.item.Genero,"val",o.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"-1",selected:""}},[t._v("Seleccionar Género")]),i("option",{attrs:{value:"Femenino"}},[t._v("Femenino")]),i("option",{attrs:{value:"Masculino"}},[t._v("Masculino")])]),t.item.Genero.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar género "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])]),i("div",{staticClass:"col-8 form-group padding-model"},[i("label",[t._v("Domicilio*")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.item.Domicilio.val,expression:"item.Domicilio.val"}],staticClass:"form-control",attrs:{type:"text",rows:"1",disabled:!t.inhabilitar},domProps:{value:t.item.Domicilio.val},on:{blur:function(o){return t.limpiarValidez("Domicilio")},input:function(o){o.target.composing||t.$set(t.item.Domicilio,"val",o.target.value)}}}),t._v(" "),t.item.Domicilio.isValid?t._e():i("p",{staticStyle:{color:"red"}},[t._v(" Favor de ingresar domicilio "),i("i",{staticClass:"far fa-times-circle",staticStyle:{color:"red"}})])])])]),i("section",{attrs:{id:"data_tutor"}},[i("div",{staticClass:"row seccion_modal"},[i("div",{staticClass:"row col-12"},[i("div",{staticClass:"col-12 seccion_titulo_modal"},[i("h3",[t._v("Alumnos")])]),i("div",{staticClass:"col-12"},[t.item.alumnos.val.length<=0?i("div",{staticClass:"row",staticStyle:{display:"grid","justify-content":"center"}},[i("div",{staticClass:"col-12"},[i("p",[t._v("No hay alumnos del padre o tutor")])])]):i("div",[i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th",[t._v("Folio")]),i("th",[t._v("Nombre")]),i("th",[t._v("Apellido Paterno")]),i("th",[t._v("Apellido Materno")]),i("th",[t._v("Parentesco")]),i("th")])]),i("tbody",t._l(t.item.alumnos.val,(function(o){return i("tr",{key:o.AlumnoId},[i("td",[t._v(t._s(o.AlumnoId))]),i("td",[t._v(t._s(o.Nombre))]),i("td",[t._v(t._s(o.ApellidoPaterno))]),i("td",[t._v(t._s(o.ApellidoMaterno))]),i("td",[t._v(t._s(o.NombreParentesco))]),i("td",[t._v(" "+t._s()+" ")])])})),0)])])])])])])])]),i("div",{staticClass:"modal-footer"},[t.inhabilitar?i("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(o){return t.guardarTutor()}}},[t._v(" Guardar ")]):t._e(),t.inhabilitar?i("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(o){t.mostrarModal=!1}}},[t._v(" Cancelar ")]):t._e(),t.inhabilitar?t._e():i("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(o){t.mostrarModal=!1}}},[t._v(" Cerrar ")])])])])])])])],1):t._e()])])},di=[function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"col-12",attrs:{id:"Titulo"}},[i("h1",{staticClass:"titulo_azul"},[t._v("Registro de Padre/Tutor")]),i("div",{staticClass:"line_red"})])},function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"col-10"},[i("h1",{staticClass:"col-10"},[t._v("Favor de indicar filtros")])])}],ui={data(){return{isLoading:!1,mostrarFiltros:!0,mostrarModal:!1,filtros:{filtro_nombre:"",filtro_apellidoPaterno:"",filtro_apellidoMaterno:"",filtro_genero:"-1",filtro_activo:"1"},filtro_alumnos:{filtro_nombre:"",filtro_apellidoPaterno:"",filtro_apellidoMaterno:""},items:[],temIsValid:!0,perPage:5,currentPage:1,fields:[{key:"PadreId.val",label:"Folio",sortable:!0},{key:"NombreCompleto.val",label:"Nombre",sortable:!0},{key:"Domicilio.val",label:"Domicilio",sortable:!0},{key:"Genero.val",label:"Genero",sortable:!0},{key:"Activo",label:"Activo",sortable:!0},{label:"Opciones",key:"opciones"}],filter:"",item:{PadreId:{val:null,isValid:!0},Nombre:{val:"",isValid:!0},ApellidoPaterno:{val:"",isValid:!0},ApellidoMaterno:{val:"",isValid:!0},Genero:{val:"-1",isValid:!0},Domicilio:{val:"",isValid:!0},alumnos:{val:[],isValid:!0},parentesco:{val:0,isValid:!0},Activo:{val:0}},alumnos:{val:[],isValid:!0}}},computed:{rows(){return this.items.length}},created(){this.getTutores()},watch:{mostrarModal:function(t){t||this.limpiarVariables()}},methods:{async getTutores(){try{this.isLoading=!0,this.items=[];const t={filtro:{}};""!=this.filtros.filtro_nombre&&(t.filtro.nombre=this.filtros.filtro_nombre),""!=this.filtros.filtro_apellidoPaterno&&(t.filtro.apellidoPaterno=this.filtros.filtro_apellidoPaterno),""!=this.filtros.filtro_apellidoMaterno&&(t.filtro.apellidoMaterno=this.filtros.filtro_apellidoMaterno),this.filtros.filtro_genero>0&&(t.filtro.genero=this.filtros.filtro_genero),this.filtros.filtro_activo>=0&&(t.filtro.activo=Number(this.filtros.filtro_activo));const o=await m.a.post(v+"alumnos/tutores",t);o.data.hayError?(console.log(o),this.$alert("No se pudo obtener información, favor de volverlo a intentar.")):o.data.response.forEach(t=>{this.items.push({PadreId:{val:t["012PadreId"]},Nombre:{val:t["012Nombre"]},NombreCompleto:{val:t["012Nombre"]+" "+t["012ApellidoPaterno"]+" "+t["012ApellidoMaterno"]},ApellidoPaterno:{val:t["012ApellidoPaterno"]},ApellidoMaterno:{val:t["012ApellidoMaterno"]},Domicilio:{val:t["012Domicilio"]},Genero:{val:t["012Genero"]},Activo:Number(t["012Activo"])})}),this.isLoading=!1}catch(t){console.log(t)}},limpiarFiltros(){this.filtros.filtro_nombre="",this.filtros.filtro_apellidoPaterno="",this.filtros.filtro_apellidoMaterno="",this.filtros.filtro_activo="-1",this.filtros.filtro_genero="-1",this.getTutores()},limpiarVariables(){this.item.PadreId.val=null,this.item.Nombre.val="",this.item.ApellidoPaterno.val="",this.item.ApellidoMaterno.val="",this.item.Genero.val="-1",this.item.Domicilio.val="",this.item.alumnos.val=[],this.alumnos=[],this.filtro_tutores={filtro_nombre:"",filtro_apellidoPaterno:"",filtro_apellidoMaterno:""}},abrirModal:function(t,o,i){this.titutoModal=t,this.inhabilitar=o,i&&i.PadreId&&i.PadreId.val&&i.PadreId.val>0&&this.cargarItem(i),this.mostrarModal=!this.mostrarModal},async getAlumnos(){try{this.isLoading=!0,this.item.alumnos.val=[];const t={padreId:this.item.PadreId.val},o=await m.a.post(v+"alumnos/alumnosDeTutor",t);o.data.hayError?this.$alert("No se pudo obtener información, favor de volverlo a intentar."):o.data.response.length>0&&o.data.response.forEach(t=>{var o={AlumnoId:t["011AlumnoId"],Nombre:t["011Nombre"],ApellidoPaterno:t["011ApellidoPaterno"],ApellidoMaterno:t["011ApellidoMaterno"],ParentescoId:t["016TipoParentescoId"],NombreParentesco:t["016Nombre"]};this.item.alumnos.val.push(o),console.log(this.item.alumnos)}),this.isLoading=!1}catch(t){console.log(t)}},cargarItem:async function(t){this.item.PadreId.val=t.PadreId.val,this.item.Nombre.val=t.Nombre.val,this.item.ApellidoPaterno.val=t.ApellidoPaterno.val,this.item.ApellidoMaterno.val=t.ApellidoMaterno.val,this.item.Genero.val=t.Genero.val,this.item.Domicilio.val=t.Domicilio.val,this.item.Activo=t.Activo,this.getAlumnos()},async cancelar(t){try{this.isLoading=!0;const o={alumno:{id:t.PadreId.val,Activo:Number(0)}},i=await m.a.post(v+"alumnos/cancelarTutor",o);this.isLoading=!1,i.data.hayError?(console.log(i),this.$alert("Sucedio un error, favor de volver a intentarlo.")):(this.$alert("El tutor se canceló correctamente."),this.getTutores())}catch(o){console.log(o)}},async guardarTutor(){this.validarTutor(),console.log("guardarAlumno"),console.log(this.item),this.itemIsValid?this.item.PadreId.val>0?this.editarTutor():this.agregarTutor():this.$alert("Favor de completar los datos.")},limpiarValidez(t){this.item[t].isValid=!0},async validarTutor(){this.itemIsValid=!0,(this.$store.getters.userId<=0||void 0==this.$store.getters.userId)&&(this.itemIsValid=!0,this.$router.push({name:"Login"})),""===this.item.Nombre.val&&(this.item.Nombre.isValid=!1,this.itemIsValid=!1),""===this.item.ApellidoPaterno.val&&""===this.item.ApellidoMaterno.val&&(""===this.item.ApellidoPaterno.val&&(this.item.ApellidoPaterno.isValid=!1),""===this.item.ApellidoMaterno.val&&(this.item.ApellidoMaterno.isValid=!1),this.itemIsValid=!1),""===this.item.Genero.val&&(this.item.Genero.isValid=!1,this.itemIsValid=!1),""===this.item.Domicilio.val&&(this.item.Domicilio.isValid=!1,this.itemIsValid=!1)},async agregarTutor(){const t={tutor:{Nombre:this.item.Nombre.val,ApellidoPaterno:this.item.ApellidoPaterno.val,ApellidoMaterno:this.item.ApellidoMaterno.val,Genero:this.item.Genero.val,Domicilio:this.item.Domicilio.val,UsuarioId:this.$store.getters.userId,FechaRegistro:(new Date).toISOString().slice(0,19).replace("T"," "),Activo:"1"}};try{this.isLoading=!0;const o=await m.a.post(v+"alumnos/agregarTutor",t);this.isLoading=!1,o.data.hayError?(console.log(o),this.$alert("No se pudo guardar, favor de volverlo a intentar.")):(this.$alert("El tutor se guardó con éxito."),this.getTutores(),this.mostrarModal=!1)}catch(o){console.log(o)}},async editarTutor(){const t={tutor:{PadreId:this.item.PadreId.val,Nombre:this.item.Nombre.val,ApellidoPaterno:this.item.ApellidoPaterno.val,ApellidoMaterno:this.item.ApellidoMaterno.val,Genero:this.item.Genero.val,Domicilio:this.item.Domicilio.val,UsuarioId:this.$store.getters.userId,FechaRegistro:(new Date).toISOString().slice(0,19).replace("T"," "),Activo:this.item.Activo}};try{this.isLoading=!0;const o=await m.a.post(v+"alumnos/editarTutor",t);o.data.hayError?(console.log(o),this.$alert("No se pudo guardar, favor de volverlo a intentar.")):(this.isLoading=!1,this.$alert("El tutor se guardó con éxito."),this.mostrarModal=!1,this.getTutores())}catch(o){console.log(o)}}}},mi=ui,pi=(i("7e0d"),Object(A["a"])(mi,ci,di,!1,null,"03f50fb9",null)),vi=pi.exports;const fi=[{name:"RegistroDeAlumnos",path:"/registroDeAlumnos",component:ni,meta:{requiresAuth:!0}},{name:"RegistroDeTutores",path:"/registroDeTutores",component:vi,meta:{requiresAuth:!0}}];var gi=fi,hi=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",[i("div",{},[i("img",{attrs:{src:t.logo.url}})]),i("div",{staticClass:"cover-home"},[i("div",{staticClass:"row",staticStyle:{"padding-top":"40px"}},[i("div",{staticClass:"col-4"},[t._m(0),i("div",{staticClass:"cuerpo_modulo"},[i("ul",[i("li",[i("i",{staticClass:"fas fa-chevron-right"}),t._v(" "),i("router-link",{attrs:{to:{name:"TiposDePago"}}},[t._v("Tipos de pago")])],1),i("li",[i("i",{staticClass:"fas fa-chevron-right"}),t._v(" "),i("router-link",{attrs:{to:{name:"Grupos"}}},[t._v("Creación de grupos")])],1),i("li",[i("i",{staticClass:"fas fa-chevron-right"}),t._v(" "),i("router-link",{attrs:{to:{name:"TiposCicloEscolar"}}},[t._v("Ciclo Escolar")])],1),i("li",[i("i",{staticClass:"fas fa-chevron-right"}),t._v(" "),i("router-link",{attrs:{to:{name:"TiposDePagos"}}},[t._v("Control de pagos")])],1),i("li",[i("i",{staticClass:"fas fa-chevron-right"}),t._v(" "),i("router-link",{attrs:{to:{name:"TiposDeRecargos"}}},[t._v("Tipos de recargos")])],1)])])]),i("div",{staticClass:"col-4"},[t._m(1),i("div",{staticClass:"cuerpo_modulo"},[i("ul",[i("li",[i("i",{staticClass:"fas fa-chevron-right"}),t._v(" "),i("router-link",{attrs:{to:{name:"RegistroDeAlumnos"}}},[t._v("Registro de alumnos")])],1),i("li",[i("i",{staticClass:"fas fa-chevron-right"}),t._v(" "),i("router-link",{attrs:{to:{name:"RegistroDeTutores"}}},[t._v("Registro de Padre/Tutor")])],1)])])]),i("div",{staticClass:"col-4"},[t._m(2),i("div",{staticClass:"cuerpo_modulo"},[i("ul",[i("li",[i("i",{staticClass:"fas fa-chevron-right"}),t._v(" "),i("router-link",{attrs:{to:"/"}},[t._v("Lista de grupo")])],1),i("li",[i("i",{staticClass:"fas fa-chevron-right"}),t._v(" "),i("router-link",{attrs:{to:"/"}},[t._v("Lista de personas con aduedo")])],1)])])])])])])},bi=[function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"titulo_modulo"},[i("h1",[t._v("Administración")])])},function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"titulo_modulo"},[i("h1",[t._v("Alumnos")])])},function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"titulo_modulo"},[i("h1",[t._v("Reportes")])])}],_i={name:"Inicio",data(){return{logo:{url:i("3881")}}}},Ci=_i,yi=(i("969b1"),Object(A["a"])(Ci,hi,bi,!1,null,"4cb18013",null)),Ei=yi.exports,Ii=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div")},Ti=[],Di={},Ni=Object(A["a"])(Di,Ii,Ti,!1,null,null,null),Ai=Ni.exports,Pi=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"wrapper fadeInDown"},[i("base-dialog",{attrs:{show:!!t.error,title:"Log in"},on:{close:t.handleError}},[i("p",[t._v(t._s(t.error))])]),i("div",{attrs:{id:"formContent"}},[t._m(0),i("form",{on:{submit:function(o){return o.preventDefault(),t.submitForm.apply(null,arguments)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"fadeIn second",attrs:{type:"text",id:"login",name:"login",placeholder:"Usuario"},domProps:{value:t.email},on:{input:function(o){o.target.composing||(t.email=o.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"fadeIn third",attrs:{type:"password",id:"password",name:"login",placeholder:"Contraseña"},domProps:{value:t.password},on:{input:function(o){o.target.composing||(t.password=o.target.value)}}}),i("input",{staticClass:"fadeIn fourth",attrs:{type:"submit",value:"Entrar"}})]),i("div",{attrs:{id:"formFooter"}})]),t.isLoading?i("cargando"):t._e()],1)},Mi=[function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"fadeIn first"},[a("img",{staticStyle:{"max-width":"150px"},attrs:{src:i("cf05"),id:"icon",alt:"User Icon"}})])}],ki={data(){return{email:"",password:"",isLoading:!1,formIsValid:!0,error:null}},methods:{async submitForm(){this.formIsValid=!0,(""===this.email||!this.email.includes("@")||this.password.length<6)&&(this.formIsValid=!1),this.isLoading=!0;try{await this.$store.dispatch("login",{email:this.email,password:this.password});const t="/"+(this.$route.query.redirect||"inicio");this.$router.replace(t)}catch(t){console.log("err"),console.log(t),this.error=t.message||"Failed to authenticate, try later."}this.isLoading=!1},handleError(){this.error=null}}},wi=ki,$i=(i("7a70"),Object(A["a"])(wi,Pi,Mi,!1,null,"f998f20e",null)),Gi=$i.exports;a["default"].use(e["a"]);const xi=[{name:"Login",path:"/",component:Gi,meta:{requiresUnauth:!0}},{name:"Index",path:"/inicio",component:Ei,meta:{requiresAuth:!0}},{path:"/:notFound(.*)",component:Ai}];var Si=xi.concat($o).concat(gi),Fi=Si;a["default"].use(e["a"]),a["default"].use(s.a),a["default"].use(n["a"]),a["default"].use(l["a"]),a["default"].component("cargando",j),a["default"].component("TiposModalidad",q),a["default"].component("TiposCicloEscolar",K),a["default"].component("TiposGrupo",it),a["default"].component("TiposNivel",nt),a["default"].component("TiposPeriodo",vt),a["default"].component("TiposGrado",Ct),a["default"].component("TiposEspecialidad",Nt),a["default"].component("usuarios",$t),a["default"].component("base-dialog",jt),a["default"].config.productionTip=!1;const Li=new e["a"]({mode:"history",routes:Fi});Li.beforeEach((function(t,o,i){void 0==t.meta.requiresAuth&&void 0==t.meta.requiresUnauth||t.meta.requiresAuth&&!C.getters.isAuthenticated?i("/"):t.meta.requiresUnauth&&C.getters.isAuthenticated?i("/inicio"):i()})),new a["default"]({router:Li,store:C,render:t=>t(G)}).$mount("#app")},6140:function(t,o,i){},"6d4c":function(t,o,i){"use strict";i("8d9e")},"77ed":function(t,o,i){"use strict";i("0c2e")},7903:function(t,o,i){"use strict";i("fd73")},"7a70":function(t,o,i){"use strict";i("dc3d")},"7e0d":function(t,o,i){"use strict";i("ef53")},8304:function(t,o,i){"use strict";i("cc25")},"85ec":function(t,o,i){},"8d9e":function(t,o,i){},"969b1":function(t,o,i){"use strict";i("b53c")},b53c:function(t,o,i){},cc25:function(t,o,i){},cf05:function(t,o,i){t.exports=i.p+"img/logo.c2f5cbfd.png"},d187:function(t,o,i){"use strict";i("0f9b")},dc3d:function(t,o,i){},ef53:function(t,o,i){},fd73:function(t,o,i){}});
//# sourceMappingURL=app.dc8c3615.js.map