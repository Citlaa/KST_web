{"remainingRequest":"/Users/nyg/Work/NayDev/KST_web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nyg/Work/NayDev/KST_web/src/components/Catalogos/Selects/TiposRecargos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nyg/Work/NayDev/KST_web/src/components/Catalogos/Selects/TiposRecargos.vue","mtime":1657484031549},{"path":"/Users/nyg/Work/NayDev/KST_web/node_modules/cache-loader/dist/cjs.js","mtime":1657481261281},{"path":"/Users/nyg/Work/NayDev/KST_web/node_modules/babel-loader/lib/index.js","mtime":1657481269361},{"path":"/Users/nyg/Work/NayDev/KST_web/node_modules/cache-loader/dist/cjs.js","mtime":1657481261281},{"path":"/Users/nyg/Work/NayDev/KST_web/node_modules/vue-loader/lib/index.js","mtime":1657481273148}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZUFQSSBmcm9tICJAL2pzL2FwaSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgZW1pdHM6IFsic2VsZWNjaW9uYXJUaXBvRGVSZWNhcmdvIl0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbG9yOiAiLTEiLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBpdGVtczogW10sCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGxhYmVsOiBTdHJpbmcsCiAgICBmdW5jaW9uOiBTdHJpbmcsCiAgICB0aXBvRGVSZWNhcmdvSWQ6IE51bWJlciwKICAgIFRpcG9EZUNpY2xvRXNjb2xhcklkOiBOdW1iZXIsCiAgICB0aXR1bG86IHsgdHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IHRydWUgfSwKICAgIGRpc2FibGVkOiBCb29sZWFuLAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VGlwb3NEZVJlY2FyZ28oKTsKCiAgICBpZiAodGhpcy4kcHJvcHMudGlwb0RlUmVjYXJnb0lkID4gMCkgdGhpcy52YWxvciA9IHRoaXMuJHByb3BzLnRpcG9EZVJlY2FyZ29JZDsKICB9LAogIGNvbXB1dGVkOiB7fSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBnZXRUaXBvc0RlUmVjYXJnbygpIHsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CgogICAgICAgIGNvbnN0IGZpbHRyb3MgPSB7CiAgICAgICAgICBmaWx0cm86IHsKICAgICAgICAgICAgYWN0aXZvOiAxLAogICAgICAgICAgfSwKICAgICAgICB9OwoKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoCiAgICAgICAgICByb3V0ZUFQSSArICJhZG1pbmlzdHJhY2lvbi90aXBvc0RlUmVjYXJnbyIsCiAgICAgICAgICBmaWx0cm9zCiAgICAgICAgKTsKICAgICAgICAKICAgICAgICBpZiAoIXJlc3BvbnNlLmRhdGEuaGF5RXJyb3IpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJlc3BvbnNlLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5yZXNwb25zZS5mb3JFYWNoKChlbGVtZW50KSA9PiB7ICAgICAgICAgICAgICAKICAgICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2goewogICAgICAgICAgICAgICAgVGlwb0RlUmVjYXJnb0lkOiBlbGVtZW50WyIwMDNUaXBvRGVSZWNhcmdvSWQiXSwKICAgICAgICAgICAgICAgIE5vbWJyZTogZWxlbWVudFsiMDAzTm9tYnJlIl0sCiAgICAgICAgICAgICAgICBNb250bzogIiQiICsgZWxlbWVudFsiMDAzTW9udG8iXSwKICAgICAgICAgICAgICAgIFRpcG9EZUNpY2xvRXNjb2xhcklkOiBOdW1iZXIoZWxlbWVudFsiMDAzVGlwb0RlQ2ljbG9Fc2NvbGFySWQiXSksICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgQWN0aXZvOiBlbGVtZW50WyIwMDNBY3Rpdm8iXSwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZih0aGlzLiRwcm9wcy5UaXBvRGVDaWNsb0VzY29sYXJJZCA+IDApewogICAgICAgICAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLml0ZW1zLmZpbHRlcihpID0+IGkuVGlwb0RlQ2ljbG9Fc2NvbGFySWQgPT0gdGhpcy4kcHJvcHMuVGlwb0RlQ2ljbG9Fc2NvbGFySWQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgIHRoaXMuJGFsZXJ0KAogICAgICAgICAgICAiTm8gc2UgcHVkbyBvYnRlbmVyIGluZm9ybWFjacOzbiwgZmF2b3IgZGUgdm9sdmVybG8gYSBpbnRlbnRhci4iCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9CiAgICB9LAogICAgc2VsZWNjaW9uYXI6IGZ1bmN0aW9uKCkgewoKICAgICAgbGV0IF9pdGVtID0gdGhpcy5pdGVtcy5maW5kKGkgPT4gaS5UaXBvRGVSZWNhcmdvSWQgPT09IHRoaXMudmFsb3IpOwoKICAgICAgdGhpcy52YWxvciA+IDAKICAgICAgICA/IHRoaXMuJGVtaXQodGhpcy4kcHJvcHMuZnVuY2lvbiwgeyBUaXBvRGVSZWNhcmdvSWQ6IHRoaXMudmFsb3IsIE5vbWJyZTogX2l0ZW0uTm9tYnJlLCBNb250bzogX2l0ZW0uTW9udG99KQogICAgICAgIDogdGhpcy4kZW1pdCh0aGlzLiRwcm9wcy5mdW5jaW9uLCBudWxsKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["TiposRecargos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"TiposRecargos.vue","sourceRoot":"src/components/Catalogos/Selects","sourcesContent":["<template>\n  <div>\n    <div class=\"col-12\">\n      <label v-if=\"titulo\" class=\"activo_label\">{{ label }}</label>\n      <select\n        class=\"form-control\"\n        v-model=\"valor\"\n        @change=\"seleccionar()\"\n        :disabled=\"disabled\"\n      >\n        <option value=\"-1\">Seleccionar recargo</option>\n        <option\n          v-for=\"(element, index) in items\"\n          :key=\"index\"\n          :value=\"element['TipoDeRecargoId']\"\n          >{{ element[\"Nombre\"] }}</option\n        >\n      </select>\n    </div>\n    <cargando v-if=\"isLoading\"></cargando>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport routeAPI from \"@/js/api\";\n\nexport default {\n  emits: [\"seleccionarTipoDeRecargo\"],\n  data() {\n    return {\n      valor: \"-1\",\n      isLoading: false,\n      items: [],\n    };\n  },\n  props: {\n    label: String,\n    funcion: String,\n    tipoDeRecargoId: Number,\n    TipoDeCicloEscolarId: Number,\n    titulo: { type: Boolean, required: true, default: true },\n    disabled: Boolean,\n  },\n  created() {\n    this.getTiposDeRecargo();\n\n    if (this.$props.tipoDeRecargoId > 0) this.valor = this.$props.tipoDeRecargoId;\n  },\n  computed: {},\n  methods: {\n    async getTiposDeRecargo() {\n      try {\n        this.isLoading = true;\n\n        const filtros = {\n          filtro: {\n            activo: 1,\n          },\n        };\n\n        const response = await axios.post(\n          routeAPI + \"administracion/tiposDeRecargo\",\n          filtros\n        );\n        \n        if (!response.data.hayError) {\n          if (response.data.response.length > 0) {\n            response.data.response.forEach((element) => {              \n              this.items.push({\n                TipoDeRecargoId: element[\"003TipoDeRecargoId\"],\n                Nombre: element[\"003Nombre\"],\n                Monto: \"$\" + element[\"003Monto\"],\n                TipoDeCicloEscolarId: Number(element[\"003TipoDeCicloEscolarId\"]),                \n                Activo: element[\"003Activo\"],\n              });\n            });\n\n            if(this.$props.TipoDeCicloEscolarId > 0){\n              this.items = this.items.filter(i => i.TipoDeCicloEscolarId == this.$props.TipoDeCicloEscolarId);\n            }\n          }\n        } else {\n          console.log(response);\n          this.$alert(\n            \"No se pudo obtener informaciÃ³n, favor de volverlo a intentar.\"\n          );\n        }\n        this.isLoading = false;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    seleccionar: function() {\n\n      let _item = this.items.find(i => i.TipoDeRecargoId === this.valor);\n\n      this.valor > 0\n        ? this.$emit(this.$props.funcion, { TipoDeRecargoId: this.valor, Nombre: _item.Nombre, Monto: _item.Monto})\n        : this.$emit(this.$props.funcion, null);\n    },\n  },\n};\n</script>\n"]}]}