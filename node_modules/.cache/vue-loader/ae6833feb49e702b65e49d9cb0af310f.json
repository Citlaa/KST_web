{"remainingRequest":"/Users/nyg/Work/NayDev/KST_web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nyg/Work/NayDev/KST_web/src/components/Catalogos/Selects/EscuelasProcedencia.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nyg/Work/NayDev/KST_web/src/components/Catalogos/Selects/EscuelasProcedencia.vue","mtime":1657484032623},{"path":"/Users/nyg/Work/NayDev/KST_web/node_modules/cache-loader/dist/cjs.js","mtime":1657481261281},{"path":"/Users/nyg/Work/NayDev/KST_web/node_modules/babel-loader/lib/index.js","mtime":1657481269361},{"path":"/Users/nyg/Work/NayDev/KST_web/node_modules/cache-loader/dist/cjs.js","mtime":1657481261281},{"path":"/Users/nyg/Work/NayDev/KST_web/node_modules/vue-loader/lib/index.js","mtime":1657481273148}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZUFQSSBmcm9tICJAL2pzL2FwaSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbG9yOiAiLTEiLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBpdGVtczogW10sCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGVzY3VlbGFJZDogTnVtYmVyLAogICAgbGFiZWw6IFN0cmluZywKICAgIGZ1bmNpb246IFN0cmluZywKICAgIHRpcG9EZUNpY2xvRXNjb2xhcklkOiBOdW1iZXIsCiAgICB0aXR1bG86IHsgdHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IHRydWUgfSwKICAgIGRpc2FibGVkOiBCb29sZWFuLAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RXNjdWVsYXMoKTsKCiAgICBpZiAodGhpcy4kcHJvcHMuZXNjdWVsYUlkID4gMCkKICAgICAgdGhpcy52YWxvciA9IHRoaXMuJHByb3BzLmVzY3VlbGFJZDsKICB9LAogIGNvbXB1dGVkOiB7fSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBnZXRFc2N1ZWxhcygpIHsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CgogICAgICAgIGNvbnN0IGZpbHRyb3MgPSB7CiAgICAgICAgICBmaWx0cm86IHsKICAgICAgICAgICAgYWN0aXZvOiAxLAogICAgICAgICAgfSwKICAgICAgICB9OwoKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoCiAgICAgICAgICByb3V0ZUFQSSArICJjYXRhbG9nby9lc2N1ZWxhcyIsCiAgICAgICAgICBmaWx0cm9zCiAgICAgICAgKTsKCiAgICAgICAgaWYgKCFyZXNwb25zZS5kYXRhLmhheUVycm9yKXsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJlc3BvbnNlLmxlbmd0aCA+IDApewogICAgICAgICAgICByZXNwb25zZS5kYXRhLnJlc3BvbnNlLmZvckVhY2goKGVsZW1lbnQpID0+IHsKICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHsKICAgICAgICAgICAgICBFc2N1ZWxhSWQ6IGVsZW1lbnRbIjAxNUVzY3VlbGFEZVByb2NlZGVuY2lhSWQiXSwKICAgICAgICAgICAgICBOb21icmU6IGVsZW1lbnRbIjAxNU5vbWJyZSJdLAogICAgICAgICAgICAgIEFjdGl2bzogZWxlbWVudFsiMDE1QWN0aXZvIl0sCiAgICAgICAgICAgIH0pOwogICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH1lbHNlewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICB0aGlzLiRhbGVydCgKICAgICAgICAgICJObyBzZSBwdWRvIG9idGVuZXIgaW5mb3JtYWNpw7NuLCBmYXZvciBkZSB2b2x2ZXJsbyBhIGludGVudGFyLiIKICAgICAgICApOyAKICAgICAgfQogICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY2Npb25hcjogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMudmFsb3IgPiAwCiAgICAgICAgPyB0aGlzLiRlbWl0KHRoaXMuJHByb3BzLmZ1bmNpb24sIHRoaXMudmFsb3IpCiAgICAgICAgOiB0aGlzLiRlbWl0KHRoaXMuJHByb3BzLmZ1bmNpb24sIG51bGwpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["EscuelasProcedencia.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EscuelasProcedencia.vue","sourceRoot":"src/components/Catalogos/Selects","sourcesContent":["<template>\n  <section>\n    <div class=\"col-12\">\n      <label v-if=\"titulo\" class=\"activo_label\">{{ label }}</label>\n      <select\n        class=\"form-control\"\n        v-model=\"valor\"\n        @change=\"seleccionar()\"\n        :disabled=\"disabled\"\n      >\n        <option value=\"-1\">Seleccionar Escuela</option>\n        <option\n          v-for=\"(element, index) in items\"\n          :key=\"index\"\n          :value=\"element['EscuelaId']\"\n          >{{ element[\"Nombre\"] }}</option\n        >\n      </select>\n    </div>\n  </section>\n</template>\n<script>\nimport axios from \"axios\";\nimport routeAPI from \"@/js/api\";\n\nexport default {\n  data() {\n    return {\n      valor: \"-1\",\n      isLoading: false,\n      items: [],\n    };\n  },\n  props: {\n    escuelaId: Number,\n    label: String,\n    funcion: String,\n    tipoDeCicloEscolarId: Number,\n    titulo: { type: Boolean, required: true, default: true },\n    disabled: Boolean,\n  },\n  created() {\n    this.getEscuelas();\n\n    if (this.$props.escuelaId > 0)\n      this.valor = this.$props.escuelaId;\n  },\n  computed: {},\n  methods: {\n    async getEscuelas() {\n      try {\n        this.isLoading = true;\n\n        const filtros = {\n          filtro: {\n            activo: 1,\n          },\n        };\n\n        const response = await axios.post(\n          routeAPI + \"catalogo/escuelas\",\n          filtros\n        );\n\n        if (!response.data.hayError){\n          if (response.data.response.length > 0){\n            response.data.response.forEach((element) => {\n            this.items.push({\n              EscuelaId: element[\"015EscuelaDeProcedenciaId\"],\n              Nombre: element[\"015Nombre\"],\n              Activo: element[\"015Activo\"],\n            });\n           });\n          }\n        }else{\n        console.log(response);\n        this.$alert(\n          \"No se pudo obtener informaciÃ³n, favor de volverlo a intentar.\"\n        ); \n      }\n        this.isLoading = false;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    seleccionar: function() {\n      this.valor > 0\n        ? this.$emit(this.$props.funcion, this.valor)\n        : this.$emit(this.$props.funcion, null);\n    },\n  },\n};\n</script>\n"]}]}