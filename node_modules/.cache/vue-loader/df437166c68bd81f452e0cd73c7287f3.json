{"remainingRequest":"/Users/nyg/Work/NayDev/KST_web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nyg/Work/NayDev/KST_web/src/components/Catalogos/Selects/EstructurasGrupos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nyg/Work/NayDev/KST_web/src/components/Catalogos/Selects/EstructurasGrupos.vue","mtime":1657484032489},{"path":"/Users/nyg/Work/NayDev/KST_web/node_modules/cache-loader/dist/cjs.js","mtime":1657481261281},{"path":"/Users/nyg/Work/NayDev/KST_web/node_modules/babel-loader/lib/index.js","mtime":1657481269361},{"path":"/Users/nyg/Work/NayDev/KST_web/node_modules/cache-loader/dist/cjs.js","mtime":1657481261281},{"path":"/Users/nyg/Work/NayDev/KST_web/node_modules/vue-loader/lib/index.js","mtime":1657481273148}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZUFQSSBmcm9tICJAL2pzL2FwaSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbG9yOiAiLTEiLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBpdGVtczogW10sCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGxhYmVsOiBTdHJpbmcsCiAgICBmdW5jaW9uOiBTdHJpbmcsCiAgICB0aXBvRGVHcnVwb0lkOiBOdW1iZXIsCiAgICB0aXR1bG86IHsgdHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IHRydWUgfSwKICAgIGZpbHRyb3NFc3RhYmxlY2lkb3M6IHt9LCAgICAKICAgIGRpc2FibGVkOiBCb29sZWFuLAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0R3J1cG9zKCk7CgogICAgaWYgKHRoaXMuJHByb3BzLnRpcG9EZUdydXBvSWQgPiAwKSB0aGlzLnZhbG9yID0gdGhpcy4kcHJvcHMudGlwb0RlR3J1cG9JZDsKICB9LAogIGNvbXB1dGVkOiB7fSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBnZXRHcnVwb3MoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICAgIHRoaXMuaXRlbXMgPSBbXTsKICAgICAgICBjb25zdCBmaWx0cm9zID0gewogICAgICAgICAgZmlsdHJvOiB7CiAgICAgICAgICAgIGFjdGl2bzogMSwKICAgICAgICAgIH0sCiAgICAgICAgfTsKCiAgICAgICAgaWYgKHRoaXMuZmlsdHJvc0VzdGFibGVjaWRvcy5maWx0cm9fY2ljbG9Fc2NvbGFyICE9ICIiKQogICAgICAgICAgZmlsdHJvcy5maWx0cm8uY2ljbG9Fc2NvbGFyID0gdGhpcy5maWx0cm9zRXN0YWJsZWNpZG9zLmZpbHRyb19jaWNsb0VzY29sYXI7CiAgICAgICAgaWYgKHRoaXMuZmlsdHJvc0VzdGFibGVjaWRvcy5maWx0cm9fbml2ZWwgIT0gIiIpCiAgICAgICAgICBmaWx0cm9zLmZpbHRyby5uaXZlbCA9IE51bWJlcih0aGlzLmZpbHRyb3NFc3RhYmxlY2lkb3MuZmlsdHJvX25pdmVsKTsKICAgICAgICBpZiAodGhpcy5maWx0cm9zRXN0YWJsZWNpZG9zLmZpbHRyb19tb2RhbGlkYWQgIT0gIiIpCiAgICAgICAgICBmaWx0cm9zLmZpbHRyby5tb2RhbGlkYWQgPSBOdW1iZXIoCiAgICAgICAgICAgIHRoaXMuZmlsdHJvc0VzdGFibGVjaWRvcy5maWx0cm9fbW9kYWxpZGFkCiAgICAgICAgICApOwogICAgICAgIGlmICh0aGlzLmZpbHRyb3NFc3RhYmxlY2lkb3MuZmlsdHJvX3BlcmlvZG8gIT0gIiIpCiAgICAgICAgICBmaWx0cm9zLmZpbHRyby5wZXJpb2RvID0gTnVtYmVyKAogICAgICAgICAgICB0aGlzLmZpbHRyb3NFc3RhYmxlY2lkb3MuZmlsdHJvX3BlcmlvZG8KICAgICAgICAgICk7CiAgICAgICAgaWYgKHRoaXMuZmlsdHJvc0VzdGFibGVjaWRvcy5maWx0cm9fZ3JhZG8gIT0gIiIpCiAgICAgICAgICBmaWx0cm9zLmZpbHRyby5ncmFkbyA9IE51bWJlcih0aGlzLmZpbHRyb3NFc3RhYmxlY2lkb3MuZmlsdHJvX2dyYWRvKTsKCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KAogICAgICAgICAgcm91dGVBUEkgKyAiYWRtaW5pc3RyYWNpb24vZXN0cnVjdHVyYXNEZUdydXBvTm9tYnJlcyIsCiAgICAgICAgICBmaWx0cm9zCiAgICAgICAgKTsKICAgICAgICAKICAgICAgICBpZiAoIXJlc3BvbnNlLmRhdGEuaGF5RXJyb3IpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJlc3BvbnNlLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5yZXNwb25zZS5mb3JFYWNoKChlbGVtZW50KSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHsKICAgICAgICAgICAgICAgIEVzdHJ1Y3R1cmFEZUdydXBvSWQ6IGVsZW1lbnRbIjAxMEVzdHJ1Y3R1cmFEZUdydXBvSWQiXSwKICAgICAgICAgICAgICAgIFRpcG9Nb2RhbGlkYWQ6IGVsZW1lbnRbIjAwNE5vbWJyZU1vZGFsaWRhZCJdLAogICAgICAgICAgICAgICAgVGlwb0RlR3J1cG86IGVsZW1lbnRbIjAwNk5vbWJyZUdydXBvIl0sCiAgICAgICAgICAgICAgICBUaXBvR3JhZG86IGVsZW1lbnRbIjAwOE5vbWJyZUdyYWRvIl0sCiAgICAgICAgICAgICAgICBBY3Rpdm86IGVsZW1lbnRbIjAxMEFjdGl2byJdLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UKICAgICAgICAgIHRoaXMuJGFsZXJ0KAogICAgICAgICAgICAiTm8gc2UgcHVkbyBvYnRlbmVyIGluZm9ybWFjacOzbiwgZmF2b3IgZGUgdm9sdmVybG8gYSBpbnRlbnRhci4iCiAgICAgICAgICApOwoKICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9CiAgICB9LAogICAgc2VsZWNjaW9uYXI6IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLnZhbG9yID4gMAogICAgICAgID8gdGhpcy4kZW1pdCh0aGlzLiRwcm9wcy5mdW5jaW9uLCB0aGlzLnZhbG9yKQogICAgICAgIDogdGhpcy4kZW1pdCh0aGlzLiRwcm9wcy5mdW5jaW9uLCBudWxsKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["EstructurasGrupos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EstructurasGrupos.vue","sourceRoot":"src/components/Catalogos/Selects","sourcesContent":["<template>\n  <section>\n    <div class=\"col-12\">\n      <label v-if=\"titulo\" class=\"activo_label\">{{ label }}</label>\n      <select\n        class=\"form-control\"\n        v-model=\"valor\"\n        @change=\"seleccionar()\"\n        :disabled=\"disabled\"\n      >\n        <option value=\"-1\">Seleccionar Grupo</option>\n        <option\n          v-for=\"(element, index) in items\"\n          :key=\"index\"\n          :value=\"element['EstructuraDeGrupoId']\"\n          >{{element[\"TipoGrado\"]}} {{element[\"TipoDeGrupo\"]}} - {{element[\"TipoModalidad\"]}}</option\n        >\n      </select>\n    </div>\n  </section>\n</template>\n<script>\nimport axios from \"axios\";\nimport routeAPI from \"@/js/api\";\n\nexport default {\n  data() {\n    return {\n      valor: \"-1\",\n      isLoading: false,\n      items: [],\n    };\n  },\n  props: {\n    label: String,\n    funcion: String,\n    tipoDeGrupoId: Number,\n    titulo: { type: Boolean, required: true, default: true },\n    filtrosEstablecidos: {},    \n    disabled: Boolean,\n  },\n  created() {\n    this.getGrupos();\n\n    if (this.$props.tipoDeGrupoId > 0) this.valor = this.$props.tipoDeGrupoId;\n  },\n  computed: {},\n  methods: {\n    async getGrupos() {\n      try {\n        this.isLoading = true;\n        this.items = [];\n        const filtros = {\n          filtro: {\n            activo: 1,\n          },\n        };\n\n        if (this.filtrosEstablecidos.filtro_cicloEscolar != \"\")\n          filtros.filtro.cicloEscolar = this.filtrosEstablecidos.filtro_cicloEscolar;\n        if (this.filtrosEstablecidos.filtro_nivel != \"\")\n          filtros.filtro.nivel = Number(this.filtrosEstablecidos.filtro_nivel);\n        if (this.filtrosEstablecidos.filtro_modalidad != \"\")\n          filtros.filtro.modalidad = Number(\n            this.filtrosEstablecidos.filtro_modalidad\n          );\n        if (this.filtrosEstablecidos.filtro_periodo != \"\")\n          filtros.filtro.periodo = Number(\n            this.filtrosEstablecidos.filtro_periodo\n          );\n        if (this.filtrosEstablecidos.filtro_grado != \"\")\n          filtros.filtro.grado = Number(this.filtrosEstablecidos.filtro_grado);\n\n        const response = await axios.post(\n          routeAPI + \"administracion/estructurasDeGrupoNombres\",\n          filtros\n        );\n        \n        if (!response.data.hayError) {\n          if (response.data.response.length > 0) {\n            response.data.response.forEach((element) => {\n              this.items.push({\n                EstructuraDeGrupoId: element[\"010EstructuraDeGrupoId\"],\n                TipoModalidad: element[\"004NombreModalidad\"],\n                TipoDeGrupo: element[\"006NombreGrupo\"],\n                TipoGrado: element[\"008NombreGrado\"],\n                Activo: element[\"010Activo\"],\n              });\n            });\n          }\n        } else\n          this.$alert(\n            \"No se pudo obtener informaciÃ³n, favor de volverlo a intentar.\"\n          );\n\n        this.isLoading = false;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    seleccionar: function() {\n      this.valor > 0\n        ? this.$emit(this.$props.funcion, this.valor)\n        : this.$emit(this.$props.funcion, null);\n    },\n  },\n};\n</script>\n"]}]}